/*! For license information please see main.e5d0bcfd.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:S.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+_(l,0):s,x(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),I(a,t,i,"",function(e){return e})):null!=a&&(N(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+_(o=e[c],c);l+=I(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,i,u=s+_(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},R={transition:null},D={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,R(E);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,v(N),N=-1),p=!0;var s=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!I());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(x,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,T=null,N=-1,C=5,_=-1;function I(){return!(t.unstable_now()-_<C)}function P(){if(null!==T){var e=t.unstable_now();_=e;var n=!0;try{n=T(!0,e)}finally{n?S():(k=!1,T=null)}}else k=!1}if("function"===typeof b)S=function(){b(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,j=A.port2;A.port1.onmessage=P,S=function(){j.postMessage(null)}}else S=function(){y(P,0)};function R(e){T=e,k||(k=!0,S())}function D(e,n){N=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(N),N=-1):g=!0,D(x,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,R(E))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,L=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(qs){var r=qs}Reflect.construct(e,[],t)}else{try{t.call()}catch(qs){r=qs}e.call(t.prototype)}else{try{throw Error()}catch(qs){r=qs}e()}}catch(qs){if(qs&&r&&"string"===typeof qs.stack){for(var i=qs.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case T:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(ou){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,ke=null;function Te(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),Ee(e.stateNode,e.type,t))}}function Ne(e){Se?ke?ke.push(e):ke=[e]:Se=e}function Ce(){if(Se){var e=Se,t=ke;if(ke=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function _e(e,t){return e(t)}function Ie(){}var Pe=!1;function Ae(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return _e(e,t,n)}finally{Pe=!1,(null!==Se||null!==ke)&&(Ie(),Ce())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Re=!1}function Oe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Le=null,Fe=!1,Ve=null,Ue={onError:function(e){Me=!0,Le=e}};function Be(e,t,n,r,i,s,a,o,l){Me=!1,Le=null,Oe.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(s(188))}function We(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qe(i),e;if(a===r)return qe(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,Et,St,kt,Tt,Nt=!1,Ct=[],_t=null,It=null,Pt=null,At=new Map,jt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Tt(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Nt=!1,null!==_t&&Ft(_t)&&(_t=null),null!==It&&Ft(It)&&(It=null),null!==Pt&&Ft(Pt)&&(Pt=null),At.forEach(Vt),jt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Bt(_t,e),null!==It&&Bt(It,e),null!==Pt&&Bt(Pt,e),At.forEach(t),jt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var Ht=w.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=bt,s=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Ht.transition=s}}function Kt(e,t,n,r){var i=bt,s=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Ht.transition=s}}function Gt(e,t,n,r){if(qt){var i=Yt(e,t,n,r);if(null===i)qr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return _t=Mt(_t,e,t,n,r,i),!0;case"dragenter":return It=Mt(It,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return At.set(s,Mt(At.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,jt.set(s,Mt(jt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&xt(s),null===(s=Yt(e,t,n,r))&&qr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=xe(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=L({},cn,{view:0,detail:0}),dn=sn(hn),fn=L({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(L({},fn,{dataTransfer:0})),gn=sn(L({},hn,{relatedTarget:0})),yn=sn(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(vn),wn=sn(L({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return kn}var Nn=L({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(Nn),_n=sn(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(L({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Pn=sn(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=sn(An),Rn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Mn=u&&"TextEvent"in window&&!On,Ln=u&&(!Dn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ne(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,xe(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function sr(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},kr={};function Tr(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Sr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Nr=Tr("animationend"),Cr=Tr("animationiteration"),_r=Tr("animationstart"),Ir=Tr("transitionend"),Pr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Pr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Dr=Ar[Rr];jr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}jr(Nr,"onAnimationEnd"),jr(Cr,"onAnimationIteration"),jr(_r,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=Le;Me=!1,Le=null,Fe||(Fe=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,o,c),s=l}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,a.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=vi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ae(function(){var r=s,i=xe(n),a=[];e:{var o=Pr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Nr:case Cr:case _r:l=yn;break;case Ir:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=jn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=je(p,d))&&u.push(Wr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:wi(l),f=null==c?o:wi(c),(o=new u(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,vi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==h&&Qr(a,h,c,u,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xn;else if(qn(o))if($n)g=ar;else{g=ir;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?wi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(y=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Bn(n))&&(b.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Fr(a,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=je(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=je(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=je(n,s))&&a.unshift(Wr(n,l,o)):i||null!=(l=je(n,s))&&a.push(Wr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[fi]||null}var Ei=[],Si=-1;function ki(e){return{current:e}}function Ti(e){0>Si||(e.current=Ei[Si],Ei[Si]=null,Si--)}function Ni(e,t){Si++,Ei[Si]=e.current,e.current=t}var Ci={},_i=ki(Ci),Ii=ki(!1),Pi=Ci;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ji(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ti(Ii),Ti(_i)}function Di(e,t,n){if(_i.current!==Ci)throw Error(s(168));Ni(_i,t),Ni(Ii,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,H(e)||"Unknown",i));return L({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Pi=_i.current,Ni(_i,e),Ni(Ii,Ii.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ii),Ti(_i),Ni(_i,e)):Ti(Ii),Ni(Ii,n)}var Fi=null,Vi=!1,Ui=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,zi),i}finally{bt=t,Ui=!1}}return null}var Hi=[],qi=0,Wi=null,Ki=0,Gi=[],Qi=0,Yi=null,Xi=1,$i="";function Ji(e,t){Hi[qi++]=Ki,Hi[qi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,$i=s+e}else Xi=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=Hi[--qi],Hi[qi]=null,Ki=Hi[--qi],Hi[qi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Fc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===j&&vs(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Vc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Uc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Vc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case E:return(t=Hc(t,e.mode,n)).return=e,t;case j:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Uc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case j:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:h(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,o[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=a(y,s,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===o.length)return n(i,h),is&&Ji(i,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Ji(i,m),c}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),is&&Ji(i,m),c}function g(i,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===h?u=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(o=a(v,o,g),null===h?u=v:h.sibling=v,h=v);return is&&Ji(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach(function(e){return t(i,e)}),is&&Ji(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===j&&vs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((s=Uc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Vc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case E:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Hc(a,r.mode,l)).return=r,r=s}return o(r);case j:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(O(a))return g(r,s,a,l);ys(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=zc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),xs=bs(!1),Es=ki(null),Ss=null,ks=null,Ts=null;function Ns(){Ts=ks=Ss=null}function Cs(e){var t=Es.current;Ti(Es),e._currentValue=t}function _s(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){Ss=e,Ts=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(So=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Ss)throw Error(s(308));ks=e,Ss.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var As=null;function js(e){null===As?As=[e]:As.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,js(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Os=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,js(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Bs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hs(e,t,n,r){var i=e.updateQueue;Os=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=L({},h,d);break e;case 2:Os=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Bl|=a,e.lanes=a,e.memoizedState=h}}function Ws(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ks={},Gs=ki(Ks),Qs=ki(Ks),Ys=ki(Ks);function Xs(e){if(e===Ks)throw Error(s(174));return e}function $s(e,t){switch(Ni(Ys,t),Ni(Qs,e),Ni(Gs,Ks),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Gs),Ni(Gs,t)}function Js(){Ti(Gs),Ti(Qs),Ti(Ys)}function ea(e){Xs(Ys.current);var t=Xs(Gs.current),n=le(t,e.type);t!==n&&(Ni(Qs,e),Ni(Gs,n))}function ta(e){Qs.current===e&&(Ti(Gs),Ti(Qs))}var na=ki(0);function ia(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sa=[];function aa(){for(var e=0;e<sa.length;e++)sa[e]._workInProgressVersionPrimary=null;sa.length=0}var oa=w.ReactCurrentDispatcher,la=w.ReactCurrentBatchConfig,ca=0,ua=null,ha=null,da=null,fa=!1,pa=!1,ma=0,ga=0;function ya(){throw Error(s(321))}function va(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ba(e,t,n,r,i,a){if(ca=a,ua=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?no:ro,e=n(r,i),pa){a=0;do{if(pa=!1,ma=0,25<=a)throw Error(s(301));a+=1,da=ha=null,t.updateQueue=null,oa.current=io,e=n(r,i)}while(pa)}if(oa.current=to,t=null!==ha&&null!==ha.next,ca=0,da=ha=ua=null,fa=!1,t)throw Error(s(300));return e}function wa(){var e=0!==ma;return ma=0,e}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===da?ua.memoizedState=da=e:da=da.next=e,da}function Ea(){if(null===ha){var e=ua.alternate;e=null!==e?e.memoizedState:null}else e=ha.next;var t=null===da?ua.memoizedState:da.next;if(null!==t)da=t,ha=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ha=e).memoizedState,baseState:ha.baseState,baseQueue:ha.baseQueue,queue:ha.queue,next:null},null===da?ua.memoizedState=da=e:da=da.next=e}return da}function Sa(e,t){return"function"===typeof t?t(e):t}function ka(e){var t=Ea(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ha,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((ca&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,ua.lanes|=h,Bl|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(So=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ua.lanes|=a,Bl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=Ea(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(So=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Na(){}function Ca(e,t){var n=ua,r=Ea(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,So=!0),r=r.queue,Va(Pa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==da&&1&da.memoizedState.tag){if(n.flags|=2048,Da(9,Ia.bind(null,n,r,i,t),void 0,null),null===Dl)throw Error(s(349));0!==(30&ca)||_a(n,t,i)}return i}function _a(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ia(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&ja(e)}function Pa(e,t,n){return n(function(){Aa(t)&&ja(e)})}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function ja(e){var t=Ds(e,1);null!==t&&oc(t,e,1,-1)}function Ra(e){var t=xa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t.queue=e,e=e.dispatch=$a.bind(null,ua,e),[t.memoizedState,e]}function Da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oa(){return Ea().memoizedState}function Ma(e,t,n,r){var i=xa();ua.flags|=e,i.memoizedState=Da(1|t,n,void 0,void 0===r?null:r)}function La(e,t,n,r){var i=Ea();r=void 0===r?null:r;var s=void 0;if(null!==ha){var a=ha.memoizedState;if(s=a.destroy,null!==r&&va(r,a.deps))return void(i.memoizedState=Da(t,n,s,r))}ua.flags|=e,i.memoizedState=Da(1|t,n,s,r)}function Fa(e,t){return Ma(8390656,8,e,t)}function Va(e,t){return La(2048,8,e,t)}function Ua(e,t){return La(4,2,e,t)}function Ba(e,t){return La(4,4,e,t)}function za(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ha(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,La(4,4,za.bind(null,t,e),n)}function qa(){}function Wa(e,t){var n=Ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ka(e,t){var n=Ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ga(e,t,n){return 0===(21&ca)?(e.baseState&&(e.baseState=!1,So=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ua.lanes|=n,Bl|=n,e.baseState=!0),t)}function Qa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=la.transition;la.transition={};try{e(!1),t()}finally{bt=n,la.transition=r}}function Ya(){return Ea().memoizedState}function Xa(e,t,n){var r=ac(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ja(e))Za(t,n);else if(null!==(n=Rs(e,t,n,r))){oc(n,e,r,sc()),eo(n,t,r)}}function $a(e,t,n){var r=ac(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))Za(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,js(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(qs){}null!==(n=Rs(e,t,i,r))&&(oc(n,e,r,i=sc()),eo(n,t,r))}}function Ja(e){var t=e.alternate;return e===ua||null!==t&&t===ua}function Za(e,t){pa=fa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var to={readContext:Ps,useCallback:ya,useContext:ya,useEffect:ya,useImperativeHandle:ya,useInsertionEffect:ya,useLayoutEffect:ya,useMemo:ya,useReducer:ya,useRef:ya,useState:ya,useDebugValue:ya,useDeferredValue:ya,useTransition:ya,useMutableSource:ya,useSyncExternalStore:ya,useId:ya,unstable_isNewReconciler:!1},no={readContext:Ps,useCallback:function(e,t){return xa().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Fa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ma(4194308,4,za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var n=xa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xa.bind(null,ua,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xa().memoizedState=e},useState:Ra,useDebugValue:qa,useDeferredValue:function(e){return xa().memoizedState=e},useTransition:function(){var e=Ra(!1),t=e[0];return e=Qa.bind(null,e[1]),xa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ua,i=xa();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Dl)throw Error(s(349));0!==(30&ca)||_a(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Fa(Pa.bind(null,r,a,e),[e]),r.flags|=2048,Da(9,Ia.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=xa(),t=Dl.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=ma++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ga++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ro={readContext:Ps,useCallback:Wa,useContext:Ps,useEffect:Va,useImperativeHandle:Ha,useInsertionEffect:Ua,useLayoutEffect:Ba,useMemo:Ka,useReducer:ka,useRef:Oa,useState:function(){return ka(Sa)},useDebugValue:qa,useDeferredValue:function(e){return Ga(Ea(),ha.memoizedState,e)},useTransition:function(){return[ka(Sa)[0],Ea().memoizedState]},useMutableSource:Na,useSyncExternalStore:Ca,useId:Ya,unstable_isNewReconciler:!1},io={readContext:Ps,useCallback:Wa,useContext:Ps,useEffect:Va,useImperativeHandle:Ha,useInsertionEffect:Ua,useLayoutEffect:Ba,useMemo:Ka,useReducer:Ta,useRef:Oa,useState:function(){return Ta(Sa)},useDebugValue:qa,useDeferredValue:function(e){var t=Ea();return null===ha?t.memoizedState=e:Ga(t,ha.memoizedState,e)},useTransition:function(){return[Ta(Sa)[0],Ea().memoizedState]},useMutableSource:Na,useSyncExternalStore:Ca,useId:Ya,unstable_isNewReconciler:!1};function so(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ao(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oo={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=sc(),i=ac(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(oc(t,e,i,r),Bs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=sc(),i=ac(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(oc(t,e,i,r),Bs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sc(),r=ac(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vs(e,i,r))&&(oc(t,e,r,n),Bs(t,e,r))}};function lo(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function co(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(i=ji(t)?Pi:_i.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function uo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oo.enqueueReplaceState(t,t.state,null)}function ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ms(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ps(s):(s=ji(t)?Pi:_i.current,i.context=Ai(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ao(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&oo.enqueueReplaceState(i,i.state,null),Hs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function fo(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function po(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function mo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var go="function"===typeof WeakMap?WeakMap:Map;function yo(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yl||(Yl=!0,Xl=r),mo(0,t)},n}function vo(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){mo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){mo(0,t),"function"!==typeof r&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function bo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new go;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Pc.bind(null,e,t,n),t.then(e,e))}function wo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Vs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Eo=w.ReactCurrentOwner,So=!1;function ko(e,t,n,r){t.child=null===e?xs(t,null,n,r):ws(t,e.child,n,r)}function To(e,t,n,r,i){n=n.render;var s=t.ref;return Is(t,i),r=ba(e,t,n,r,s,i),n=wa(),null===e||So?(is&&n&&es(t),t.flags|=1,ko(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yo(e,t,i))}function No(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Lc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,_o(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Yo(e,t,i)}return t.flags|=1,(e=Fc(s,r)).ref=t.ref,e.return=t,t.child=e}function _o(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(So=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Yo(e,t,i);0!==(131072&e.flags)&&(So=!0)}}return Ao(e,t,n,r,i)}function Io(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ni(Fl,Ll),Ll|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ni(Fl,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ni(Fl,Ll),Ll|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ni(Fl,Ll),Ll|=r;return ko(e,t,i,n),t.child}function Po(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ao(e,t,n,r,i){var s=ji(n)?Pi:_i.current;return s=Ai(t,s),Is(t,i),n=ba(e,t,n,r,s,i),r=wa(),null===e||So?(is&&r&&es(t),t.flags|=1,ko(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yo(e,t,i))}function jo(e,t,n,r,i){if(ji(n)){var s=!0;Mi(t)}else s=!1;if(Is(t,i),null===t.stateNode)Qo(e,t),co(t,n,r),ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ps(c):c=Ai(t,c=ji(n)?Pi:_i.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&uo(t,a,r,c),Os=!1;var d=t.memoizedState;a.state=d,Hs(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Ii.current||Os?("function"===typeof u&&(ao(t,n,u,r),l=t.memoizedState),(o=Os||lo(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ls(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:so(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ps(l):l=Ai(t,l=ji(n)?Pi:_i.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&uo(t,a,r,l),Os=!1,d=t.memoizedState,a.state=d,Hs(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Ii.current||Os?("function"===typeof f&&(ao(t,n,f,r),p=t.memoizedState),(c=Os||lo(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ro(e,t,n,r,s,i)}function Ro(e,t,n,r,i,s){Po(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Yo(e,t,s);r=t.stateNode,Eo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):ko(e,t,o,s),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Do(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),$s(e,t.containerInfo)}function Oo(e,t,n,r,i){return fs(),ps(i),t.flags|=256,ko(e,t,n,r),t.child}var Mo,Lo,Fo,Vo,Uo={dehydrated:null,treeContext:null,retryLane:0};function Bo(e){return{baseLanes:e,cachePool:null,transitions:null}}function zo(e,t,n){var r,i=t.pendingProps,a=na.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ni(na,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Bc(l,i,0,null),e=Uc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Bo(n),t.memoizedState=Uo,e):Ho(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,qo(e,t,o,r=po(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Bc({mode:"visible",children:r.children},i,0,null),(a=Uc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Bo(o),t.memoizedState=Uo,a);if(0===(1&t.mode))return qo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,qo(e,t,o,r=po(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),So||l){if(null!==(r=Dl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ds(e,i),oc(r,e,i,-1))}return wc(),qo(e,t,o,r=po(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=jc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),t=Ho(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Fc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Fc(r,o):(o=Uc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Bo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Uo,i}return e=(o=e.child).sibling,i=Fc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ho(e,t){return(t=Bc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function qo(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_s(e.return,t,n)}function Ko(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Go(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ko(e,t,r.children,n),0!==(2&(r=na.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,n,t);else if(19===e.tag)Wo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ni(na,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ia(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ko(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ia(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ko(t,!0,n,null,s);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $o(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $o(t),null;case 1:case 17:return ji(t.type)&&Ri(),$o(t),null;case 3:return r=t.stateNode,Js(),Ti(Ii),Ti(_i),aa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(hc(ss),ss=null))),Lo(e,t),$o(t),null;case 5:ta(t);var i=Xs(Ys.current);if(n=t.type,null!==e&&null!=t.stateNode)Fo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return $o(t),null}if(e=Xs(Gs.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Vr(Or[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":X(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":ie(r,a),Vr("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Mo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Vr(Or[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Vr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $o(t),null;case 6:if(e&&null!=t.stateNode)Vo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Xs(Ys.current),Xs(Gs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return $o(t),null;case 13:if(Ti(na),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$o(t),a=!1}else null!==ss&&(hc(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&na.current)?0===Vl&&(Vl=3):wc())),null!==t.updateQueue&&(t.flags|=4),$o(t),null);case 4:return Js(),Lo(e,t),null===e&&zr(t.stateNode.containerInfo),$o(t),null;case 10:return Cs(t.type._context),$o(t),null;case 19:if(Ti(na),null===(a=t.memoizedState))return $o(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Xo(a,!1);else{if(0!==Vl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ia(e))){for(t.flags|=128,Xo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ni(na,1&na.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Gl&&(t.flags|=128,r=!0,Xo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ia(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Xo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return $o(t),null}else 2*$e()-a.renderingStartTime>Gl&&1073741824!==n&&(t.flags|=128,r=!0,Xo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=na.current,Ni(na,r?1&n|2:1&n),t):($o(t),null);case 22:case 23:return gc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ll)&&($o(t),6&t.subtreeFlags&&(t.flags|=8192)):$o(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Zo(e,t){switch(ts(t),t.tag){case 1:return ji(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Js(),Ti(Ii),Ti(_i),aa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ta(t),null;case 13:if(Ti(na),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(na),null;case 4:return Js(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return gc(),null;default:return null}}Mo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Lo=function(){},Fo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xs(Gs.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Vo=function(e,t,n,r){n!==r&&(t.flags|=4)};var el=!1,tl=!1,nl="function"===typeof WeakSet?WeakSet:Set,rl=null;function il(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function sl(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var al=!1;function ol(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&sl(t,n,s)}i=i.next}while(i!==r)}}function ll(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ul(e){var t=e.alternate;null!==t&&(e.alternate=null,ul(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hl(e){return 5===e.tag||3===e.tag||4===e.tag}function dl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||hl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function fl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(fl(e,t,n),e=e.sibling;null!==e;)fl(e,t,n),e=e.sibling}function pl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(pl(e,t,n),e=e.sibling;null!==e;)pl(e,t,n),e=e.sibling}var ml=null,gl=!1;function yl(e,t,n){for(n=n.child;null!==n;)vl(e,t,n),n=n.sibling}function vl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:tl||il(n,t);case 6:var r=ml,i=gl;ml=null,yl(e,t,n),gl=i,null!==(ml=r)&&(gl?(e=ml,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ml.removeChild(n.stateNode));break;case 18:null!==ml&&(gl?(e=ml,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(ml,n.stateNode));break;case 4:r=ml,i=gl,ml=n.stateNode.containerInfo,gl=!0,yl(e,t,n),ml=r,gl=i;break;case 0:case 11:case 14:case 15:if(!tl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&sl(n,t,a),i=i.next}while(i!==r)}yl(e,t,n);break;case 1:if(!tl&&(il(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ic(n,t,o)}yl(e,t,n);break;case 21:yl(e,t,n);break;case 22:1&n.mode?(tl=(r=tl)||null!==n.memoizedState,yl(e,t,n),tl=r):yl(e,t,n);break;default:yl(e,t,n)}}function bl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new nl),t.forEach(function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function wl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ml=l.stateNode,gl=!1;break e;case 3:case 4:ml=l.stateNode.containerInfo,gl=!0;break e}l=l.return}if(null===ml)throw Error(s(160));vl(a,o,i),ml=null,gl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(qs){Ic(i,t,qs)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xl(t,e),t=t.sibling}function xl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wl(t,e),El(e),4&r){try{ol(3,e,e.return),ll(3,e)}catch(g){Ic(e,e.return,g)}try{ol(5,e,e.return)}catch(g){Ic(e,e.return,g)}}break;case 1:wl(t,e),El(e),512&r&&null!==n&&il(n,n.return);break;case 5:if(wl(t,e),El(e),512&r&&null!==n&&il(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Ic(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Ic(e,e.return,g)}}break;case 6:if(wl(t,e),El(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ic(e,e.return,g)}}break;case 3:if(wl(t,e),El(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Ic(e,e.return,g)}break;case 4:default:wl(t,e),El(e);break;case 13:wl(t,e),El(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Kl=$e())),4&r&&bl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(tl=(u=tl)||h,wl(t,e),tl=u):wl(t,e),El(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(rl=e,h=e.child;null!==h;){for(d=rl=h;null!==rl;){switch(p=(f=rl).child,f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return);break;case 1:il(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ic(r,n,g)}}break;case 5:il(f,f.return);break;case 22:if(null!==f.memoizedState){Nl(d);continue}}null!==p?(p.return=f,rl=p):Nl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Ic(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ic(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wl(t,e),El(e),4&r&&bl(e);case 21:}}function El(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(hl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),pl(e,dl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;fl(e,dl(e),a);break;default:throw Error(s(161))}}catch(Us){Ic(e,e.return,Us)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Sl(e,t,n){rl=e,kl(e,t,n)}function kl(e,t,n){for(var r=0!==(1&e.mode);null!==rl;){var i=rl,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||el;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||tl;o=el;var c=tl;if(el=a,(tl=l)&&!c)for(rl=i;null!==rl;)l=(a=rl).child,22===a.tag&&null!==a.memoizedState?Cl(i):null!==l?(l.return=a,rl=l):Cl(i);for(;null!==s;)rl=s,kl(s,t,n),s=s.sibling;rl=i,el=o,tl=c}Tl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,rl=s):Tl(e)}}function Tl(e){for(;null!==rl;){var t=rl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:tl||ll(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!tl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:so(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ws(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ws(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}tl||512&t.flags&&cl(t)}catch(Zs){Ic(t,t.return,Zs)}}if(t===e){rl=null;break}if(null!==(n=t.sibling)){n.return=t.return,rl=n;break}rl=t.return}}function Nl(e){for(;null!==rl;){var t=rl;if(t===e){rl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,rl=n;break}rl=t.return}}function Cl(e){for(;null!==rl;){var t=rl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ll(4,t)}catch(Us){Ic(t,n,Us)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Us){Ic(t,i,Us)}}var s=t.return;try{cl(t)}catch(Us){Ic(t,s,Us)}break;case 5:var a=t.return;try{cl(t)}catch(Us){Ic(t,a,Us)}}}catch(Us){Ic(t,t.return,Us)}if(t===e){rl=null;break}var o=t.sibling;if(null!==o){o.return=t.return,rl=o;break}rl=t.return}}var _l,Il=Math.ceil,Pl=w.ReactCurrentDispatcher,Al=w.ReactCurrentOwner,jl=w.ReactCurrentBatchConfig,Rl=0,Dl=null,Ol=null,Ml=0,Ll=0,Fl=ki(0),Vl=0,Ul=null,Bl=0,zl=0,Hl=0,ql=null,Wl=null,Kl=0,Gl=1/0,Ql=null,Yl=!1,Xl=null,$l=null,Jl=!1,Zl=null,ec=0,tc=0,nc=null,rc=-1,ic=0;function sc(){return 0!==(6&Rl)?$e():-1!==rc?rc:rc=$e()}function ac(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Ml?Ml&-Ml:null!==ms.transition?(0===ic&&(ic=mt()),ic):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function oc(e,t,n,r){if(50<tc)throw tc=0,nc=null,Error(s(185));yt(e,n,r),0!==(2&Rl)&&e===Dl||(e===Dl&&(0===(2&Rl)&&(zl|=n),4===Vl&&dc(e,Ml)),lc(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(Gl=$e()+500,Vi&&zi()))}function lc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Dl?Ml:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(fc.bind(null,e)):Bi(fc.bind(null,e)),ai(function(){0===(6&Rl)&&zi()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Dc(n,cc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cc(e,t){if(rc=-1,ic=0,0!==(6&Rl))throw Error(s(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=dt(e,e===Dl?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=xc(e,r);else{t=r;var i=Rl;Rl|=2;var a=bc();for(Dl===e&&Ml===t||(Ql=null,Gl=$e()+500,yc(e,t));;)try{Sc();break}catch(l){vc(e,l)}Ns(),Pl.current=a,Rl=i,null!==Ol?t=0:(Dl=null,Ml=0,t=Vl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=uc(e,i))),1===t)throw n=Ul,yc(e,0),dc(e,r),lc(e,$e()),n;if(6===t)dc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=xc(e,r))&&(0!==(a=pt(e))&&(r=a,t=uc(e,a))),1===t))throw n=Ul,yc(e,0),dc(e,r),lc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Nc(e,Wl,Ql);break;case 3:if(dc(e,r),(130023424&r)===r&&10<(t=Kl+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){sc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Nc.bind(null,e,Wl,Ql),t);break}Nc(e,Wl,Ql);break;case 4:if(dc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Il(r/1960))-r)){e.timeoutHandle=ri(Nc.bind(null,e,Wl,Ql),r);break}Nc(e,Wl,Ql);break;default:throw Error(s(329))}}}return lc(e,$e()),e.callbackNode===n?cc.bind(null,e):null}function uc(e,t){var n=ql;return e.current.memoizedState.isDehydrated&&(yc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Wl,Wl=n,null!==t&&hc(t)),e}function hc(e){null===Wl?Wl=e:Wl.push.apply(Wl,e)}function dc(e,t){for(t&=~Hl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function fc(e){if(0!==(6&Rl))throw Error(s(327));Cc();var t=dt(e,0);if(0===(1&t))return lc(e,$e()),null;var n=xc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=uc(e,r))}if(1===n)throw n=Ul,yc(e,0),dc(e,t),lc(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nc(e,Wl,Ql),lc(e,$e()),null}function pc(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(Gl=$e()+500,Vi&&zi())}}function mc(e){null!==Zl&&0===Zl.tag&&0===(6&Rl)&&Cc();var t=Rl;Rl|=1;var n=jl.transition,r=bt;try{if(jl.transition=null,bt=1,e)return e()}finally{bt=r,jl.transition=n,0===(6&(Rl=t))&&zi()}}function gc(){Ll=Fl.current,Ti(Fl)}function yc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Js(),Ti(Ii),Ti(_i),aa();break;case 5:ta(r);break;case 4:Js();break;case 13:case 19:Ti(na);break;case 10:Cs(r.type._context);break;case 22:case 23:gc()}n=n.return}if(Dl=e,Ol=e=Fc(e.current,null),Ml=Ll=t,Vl=0,Ul=null,Hl=zl=Bl=0,Wl=ql=null,null!==As){for(t=0;t<As.length;t++)if(null!==(r=(n=As[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}As=null}return e}function vc(e,t){for(;;){var n=Ol;try{if(Ns(),oa.current=to,fa){for(var r=ua.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}fa=!1}if(ca=0,da=ha=ua=null,pa=!1,ma=0,Al.current=null,null===n||null===n.return){Vl=1,Ul=t,Ol=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=wo(o);if(null!==p){p.flags&=-257,xo(p,o,l,0,t),1&p.mode&&bo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){bo(a,u,t),wc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=wo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),xo(y,o,l,0,t),ps(fo(c,l));break e}}a=c=fo(c,l),4!==Vl&&(Vl=2),null===ql?ql=[a]:ql.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zs(a,yo(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===$l||!$l.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zs(a,vo(a,l,t));break e}}a=a.return}while(null!==a)}Tc(n)}catch(ra){t=ra,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function bc(){var e=Pl.current;return Pl.current=to,null===e?to:e}function wc(){0!==Vl&&3!==Vl&&2!==Vl||(Vl=4),null===Dl||0===(268435455&Bl)&&0===(268435455&zl)||dc(Dl,Ml)}function xc(e,t){var n=Rl;Rl|=2;var r=bc();for(Dl===e&&Ml===t||(Ql=null,yc(e,t));;)try{Ec();break}catch(i){vc(e,i)}if(Ns(),Rl=n,Pl.current=r,null!==Ol)throw Error(s(261));return Dl=null,Ml=0,Vl}function Ec(){for(;null!==Ol;)kc(Ol)}function Sc(){for(;null!==Ol&&!Ye();)kc(Ol)}function kc(e){var t=_l(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?Tc(e):Ol=t,Al.current=null}function Tc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Jo(n,t,Ll)))return void(Ol=n)}else{if(null!==(n=Zo(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Vl=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Vl&&(Vl=5)}function Nc(e,t,n){var r=bt,i=jl.transition;try{jl.transition=null,bt=1,function(e,t,n,r){do{Cc()}while(null!==Zl);if(0!==(6&Rl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Dl&&(Ol=Dl=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Jl||(Jl=!0,Dc(tt,function(){return Cc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=jl.transition,jl.transition=null;var o=bt;bt=1;var l=Rl;Rl|=4,Al.current=null,function(e,t){if(ei=qt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Co){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,rl=t;null!==rl;)if(e=(t=rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,rl=e;else for(;null!==rl;){t=rl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:so(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(Co){Ic(t,t.return,Co)}if(null!==(e=t.sibling)){e.return=t.return,rl=e;break}rl=t.return}m=al,al=!1}(e,n),xl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,Sl(n,e,i),Xe(),Rl=l,bt=o,jl.transition=a}else e.current=n;if(Jl&&(Jl=!1,Zl=e,ec=i),a=e.pendingLanes,0===a&&($l=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),lc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yl)throw Yl=!1,e=Xl,Xl=null,e;0!==(1&ec)&&0!==e.tag&&Cc(),a=e.pendingLanes,0!==(1&a)?e===nc?tc++:(tc=0,nc=e):tc=0,zi()}(e,t,n,r)}finally{jl.transition=i,bt=r}return null}function Cc(){if(null!==Zl){var e=wt(ec),t=jl.transition,n=bt;try{if(jl.transition=null,bt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,ec=0,0!==(6&Rl))throw Error(s(331));var i=Rl;for(Rl|=4,rl=e.current;null!==rl;){var a=rl,o=a.child;if(0!==(16&rl.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(rl=u;null!==rl;){var h=rl;switch(h.tag){case 0:case 11:case 15:ol(8,h,a)}var d=h.child;if(null!==d)d.return=h,rl=d;else for(;null!==rl;){var f=(h=rl).sibling,p=h.return;if(ul(h),h===u){rl=null;break}if(null!==f){f.return=p,rl=f;break}rl=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}rl=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,rl=o;else e:for(;null!==rl;){if(0!==(2048&(a=rl).flags))switch(a.tag){case 0:case 11:case 15:ol(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,rl=v;break e}rl=a.return}}var b=e.current;for(rl=b;null!==rl;){var w=(o=rl).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,rl=w;else e:for(o=b;null!==rl;){if(0!==(2048&(l=rl).flags))try{switch(l.tag){case 0:case 11:case 15:ll(9,l)}}catch(ra){Ic(l,l.return,ra)}if(l===o){rl=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,rl=x;break e}rl=l.return}}if(Rl=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(ra){}r=!0}return r}finally{bt=n,jl.transition=t}}return!1}function _c(e,t,n){e=Vs(e,t=yo(0,t=fo(n,t),1),1),t=sc(),null!==e&&(yt(e,1,t),lc(e,t))}function Ic(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$l||!$l.has(r))){t=Vs(t,e=vo(t,e=fo(n,e),1),1),e=sc(),null!==t&&(yt(t,1,e),lc(t,e));break}}t=t.return}}function Pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=sc(),e.pingedLanes|=e.suspendedLanes&n,Dl===e&&(Ml&n)===n&&(4===Vl||3===Vl&&(130023424&Ml)===Ml&&500>$e()-Kl?yc(e,0):Hl|=n),lc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=sc();null!==(e=Ds(e,t))&&(yt(e,t,n),lc(e,n))}function jc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ac(e,n)}function Dc(e,t){return Ge(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,r){return new Oc(e,t,n,r)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Lc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return Uc(n.children,i,a,t);case k:o=8,i|=8;break;case T:return(e=Mc(12,n,t,2|i)).elementType=T,e.lanes=a,e;case I:return(e=Mc(13,n,t,i)).elementType=I,e.lanes=a,e;case P:return(e=Mc(19,n,t,i)).elementType=P,e.lanes=a,e;case R:return Bc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case C:o=9;break e;case _:o=11;break e;case A:o=14;break e;case j:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Mc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Uc(e,t,n,r){return(e=Mc(7,e,r,t)).lanes=n,e}function Bc(e,t,n,r){return(e=Mc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function Hc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wc(e,t,n,r,i,s,a,o,l){return e=new qc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Mc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),e}function Kc(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(ji(n))return Oi(e,n,t)}return t}function Gc(e,t,n,r,i,s,a,o,l){return(e=Wc(n,r,!0,e,0,s,0,o,l)).context=Kc(null),n=e.current,(s=Fs(r=sc(),i=ac(n))).callback=void 0!==t&&null!==t?t:null,Vs(n,s,i),e.current.lanes=i,yt(e,i,r),lc(e,r),e}function Qc(e,t,n,r){var i=t.current,s=sc(),a=ac(i);return n=Kc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vs(i,t,a))&&(oc(e,i,a,s),Bs(e,i,a)),a}function Yc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $c(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)So=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return So=!1,function(e,t,n){switch(t.tag){case 3:Do(t),fs();break;case 5:ea(t);break;case 1:ji(t.type)&&Mi(t);break;case 4:$s(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ni(Es,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ni(na,1&na.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zo(e,t,n):(Ni(na,1&na.current),null!==(e=Yo(e,t,n))?e.sibling:null);Ni(na,1&na.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Go(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ni(na,na.current),r)break;return null;case 22:case 23:return t.lanes=0,Io(e,t,n)}return Yo(e,t,n)}(e,t,n);So=0!==(131072&e.flags)}else So=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qo(e,t),e=t.pendingProps;var i=Ai(t,_i.current);Is(t,n),i=ba(null,t,r,e,i,n);var a=wa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ms(t),i.updater=oo,t.stateNode=i,i._reactInternals=t,ho(t,r,e,n),t=Ro(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),ko(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===A)return 14}return 2}(r),e=so(r,e),i){case 0:t=Ao(null,t,r,e,n);break e;case 1:t=jo(null,t,r,e,n);break e;case 11:t=To(null,t,r,e,n);break e;case 14:t=No(null,t,r,so(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ao(e,t,r,i=t.elementType===r?i:so(r,i),n);case 1:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:so(r,i),n);case 3:e:{if(Do(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ls(e,t),Hs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Oo(e,t,r,n,i=fo(Error(s(423)),t));break e}if(r!==i){t=Oo(e,t,r,n,i=fo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Yo(e,t,n);break e}ko(e,t,r,n)}t=t.child}return t;case 5:return ea(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Po(e,t),ko(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return zo(e,t,n);case 4:return $s(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):ko(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:so(r,i),n);case 7:return ko(e,t,t.pendingProps,n),t.child;case 8:case 12:return ko(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ni(Es,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ii.current){t=Yo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),_s(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),_s(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}ko(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Is(t,n),r=r(i=Ps(i)),t.flags|=1,ko(e,t,r,n),t.child;case 14:return i=so(r=t.type,t.pendingProps),No(e,t,r,i=so(r.type,i),n);case 15:return _o(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:so(r,i),Qo(e,t),t.tag=1,ji(r)?(e=!0,Mi(t)):e=!1,Is(t,n),co(t,r,i),ho(t,r,i,n),Ro(null,t,r,!0,e,n);case 19:return Go(e,t,n);case 22:return Io(e,t,n)}throw Error(s(156,t.tag))};var Jc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function eu(e){this._internalRoot=e}function tu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(){}function iu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Yc(a);o.call(e)}}Qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Yc(a);s.call(e)}}var a=Gc(t,r,e,0,null,!1,0,"",ru);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),mc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Yc(l);o.call(e)}}var l=Wc(e,0,!1,null,0,!1,0,"",ru);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),mc(function(){Qc(t,l,n,r)}),l}(n,t,e,i,r);return Yc(a)}eu.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Qc(e,t,null,null)},eu.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mc(function(){Qc(null,e,null,null)}),t[pi]=null}},eu.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),lc(t,$e()),0===(6&Rl)&&(Gl=$e()+500,zi()))}break;case 13:mc(function(){var t=Ds(e,1);if(null!==t){var n=sc();oc(t,e,1,n)}}),$c(e,1)}},Et=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)oc(t,e,134217728,sc());$c(e,134217728)}},St=function(e){if(13===e.tag){var t=ac(e),n=Ds(e,t);if(null!==n)oc(n,e,t,sc());$c(e,t)}},kt=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=pc,Ie=mc;var su={usingClientEntryPoint:!1,Events:[bi,wi,xi,Ne,Ce,pc]},au={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lu={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{it=cu.inject(lu),st=cu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=su,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!tu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!tu(e))throw Error(s(299));var n=!1,r="",i=Jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Wc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return mc(e)},t.hydrate=function(e,t,n){if(!nu(t))throw Error(s(200));return iu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!tu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Gc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new eu(t)},t.render=function(e,t,n){if(!nu(t))throw Error(s(200));return iu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(s(40));return!!e._reactRootContainer&&(mc(function(){iu(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=pc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return iu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),s=n.t(i,2),a=n(391),o=n(950),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,l=r.Pop,d=null,g=y();function y(){return(o.state||{idx:null}).idx}function v(){l=r.Pop;let e=y(),t=null==e?null:e-g;g=e,d&&d({action:l,location:w.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(c({},o.state,{idx:g}),""));let w={get action(){return l},get location(){return e(s,o)},listen(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(u,v),d=e,()=>{s.removeEventListener(u,v),d=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(w.location,e,t);n&&n(i,e),g=y()+1;let c=f(i,g),u=w.createHref(i);try{o.pushState(c,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(u)}a&&d&&d({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(w.location,e,t);n&&n(i,e),g=y();let s=f(i,g),c=w.createHref(i);o.replaceState(s,"",c),a&&d&&d({action:l,location:w.location,delta:0})},go:e=>o.go(e)};return w}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=D(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let s=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=R(i);a=A(s[o],e,r)}return a}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(h(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=V([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:P(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of E(e.path))i(e,t,r);else i(e,t)}),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=E(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const S=/^:[\w-]+$/,k=3,T=2,N=1,C=10,_=-2,I=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=_),t&&(r+=T),n.filter(e=>!I(e)).reduce((e,t)=>e+(S.test(t)?k:""===t?N:C),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:V([s,u.pathname]),pathnameBase:U(V([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=V([s,u.pathnameBase]))}return a}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:a,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function L(e,t){let n=M(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=c({},e),h(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:B(r),hash:z(i)}}(i,s),u=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}const V=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],W=(new Set(q),["get",...q]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const G=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext(null);const X=i.createContext(null);const $=i.createContext({outlet:null,matches:[],isDataRoute:!1});const J=i.createContext(null);function Z(){return null!=i.useContext(X)}function ee(){return Z()||h(!1),i.useContext(X).location}function te(e){i.useContext(Y).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext($);return e?function(){let{router:e}=de(ue.UseNavigateStable),t=pe(he.UseNavigateStable),n=i.useRef(!1);te(()=>{n.current=!0});let r=i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},i)))},[e,t]);return r}():function(){Z()||h(!1);let e=i.useContext(G),{basename:t,future:n,navigator:r}=i.useContext(Y),{matches:s}=i.useContext($),{pathname:a}=ee(),o=JSON.stringify(L(s,n.v7_relativeSplatPath)),l=i.useRef(!1);te(()=>{l.current=!0});let c=i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=F(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:V([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)},[t,r,o,a,e]);return c}()}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Y),{matches:s}=i.useContext($),{pathname:a}=ee(),o=JSON.stringify(L(s,r.v7_relativeSplatPath));return i.useMemo(()=>F(e,JSON.parse(o),a,"path"===n),[e,o,a,n])}function ie(e,t,n,s){Z()||h(!1);let{navigator:a}=i.useContext(Y),{matches:o}=i.useContext($),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=ee();if(t){var p;let e="string"===typeof t?g(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||h(!1),d=e}else d=f;let m=d.pathname||"/",y=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=b(e,{pathname:y});let w=ce(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:V([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:V([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,s);return t&&w?i.createElement(X.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:r.Pop}},w):w}function se(){let e=function(){var e;let t=i.useContext(J),n=fe(he.UseRouteError),r=pe(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const ae=i.createElement(se,null);class oe extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement($.Provider,{value:this.props.routeContext},i.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(G);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement($.Provider,{value:t},r)}function ce(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||h(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,s)=>{let a,h=!1,d=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||ae,c&&(u<0&&0===s?(p="route-fallback",!1||me[p]||(me[p]=!0),h=!0,f=null):u===s&&(h=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=a?d:h?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(le,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(oe,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function de(e){let t=i.useContext(G);return t||h(!1),t}function fe(e){let t=i.useContext(Q);return t||h(!1),t}function pe(e){let t=function(){let e=i.useContext($);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const me={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ye(e){let{to:t,replace:n,state:r,relative:s}=e;Z()||h(!1);let{future:a,static:o}=i.useContext(Y),{matches:l}=i.useContext($),{pathname:c}=ee(),u=ne(),d=F(t,L(l,a.v7_relativeSplatPath),c,"path"===s),f=JSON.stringify(d);return i.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function ve(e){h(!1)}function be(e){let{basename:t="/",children:n=null,location:s,navigationType:a=r.Pop,navigator:o,static:l=!1,future:c}=e;Z()&&h(!1);let u=t.replace(/^\/*/,"/"),d=i.useMemo(()=>({basename:u,navigator:o,static:l,future:K({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof s&&(s=g(s));let{pathname:f="/",search:p="",hash:m="",state:y=null,key:v="default"}=s,b=i.useMemo(()=>{let e=D(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:y,key:v},navigationType:a}},[u,f,p,m,y,v,a]);return null==b?null:i.createElement(Y.Provider,{value:d},i.createElement(X.Provider,{children:n,value:b}))}function we(e){let{children:t,location:n}=e;return ie(xe(t),n)}new Promise(()=>{});i.Component;function xe(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,xe(e.props.children,s));e.type!==ve&&h(!1),e.props.index&&e.props.children&&h(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=xe(e.props.children,s)),n.push(a)}),n}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(aC){}new Map;const Te=s.startTransition;l.flushSync,s.useId;function Ne(e){let{basename:t,children:n,future:r,window:s}=e,a=i.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),y(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,o)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=i.useCallback(e=>{h&&Te?Te(()=>u(e)):u(e)},[u,h]);return i.useLayoutEffect(()=>l.listen(d),[l,d]),i.useEffect(()=>ge(r),[r]),i.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,_e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=i.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,p=Se(e,ke),{basename:g}=i.useContext(Y),y=!1;if("string"===typeof u&&_e.test(u)&&(n=u,Ce))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=D(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:y=!0}catch(aC){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||h(!1);let{basename:r,navigator:s}=i.useContext(Y),{hash:a,pathname:o,search:l}=re(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:V([r,o])),s.createHref({pathname:c,search:l,hash:a})}(u,{relative:s}),b=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),h=re(e,{relative:o});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(h);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,h,r,s,n,e,a,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});return i.createElement("a",Ee({},p,{href:n||v,onClick:y||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var Pe,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function Re(e){var t=function(e,t){if("object"!=je(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==je(t)?t:t+""}function De(e,t,n){return(t=Re(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach(function(t){De(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Le=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Le(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Ve;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ue=function(e){return function(e){const t=Le(e);return Fe.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Be=function(e){try{return Fe.decodeString(e,!0)}catch(aC){console.error("base64Decode failed: ",aC)}return null};const ze=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,He=()=>{try{return ze()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000/api",REACT_APP_FIREBASE_API_KEY:"AIzaSyBUrdfHelyEdSaJmwxb0p7FpTKgxUiIAcA",REACT_APP_FIREBASE_APP_ID:"1:97933865787:web:aab1b97c515c7f0ab83d1e",REACT_APP_FIREBASE_AUTH_DOMAIN:"pos-pro-418b5.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"97933865787",REACT_APP_FIREBASE_PROJECT_ID:"pos-pro-418b5",REACT_APP_FIREBASE_STORAGE_BUCKET:"pos-pro-418b5.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(aC){return}const t=e&&Be(e[1]);return t&&JSON.parse(t)})()}catch(aC){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(aC))}},qe=e=>{var t,n;return null===(n=null===(t=He())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},We=e=>{const t=qe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ke=()=>{var e;return null===(e=He())||void 0===e?void 0:e.config},Ge=e=>{var t;return null===(t=He())||void 0===t?void 0:t["_".concat(e)]};class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Ye(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ue(JSON.stringify({alg:"none",type:"JWT"})),Ue(JSON.stringify(s)),""].join(".")}function Xe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function $e(){try{return"object"===typeof indexedDB}catch(aC){return!1}}class Je extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ze.prototype.create)}}class Ze{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(et,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Je(n,s,t)}}const et=/\{\$([^}]+)}/g;function tt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(nt(n)&&nt(s)){if(!tt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nt(e){return null!==e&&"object"===typeof e}function rt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function it(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function st(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class at{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ot),void 0===r.error&&(r.error=ot),void 0===r.complete&&(r.complete=ot);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(aC){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(aC){"undefined"!==typeof console&&console.error&&console.error(aC)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ot(){}function lt(e){return e&&e._delegate?e._delegate:e}class ct{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ut="[DEFAULT]";class ht{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Qe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(aC){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(aC){if(r)return null;throw aC}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ut})}catch(aC){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(aC){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ut?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return this.component?this.component.multipleInstances?e:ut:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class dt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ht(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ft=[];var pt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(pt||(pt={}));const mt={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},gt=pt.INFO,yt={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},vt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=yt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class bt{constructor(e){this.name=e,this._logLevel=gt,this._logHandler=vt,this._userLogHandler=null,ft.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?mt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...t),this._logHandler(this,pt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...t),this._logHandler(this,pt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.INFO,...t),this._logHandler(this,pt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.WARN,...t),this._logHandler(this,pt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...t),this._logHandler(this,pt.ERROR,...t)}}let wt,xt;const Et=new WeakMap,St=new WeakMap,kt=new WeakMap,Tt=new WeakMap,Nt=new WeakMap;let Ct={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return St.get(e);if("objectStoreNames"===t)return e.objectStoreNames||kt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function _t(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xt||(xt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(At(this),n),Pt(Et.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pt(e.apply(At(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(At(this),t,...r);return kt.set(s,t.sort?t.sort():[t]),Pt(s)}}function It(e){return"function"===typeof e?_t(e):(e instanceof IDBTransaction&&function(e){if(St.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});St.set(e,t)}(e),t=e,(wt||(wt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Ct):e);var t}function Pt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Pt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Et.set(t,e)}).catch(()=>{}),Nt.set(t,e),t}(e);if(Tt.has(e))return Tt.get(e);const t=It(e);return t!==e&&(Tt.set(e,t),Nt.set(t,e)),t}const At=e=>Nt.get(e);const jt=["get","getKey","getAll","getAllKeys","count"],Rt=["put","add","delete","clear"],Dt=new Map;function Ot(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Dt.get(t))return Dt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Rt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!jt.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Dt.set(t,s),s}Ct=(e=>Me(Me({},e),{},{get:(t,n,r)=>Ot(t,n)||e.get(t,n,r),has:(t,n)=>!!Ot(t,n)||e.has(t,n)}))(Ct);class Mt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Lt="@firebase/app",Ft="0.9.13",Vt=new bt("@firebase/app"),Ut="@firebase/app-compat",Bt="@firebase/analytics-compat",zt="@firebase/analytics",Ht="@firebase/app-check-compat",qt="@firebase/app-check",Wt="@firebase/auth",Kt="@firebase/auth-compat",Gt="@firebase/database",Qt="@firebase/database-compat",Yt="@firebase/functions",Xt="@firebase/functions-compat",$t="@firebase/installations",Jt="@firebase/installations-compat",Zt="@firebase/messaging",en="@firebase/messaging-compat",tn="@firebase/performance",nn="@firebase/performance-compat",rn="@firebase/remote-config",sn="@firebase/remote-config-compat",an="@firebase/storage",on="@firebase/storage-compat",ln="@firebase/firestore",cn="@firebase/firestore-compat",un="firebase",hn="[DEFAULT]",dn={[Lt]:"fire-core",[Ut]:"fire-core-compat",[zt]:"fire-analytics",[Bt]:"fire-analytics-compat",[qt]:"fire-app-check",[Ht]:"fire-app-check-compat",[Wt]:"fire-auth",[Kt]:"fire-auth-compat",[Gt]:"fire-rtdb",[Qt]:"fire-rtdb-compat",[Yt]:"fire-fn",[Xt]:"fire-fn-compat",[$t]:"fire-iid",[Jt]:"fire-iid-compat",[Zt]:"fire-fcm",[en]:"fire-fcm-compat",[tn]:"fire-perf",[nn]:"fire-perf-compat",[rn]:"fire-rc",[sn]:"fire-rc-compat",[an]:"fire-gcs",[on]:"fire-gcs-compat",[ln]:"fire-fst",[cn]:"fire-fst-compat","fire-js":"fire-js",[un]:"fire-js-all"},fn=new Map,pn=new Map;function mn(e,t){try{e.container.addComponent(t)}catch(aC){Vt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),aC)}}function gn(e){const t=e.name;if(pn.has(t))return Vt.debug("There were multiple attempts to register component ".concat(t,".")),!1;pn.set(t,e);for(const n of fn.values())mn(n,e);return!0}function yn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const vn=new Ze("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class bn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ct("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vn.create("app-deleted",{appName:this._name})}}const wn="9.23.0";function xn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:hn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw vn.create("bad-app-name",{appName:String(i)});if(n||(n=Ke()),!n)throw vn.create("no-options");const s=fn.get(i);if(s){if(tt(n,s.options)&&tt(r,s.config))return s;throw vn.create("duplicate-app",{appName:i})}const a=new dt(i);for(const l of pn.values())a.addComponent(l);const o=new bn(n,r,a);return fn.set(i,o),o}function En(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn;const t=fn.get(e);if(!t&&e===hn&&Ke())return xn();if(!t)throw vn.create("no-app",{appName:e});return t}function Sn(e,t,n){var r;let i=null!==(r=dn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Vt.warn(e.join(" "))}gn(new ct("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const kn="firebase-heartbeat-store";let Tn=null;function Nn(){return Tn||(Tn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Pt(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Pt(a.result),e.oldVersion,e.newVersion,Pt(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(kn)}}).catch(e=>{throw vn.create("idb-open",{originalErrorMessage:e.message})})),Tn}async function Cn(e,t){try{const n=(await Nn()).transaction(kn,"readwrite"),r=n.objectStore(kn);await r.put(t,_n(e)),await n.done}catch(aC){if(aC instanceof Je)Vt.warn(aC.message);else{const t=vn.create("idb-set",{originalErrorMessage:null===aC||void 0===aC?void 0:aC.message});Vt.warn(t.message)}}}function _n(e){return"".concat(e.name,"!").concat(e.options.appId)}class In{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new An(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Pn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Pn(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),jn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Ue(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Pn(){return(new Date).toISOString().substring(0,10)}class An{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!$e()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Nn();return await t.transaction(kn).objectStore(kn).get(_n(e))}catch(aC){if(aC instanceof Je)Vt.warn(aC.message);else{const t=vn.create("idb-get",{originalErrorMessage:null===aC||void 0===aC?void 0:aC.message});Vt.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Cn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Cn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function jn(e){return Ue(JSON.stringify({version:2,heartbeats:e})).length}var Rn;Rn="",gn(new ct("platform-logger",e=>new Mt(e),"PRIVATE")),gn(new ct("heartbeat",e=>new In(e),"PRIVATE")),Sn(Lt,Ft,Rn),Sn(Lt,Ft,"esm2017"),Sn("fire-js","");function Dn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function On(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mn=On,Ln=new Ze("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fn=new bt("@firebase/auth");function Vn(e){if(Fn.logLevel<=pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Fn.error("Auth (".concat(wn,"): ").concat(e),...n)}}function Un(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Hn(e,...n)}function Bn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Hn(e,...n)}function zn(e,t,n){const r=Object.assign(Object.assign({},Mn()),{[t]:n});return new Ze("auth","Firebase",r).create(t,{appName:e.name})}function Hn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Ln.create(e,...n)}function qn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Hn(t,...r)}}function Wn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Vn(t),new Error(t)}function Kn(e,t){e||Wn(t)}function Gn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Qn(){return"http:"===Yn()||"https:"===Yn()}function Yn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Xn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Qn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class $n{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Xn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jn(e,t){Kn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Zn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const er={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},tr=new $n(3e4,6e4);function nr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function rr(e,t,n,r){return ir(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=rt(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Zn.fetch()(ar(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))})}async function ir(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},er),t);try{const t=new or(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw lr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw lr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw lr(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw lr(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw zn(e,o,a);Un(e,o)}}catch(aC){if(aC instanceof Je)throw aC;Un(e,"network-request-failed",{message:String(aC)})}}async function sr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await rr(e,t,n,r,i);return"mfaPendingCredential"in s&&Un(e,"multi-factor-auth-required",{_serverResponse:s}),s}function ar(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Jn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class or{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Bn(this.auth,"network-request-failed")),tr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bn(e,t,r);return i.customData._tokenResponse=n,i}function cr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(aC){}}function ur(e){return 1e3*Number(e)}function hr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Vn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Be(n);return e?JSON.parse(e):(Vn("Failed to decode base64 JWT payload"),null)}catch(aC){return Vn("Caught error parsing JWT payload as JSON",null===aC||void 0===aC?void 0:aC.toString()),null}}async function dr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(aC){throw aC instanceof Je&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(aC)&&e.auth.currentUser===e&&await e.auth.signOut(),aC}}class fr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(aC){return void((null===aC||void 0===aC?void 0:aC.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class pr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cr(this.lastLoginAt),this.creationTime=cr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function mr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await dr(e,async function(e,t){return rr(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));qn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,n=Dn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new pr(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class gr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qn(e.idToken,"internal-error"),qn("undefined"!==typeof e.idToken,"internal-error"),qn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=hr(e);return qn(t,"internal-error"),qn("undefined"!==typeof t.exp,"internal-error"),qn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return qn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ir(e,{},async()=>{const n=rt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=ar(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Zn.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new gr;return n&&(qn("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(qn("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(qn("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gr,this.toJSON())}_performRefresh(){return Wn("not implemented")}}function yr(e,t){qn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class vr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Dn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new pr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await dr(this,this.stsTokenManager.getToken(this.auth,e));return qn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=lt(e),r=await n.getIdToken(t),i=hr(r);qn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:cr(ur(i.auth_time)),issuedAtTime:cr(ur(i.iat)),expirationTime:cr(ur(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=lt(e);await mr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(qn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await mr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await dr(this,async function(e,t){return rr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:E}=t;qn(v&&E,e,"internal-error");const S=gr.fromJSON(this.name,E);qn("string"===typeof v,e,"internal-error"),yr(u,e.name),yr(h,e.name),qn("boolean"===typeof b,e,"internal-error"),qn("boolean"===typeof w,e,"internal-error"),yr(d,e.name),yr(f,e.name),yr(p,e.name),yr(m,e.name),yr(g,e.name),yr(y,e.name);const k=new vr({uid:v,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(k.providerData=x.map(e=>Object.assign({},e))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new gr;r.updateFromServerResponse(t);const i=new vr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await mr(i),i}}const br=new Map;function wr(e){Kn(e instanceof Function,"Expected a class definition");let t=br.get(e);return t?(Kn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,br.set(e,t),t)}class xr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}xr.type="NONE";const Er=xr;function Sr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class kr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Sr(this.userKey,r.apiKey,i),this.fullPersistenceKey=Sr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new kr(wr(Er),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||wr(Er);const s=Sr(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=vr._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new kr(i,e,n)):new kr(i,e,n)}}function Tr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ir(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Nr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ar(t))return"Blackberry";if(jr(t))return"Webos";if(Cr(t))return"Safari";if((t.includes("chrome/")||_r(t))&&!t.includes("edge/"))return"Chrome";if(Pr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/firefox\//i.test(e)}function Cr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/crios\//i.test(e)}function Ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iemobile/i.test(e)}function Pr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/android/i.test(e)}function Ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/blackberry/i.test(e)}function jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/webos/i.test(e)}function Rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Dr(){return function(){const e=Xe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Or(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return Rr(e)||Pr(e)||jr(e)||Ar(e)||/windows phone/i.test(e)||Ir(e)}function Mr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Tr(Xe());break;case"Worker":t="".concat(Tr(Xe()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(wn,"/").concat(r)}async function Lr(e,t){return rr(e,"GET","/v2/recaptchaConfig",nr(e,t))}function Fr(e){return void 0!==e&&void 0!==e.enterprise}class Vr{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function Ur(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Bn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Br(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class zr{constructor(e){this.type="recaptcha-enterprise",this.auth=Kr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Fr(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Lr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Vr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Fr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Ur("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Hr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new zr(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class qr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(aC){r(aC)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(aC){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===aC||void 0===aC?void 0:aC.message})}}}class Wr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gr(this),this.idTokenSubscription=new Gr(this),this.beforeStateQueue=new qr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ln,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wr(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await kr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(aC){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(aC){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(aC))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(aC){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mr(e)}catch(aC){if((null===aC||void 0===aC?void 0:aC.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?lt(e):null;return t&&qn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&qn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(wr(e))})}async initializeRecaptchaConfig(){const e=await Lr(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Vr(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new zr(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ze("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wr(e)||this._popupRedirectResolver;qn(t,this,"argument-error"),this.redirectPersistenceManager=await kr.create(this,[wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return qn(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Fn.logLevel<=pt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Fn.warn("Auth (".concat(wn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Kr(e){return lt(e)}class Gr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new at(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return qn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Qr(e,t,n){const r=Kr(e);qn(r._canInitEmulator,r,"emulator-config-failed"),qn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Yr(t),{host:a,port:o}=function(e){const t=Yr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Xr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Xr(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Yr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Xr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class $r{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wn("not implemented")}_getIdTokenResponse(e){return Wn("not implemented")}_linkToIdToken(e,t){return Wn("not implemented")}_getReauthenticationResolver(e){return Wn("not implemented")}}async function Jr(e,t){return rr(e,"POST","/v1/accounts:update",t)}async function Zr(e,t){return sr(e,"POST","/v1/accounts:signInWithPassword",nr(e,t))}async function ei(e,t){return rr(e,"POST","/v1/accounts:sendOobCode",nr(e,t))}async function ti(e,t){return ei(e,t)}class ni extends $r{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ni(e,t,"password")}static _fromEmailAndCode(e,t){return new ni(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Hr(e,n,"signInWithPassword");return Zr(e,t)}return Zr(e,n).catch(async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Hr(e,n,"signInWithPassword");return Zr(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return sr(e,"POST","/v1/accounts:signInWithEmailLink",nr(e,t))}(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Jr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return sr(e,"POST","/v1/accounts:signInWithEmailLink",nr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ri(e,t){return sr(e,"POST","/v1/accounts:signInWithIdp",nr(e,t))}class ii extends $r{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ii(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Un("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Dn(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new ii(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ri(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ri(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ri(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=rt(t)}return e}}const si={USER_NOT_FOUND:"user-not-found"};class ai extends $r{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ai({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ai({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return sr(e,"POST","/v1/accounts:signInWithPhoneNumber",nr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await sr(e,"POST","/v1/accounts:signInWithPhoneNumber",nr(e,t));if(n.temporaryProof)throw lr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return sr(e,"POST","/v1/accounts:signInWithPhoneNumber",nr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),si)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ai({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class oi{constructor(e){var t,n,r,i,s,a;const o=it(st(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);qn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=it(st(e)).link,n=t?it(st(t)).deep_link_id:null,r=it(st(e)).deep_link_id;return(r?it(st(r)).link:null)||r||n||t||e}(e);try{return new oi(t)}catch(n){return null}}}class li{constructor(){this.providerId=li.PROVIDER_ID}static credential(e,t){return ni._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=oi.parseLink(t);return qn(n,"argument-error"),ni._fromEmailAndCode(e,n.code,n.tenantId)}}li.PROVIDER_ID="password",li.EMAIL_PASSWORD_SIGN_IN_METHOD="password",li.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ci{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ui extends ci{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hi extends ui{constructor(){super("facebook.com")}static credential(e){return ii._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return hi.credential(t.oauthAccessToken)}catch(n){return null}}}hi.FACEBOOK_SIGN_IN_METHOD="facebook.com",hi.PROVIDER_ID="facebook.com";class di extends ui{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ii._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return di.credential(n,r)}catch(i){return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com",di.PROVIDER_ID="google.com";class fi extends ui{constructor(){super("github.com")}static credential(e){return ii._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return fi.credential(t.oauthAccessToken)}catch(n){return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com",fi.PROVIDER_ID="github.com";class pi extends ui{constructor(){super("twitter.com")}static credential(e,t){return ii._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return pi.credential(n,r)}catch(i){return null}}}async function mi(e,t){return sr(e,"POST","/v1/accounts:signUp",nr(e,t))}pi.TWITTER_SIGN_IN_METHOD="twitter.com",pi.PROVIDER_ID="twitter.com";class gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await vr._fromIdTokenResponse(e,n,r),s=yi(n);return new gi({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=yi(n);return new gi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function yi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class vi extends Je{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,vi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new vi(e,t,n,r)}}function bi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw vi._fromErrorAndOperation(e,n,t,r);throw n})}async function wi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await dr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return gi._forOperation(e,"link",r)}async function xi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await dr(e,bi(r,i,t,e),n);qn(s.idToken,r,"internal-error");const a=hr(s.idToken);qn(a,r,"internal-error");const{sub:o}=a;return qn(e.uid===o,r,"user-mismatch"),gi._forOperation(e,i,s)}catch(aC){throw(null===aC||void 0===aC?void 0:aC.code)==="auth/".concat("user-not-found")&&Un(r,"user-mismatch"),aC}}async function Ei(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await bi(e,r,t),s=await gi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Si(e,t){return Ei(Kr(e),t)}function ki(e,t,n){var r;qn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),qn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(qn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(qn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Ti(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=lt(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await dr(i,async function(e,t){return rr(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}new WeakMap;const Ni="__sak";class Ci{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ni,"1"),this.storage.removeItem(Ni),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class _i extends Ci{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Xe();return Cr(e)||Rr(e)}()&&function(){try{return!(!window||window===window.top)}catch(aC){return!1}}(),this.fallbackToPolling=Or(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Dr()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_i.type="LOCAL";const Ii=_i;class Pi extends Ci{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Pi.type="SESSION";const Ai=Pi;class ji{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new ji(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ri(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ji.receivers=[];class Di{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=Ri("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Oi(){return window}function Mi(){return"undefined"!==typeof Oi().WorkerGlobalScope&&"function"===typeof Oi().importScripts}const Li="firebaseLocalStorageDb",Fi="firebaseLocalStorage",Vi="fbase_key";class Ui{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bi(e,t){return e.transaction([Fi],t?"readwrite":"readonly").objectStore(Fi)}function zi(){const e=indexedDB.open(Li,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Fi,{keyPath:Vi})}catch(aC){n(aC)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Fi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Li);return new Ui(e).toPromise()}(),t(await zi()))})})}async function Hi(e,t,n){const r=Bi(e,!0).put({[Vi]:t,value:n});return new Ui(r).toPromise()}function qi(e,t){const n=Bi(e,!0).delete(t);return new Ui(n).toPromise()}class Wi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await zi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(aC){if(t++>3)throw aC;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ji._getInstance(Mi()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Di(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zi();return await Hi(e,Ni,"1"),await qi(e,Ni),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hi(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Bi(e,!1).get(t),r=await new Ui(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qi(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Bi(e,!1).getAll();return new Ui(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Wi.type="LOCAL";const Ki=Wi;Br("rcb"),new $n(3e4,6e4);const Gi="recaptcha";async function Qi(e,t,n){var r;const i=await n.verify();try{let s;if(qn("string"===typeof i,e,"argument-error"),qn(n.type===Gi,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){qn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return rr(e,"POST","/v2/accounts/mfaEnrollment:start",nr(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{qn("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;qn(n,e,"missing-multi-factor-info");const a=await function(e,t){return rr(e,"POST","/v2/accounts/mfaSignIn:start",nr(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return rr(e,"POST","/v1/accounts:sendVerificationCode",nr(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Yi{constructor(e){this.providerId=Yi.PROVIDER_ID,this.auth=Kr(e)}verifyPhoneNumber(e,t){return Qi(this.auth,e,lt(t))}static credential(e,t){return ai._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Yi.credentialFromTaggedObject(t)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ai._fromTokenResponse(n,r):null}}function Xi(e,t){return t?wr(t):(qn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Yi.PROVIDER_ID="phone",Yi.PHONE_SIGN_IN_METHOD="phone";class $i extends $r{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ri(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ri(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ri(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ji(e){return Ei(e.auth,new $i(e),e.bypassAuthState)}function Zi(e){const{auth:t,user:n}=e;return qn(n,t,"internal-error"),xi(n,new $i(e),e.bypassAuthState)}async function es(e){const{auth:t,user:n}=e;return qn(n,t,"internal-error"),wi(n,new $i(e),e.bypassAuthState)}class ts{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(aC){this.reject(aC)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(aC){this.reject(aC)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ji;case"linkViaPopup":case"linkViaRedirect":return es;case"reauthViaPopup":case"reauthViaRedirect":return Zi;default:Un(this.auth,"internal-error")}}resolve(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ns=new $n(2e3,1e4);class rs extends ts{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,rs.currentPopupAction&&rs.currentPopupAction.cancel(),rs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qn(e,this.auth,"internal-error"),e}async onExecution(){Kn(1===this.filter.length,"Popup operations only handle one event");const e=Ri();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,ns.get())};e()}}rs.currentPopupAction=null;const is=new Map;class ss extends ts{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=is.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ls(t),r=os(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(aC){e=()=>Promise.reject(aC)}is.set(this.auth._key(),e)}return this.bypassAuthState||is.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function as(e,t){is.set(e._key(),t)}function os(e){return wr(e._redirectPersistence)}function ls(e){return Sr("pendingRedirect",e.config.apiKey,e.name)}async function cs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Kr(e),i=Xi(r,t),s=new ss(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class us{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ds(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ds(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Bn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hs(e))}saveEventToCache(e){this.cachedEventUids.add(hs(e)),this.lastProcessedEventTime=Date.now()}}function hs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ds(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const fs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ps=/^https?/;async function ms(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return rr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(gs(r))return}catch(n){}Un(e,"unauthorized-domain")}function gs(e){const t=Gn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ps.test(n))return!1;if(fs.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ys=new $n(3e4,6e4);function vs(){const e=Oi().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let bs=null;function ws(e){return bs=bs||function(e){return new Promise((t,n)=>{var r,i,s;function a(){vs(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vs(),n(Bn(e,"network-request-failed"))},timeout:ys.get()})}if(null===(i=null===(r=Oi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Oi().gapi)||void 0===s?void 0:s.load)){const t=Br("iframefcb");return Oi()[t]=()=>{gapi.load?a():n(Bn(e,"network-request-failed"))},Ur("https://apis.google.com/js/api.js?onload=".concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw bs=null,e})}(e),bs}const xs=new $n(5e3,15e3),Es={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ss=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ks(e){const t=e.config;qn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Jn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:wn},i=Ss.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(rt(r).slice(1))}const Ts={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ns{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(aC){}}}function Cs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Ts),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Xe().toLowerCase();n&&(o=_r(c)?"_blank":n),Nr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Rr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Ns(null);const h=window.open(t||"",o,u);qn(h,e,"popup-blocked");try{h.focus()}catch(aC){}return new Ns(h)}const _s="__/auth/handler",Is="emulator/auth/handler",Ps=encodeURIComponent("fac");async function As(e,t,n,r,i,s){qn(e.config.authDomain,e,"auth-domain-config-required"),qn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:wn,eventId:i};if(t instanceof ci){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof ui){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ps,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(_s);return Jn(t,Is)}(e),"?").concat(rt(o).slice(1)).concat(c)}const js="webStorageSupport";const Rs=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ai,this._completeRedirectFn=cs,this._overrideRedirectResult=as}async _openPopup(e,t,n,r){var i;Kn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Cs(e,await As(e,t,n,Gn(),r),Ri())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Oi().location.href=e}(await As(e,t,n,Gn(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Kn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await ws(e),n=Oi().gapi;return qn(n,e,"internal-error"),t.open({where:document.body,url:ks(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Es,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Bn(e,"network-request-failed"),s=Oi().setTimeout(()=>{r(i)},xs.get());function a(){Oi().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}(e),n=new us(e);return t.register("authEvent",t=>{qn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(js,{type:js},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[js];void 0!==i&&t(!!i),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ms(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Or()||Cr()||Rr()}};var Ds="@firebase/auth",Os="0.23.2";class Ms{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ls=Ge("authIdTokenMaxAge")||300;let Fs=null;var Vs;Vs="Browser",gn(new ct("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;qn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Vs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mr(Vs)},c=new Wr(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),gn(new ct("auth-internal",e=>(e=>new Ms(e))(Kr(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(Ds,Os,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Vs)),Sn(Ds,Os,"esm2017");var Us,Bs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},zs={},Hs=Hs||{},qs=Bs||self;function Ws(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ks(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Gs="closure_uid_"+(1e9*Math.random()>>>0),Qs=0;function Ys(e,t,n){return e.call.apply(e.bind,arguments)}function Xs(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function $s(e,t,n){return($s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ys:Xs).apply(null,arguments)}function Js(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Zs(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function ea(){this.s=this.s,this.o=this.o}ea.prototype.s=!1,ea.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Gs)&&e[Gs]||(e[Gs]=++Qs))},ea.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ta=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function na(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function ra(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Ws(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function ia(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ia.prototype.h=function(){this.defaultPrevented=!0};var sa=function(){if(!qs.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{qs.addEventListener("test",()=>{},t),qs.removeEventListener("test",()=>{},t)}catch(n){}return e}();function aa(e){return/^[\s\xa0]*$/.test(e)}function oa(){var e=qs.navigator;return e&&(e=e.userAgent)?e:""}function la(e){return-1!=oa().indexOf(e)}function ca(e){return ca[" "](e),e}ca[" "]=function(){};var ua,ha,da=la("Opera"),fa=la("Trident")||la("MSIE"),pa=la("Edge"),ma=pa||fa,ga=la("Gecko")&&!(-1!=oa().toLowerCase().indexOf("webkit")&&!la("Edge"))&&!(la("Trident")||la("MSIE"))&&!la("Edge"),ya=-1!=oa().toLowerCase().indexOf("webkit")&&!la("Edge");function va(){var e=qs.document;return e?e.documentMode:void 0}e:{var ba="",wa=function(){var e=oa();return ga?/rv:([^\);]+)(\)|;)/.exec(e):pa?/Edge\/([\d\.]+)/.exec(e):fa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ya?/WebKit\/(\S+)/.exec(e):da?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(wa&&(ba=wa?wa[1]:""),fa){var xa=va();if(null!=xa&&xa>parseFloat(ba)){ua=String(xa);break e}}ua=ba}if(qs.document&&fa){var Ea=va();ha=Ea||(parseInt(ua,10)||void 0)}else ha=void 0;var Sa=ha;function ka(e,t){if(ia.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ga){e:{try{ca(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ta[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ka.$.h.call(this)}}Zs(ka,ia);var Ta={2:"touch",3:"pen",4:"mouse"};ka.prototype.h=function(){ka.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Na="closure_listenable_"+(1e6*Math.random()|0),Ca=0;function _a(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Ca,this.fa=this.ia=!1}function Ia(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Pa(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Aa(e){const t={};for(const n in e)t[n]=e[n];return t}const ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ra(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<ja.length;t++)n=ja[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Da(e){this.src=e,this.g={},this.h=0}function Oa(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=ta(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ia(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ma(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Da.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=Ma(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new _a(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var La="closure_lm_"+(1e6*Math.random()|0),Fa={};function Va(e,t,n,r,i){if(r&&r.once)return Ba(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Va(e,t[s],n,r,i);return null}return n=Qa(n),e&&e[Na]?e.O(t,n,Ks(r)?!!r.capture:!!r,i):Ua(e,t,n,!1,r,i)}function Ua(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Ks(i)?!!i.capture:!!i,o=Ka(e);if(o||(e[La]=o=new Da(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Wa;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)sa||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(qa(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ba(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ba(e,t[s],n,r,i);return null}return n=Qa(n),e&&e[Na]?e.P(t,n,Ks(r)?!!r.capture:!!r,i):Ua(e,t,n,!0,r,i)}function za(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)za(e,t[s],n,r,i);else r=Ks(r)?!!r.capture:!!r,n=Qa(n),e&&e[Na]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ma(s=e.g[t],n,r,i))&&(Ia(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Ka(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ma(t,n,r,i)),(n=-1<e?t[e]:null)&&Ha(n))}function Ha(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Na])Oa(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(qa(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ka(t))?(Oa(n,e),0==n.h&&(n.src=null,t[La]=null)):Ia(e)}}}function qa(e){return e in Fa?Fa[e]:Fa[e]="on"+e}function Wa(e,t){if(e.fa)e=!0;else{t=new ka(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ha(e),e=n.call(r,t)}return e}function Ka(e){return(e=e[La])instanceof Da?e:null}var Ga="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qa(e){return"function"===typeof e?e:(e[Ga]||(e[Ga]=function(t){return e.handleEvent(t)}),e[Ga])}function Ya(){ea.call(this),this.i=new Da(this),this.S=this,this.J=null}function Xa(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ia(t,e);else if(t instanceof ia)t.target=t.target||e;else{var i=t;Ra(t=new ia(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=$a(a,r,!0,t)&&i}if(i=$a(a=t.g=e,r,!0,t)&&i,i=$a(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=$a(a=t.g=n[s],r,!1,t)&&i}function $a(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&Oa(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}Zs(Ya,ea),Ya.prototype[Na]=!0,Ya.prototype.removeEventListener=function(e,t,n,r){za(this,e,t,n,r)},Ya.prototype.N=function(){if(Ya.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ia(n[r]);delete t.g[e],t.h--}}this.J=null},Ya.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ya.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ja=qs.JSON.stringify;function Za(){var e=ao;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var eo=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new to,e=>e.reset());class to{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function no(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ro(e){qs.setTimeout(()=>{throw e},0)}let io,so=!1,ao=new class{constructor(){this.h=this.g=null}add(e,t){const n=eo.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},oo=()=>{const e=qs.Promise.resolve(void 0);io=()=>{e.then(lo)}};var lo=()=>{for(var e;e=Za();){try{e.h.call(e.g)}catch(n){ro(n)}var t=eo;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}so=!1};function co(e,t){Ya.call(this),this.h=e||1,this.g=t||qs,this.j=$s(this.qb,this),this.l=Date.now()}function uo(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ho(e,t,n){if("function"===typeof e)n&&(e=$s(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=$s(e.handleEvent,e)}return 2147483647<Number(t)?-1:qs.setTimeout(e,t||0)}function fo(e){e.g=ho(()=>{e.g=null,e.i&&(e.i=!1,fo(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Zs(co,Ya),(Us=co.prototype).ga=!1,Us.T=null,Us.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xa(this,"tick"),this.ga&&(uo(this),this.start()))}},Us.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Us.N=function(){co.$.N.call(this),uo(this),delete this.g};class po extends ea{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fo(this)}N(){super.N(),this.g&&(qs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mo(e){ea.call(this),this.h=e,this.g={}}Zs(mo,ea);var go=[];function yo(e,t,n,r){Array.isArray(n)||(n&&(go[0]=n.toString()),n=go);for(var i=0;i<n.length;i++){var s=Va(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function vo(e){Pa(e.g,function(e,t){this.g.hasOwnProperty(t)&&Ha(e)},e),e.g={}}function bo(){this.g=!0}function wo(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Ja(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}mo.prototype.N=function(){mo.$.N.call(this),vo(this)},mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bo.prototype.Ea=function(){this.g=!1},bo.prototype.info=function(){};var xo={},Eo=null;function So(){return Eo=Eo||new Ya}function ko(e){ia.call(this,xo.Ta,e)}function To(e){const t=So();Xa(t,new ko(t))}function No(e,t){ia.call(this,xo.STAT_EVENT,e),this.stat=t}function Co(e){const t=So();Xa(t,new No(t,e))}function _o(e,t){ia.call(this,xo.Ua,e),this.size=t}function Io(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return qs.setTimeout(function(){e()},t)}xo.Ta="serverreachability",Zs(ko,ia),xo.STAT_EVENT="statevent",Zs(No,ia),xo.Ua="timingevent",Zs(_o,ia);var Po={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ao={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jo(){}function Ro(e){return e.h||(e.h=e.i())}function Do(){}jo.prototype.h=null;var Oo,Mo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Lo(){ia.call(this,"d")}function Fo(){ia.call(this,"c")}function Vo(){}function Uo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new mo(this),this.P=zo,e=ma?125:void 0,this.V=new co(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Bo}function Bo(){this.i=null,this.g="",this.h=!1}Zs(Lo,ia),Zs(Fo,ia),Zs(Vo,jo),Vo.prototype.g=function(){return new XMLHttpRequest},Vo.prototype.i=function(){return{}},Oo=new Vo;var zo=45e3,Ho={},qo={};function Wo(e,t,n){e.L=1,e.v=ul(sl(t)),e.s=n,e.S=!0,Ko(e,null)}function Ko(e,t){e.G=Date.now(),Xo(e),e.A=sl(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Sl(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Bo,e.g=kc(e.l,n?t:null,!e.s),0<e.O&&(e.M=new po($s(e.Pa,e,e.g),e.O)),yo(e.U,e.g,"readystatechange",e.nb),t=e.I?Aa(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),To(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.u,e.A,e.m,e.W,e.s)}function Go(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Qo(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Yo(e,n),r==qo){4==t&&(e.o=4,Co(14),i=!1),wo(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ho){e.o=4,Co(15),wo(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}wo(e.j,e.m,r,null),tl(e,r)}Go(e)&&r!=qo&&r!=Ho&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Co(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),gc(t),t.M=!0,Co(11))):(wo(e.j,e.m,n,"[Invalid Chunked Response]"),el(e),Zo(e))}function Yo(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?qo:(n=Number(t.substring(n,r)),isNaN(n)?Ho:(r+=1)+n>t.length?qo:(t=t.slice(r,r+n),e.C=r+n,t))}function Xo(e){e.Y=Date.now()+e.P,$o(e,e.P)}function $o(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Io($s(e.lb,e),t)}function Jo(e){e.B&&(qs.clearTimeout(e.B),e.B=null)}function Zo(e){0==e.l.H||e.J||bc(e.l,e)}function el(e){Jo(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,uo(e.V),vo(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function tl(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Pl(n.i,e)))if(!e.K&&Pl(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;vc(n),lc(n)}mc(n),Co(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Io($s(n.ib,n),6e3));if(1>=Il(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else xc(n,11)}else if((e.K||n.g==e)&&vc(n),!aa(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Al(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,cl(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=Sc(r,r.J?r.pa:null,r.Y),a.K){jl(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.B&&(Jo(o),Xo(o)),r.g=a}else pc(r);0<n.j.length&&uc(n)}else"stop"!=c[0]&&"close"!=c[0]||xc(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?xc(n,7):oc(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}To()}catch(c){}}function nl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ws(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ws(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ws(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Us=Uo.prototype).setTimeout=function(e){this.P=e},Us.nb=function(e){e=e.target;const t=this.M;t&&3==tc(e)?t.l():this.Pa(e)},Us.Pa=function(e){try{if(e==this.g)e:{const u=tc(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||ma||this.g&&(this.h.h||this.g.ja()||nc(this.g)))){this.J||4!=u||7==t||To(),Jo(this);var n=this.g.da();this.ca=n;t:if(Go(this)){var r=nc(this.g);e="";var i=r.length,s=4==tc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){el(this),Zo(this);var a="";break t}this.h.i=new qs.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!aa(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Co(12),el(this),Zo(this);break e}wo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tl(this,n)}this.S?(Qo(this,u,a),ma&&this.i&&3==u&&(yo(this.U,this.V,"tick",this.mb),this.V.start())):(wo(this.j,this.m,a,null),tl(this,a)),4==u&&el(this),this.i&&!this.J&&(4==u?bc(this.l,this):(this.i=!1,Xo(this)))}else(function(e){const t={};e=(e.g&&2<=tc(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(aa(e[r]))continue;var n=no(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Co(12)):(this.o=0,Co(13)),el(this),Zo(this)}}}catch(u){}},Us.mb=function(){if(this.g){var e=tc(this.g),t=this.g.ja();this.C<t.length&&(Jo(this),Qo(this,e,t),this.i&&4!=e&&Xo(this))}},Us.cancel=function(){this.J=!0,el(this)},Us.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(To(),Co(17)),el(this),this.o=2,Zo(this)):$o(this,this.Y-e)};var rl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function il(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof il){this.h=e.h,al(this,e.j),this.s=e.s,this.g=e.g,ol(this,e.m),this.l=e.l;var t=e.i,n=new bl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ll(this,n),this.o=e.o}else e&&(t=String(e).match(rl))?(this.h=!1,al(this,t[1]||"",!0),this.s=hl(t[2]||""),this.g=hl(t[3]||"",!0),ol(this,t[4]),this.l=hl(t[5]||"",!0),ll(this,t[6]||"",!0),this.o=hl(t[7]||"")):(this.h=!1,this.i=new bl(null,this.h))}function sl(e){return new il(e)}function al(e,t,n){e.j=n?hl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ol(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ll(e,t,n){t instanceof bl?(e.i=t,function(e,t){t&&!e.j&&(wl(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(xl(this,t),Sl(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=dl(t,yl)),e.i=new bl(t,e.h))}function cl(e,t,n){e.i.set(t,n)}function ul(e){return cl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function hl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,fl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function fl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}il.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dl(t,pl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(dl(t,pl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(dl(n,"/"==n.charAt(0)?gl:ml,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",dl(n,vl)),e.join("")};var pl=/[#\/\?@]/g,ml=/[#\?:]/g,gl=/[#\?]/g,yl=/[#\?@]/g,vl=/#/g;function bl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wl(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function xl(e,t){wl(e),t=kl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function El(e,t){return wl(e),t=kl(e,t),e.g.has(t)}function Sl(e,t,n){xl(e,t),0<n.length&&(e.i=null,e.g.set(kl(e,t),na(n)),e.h+=n.length)}function kl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Us=bl.prototype).add=function(e,t){wl(this),this.i=null,e=kl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Us.forEach=function(e,t){wl(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},Us.ta=function(){wl(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Us.Z=function(e){wl(this);let t=[];if("string"===typeof e)El(this,e)&&(t=t.concat(this.g.get(kl(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Us.set=function(e,t){return wl(this),this.i=null,El(this,e=kl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Us.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Us.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var Tl=class{constructor(e,t){this.g=e,this.map=t}};function Nl(e){this.l=e||Cl,qs.PerformanceNavigationTiming?e=0<(e=qs.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(qs.g&&qs.g.Ka&&qs.g.Ka()&&qs.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Cl=10;function _l(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Il(e){return e.h?1:e.g?e.g.size:0}function Pl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Al(e,t){e.g?e.g.add(t):e.h=t}function jl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Rl(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return na(e.i)}Nl.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Dl,Ol=class{stringify(e){return qs.JSON.stringify(e,void 0)}parse(e){return qs.JSON.parse(e,void 0)}};function Ml(){this.g=new Ol}function Ll(e,t,n){const r=n||"";try{nl(e,function(e,n){let i=e;Ks(e)&&(i=Ja(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(aC){throw t.push(r+"type="+encodeURIComponent("_badmap")),aC}}function Fl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Vl(e){this.l=e.fc||null,this.j=e.ob||!1}function Ul(e,t){Ya.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Bl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zs(Vl,jo),Vl.prototype.g=function(){return new Ul(this.l,this.j)},Vl.prototype.i=(Dl={},function(){return Dl}),Zs(Ul,Ya);var Bl=0;function zl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Hl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ql(e)}function ql(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Us=Ul.prototype).open=function(e,t){if(this.readyState!=Bl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ql(this)},Us.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||qs).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Us.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hl(this)),this.readyState=Bl},Us.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ql(this)),this.g&&(this.readyState=3,ql(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof qs.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Us.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Hl(this):ql(this),3==this.readyState&&zl(this)}},Us.Za=function(e){this.g&&(this.response=this.responseText=e,Hl(this))},Us.Ya=function(e){this.g&&(this.response=e,Hl(this))},Us.ka=function(){this.g&&Hl(this)},Us.setRequestHeader=function(e,t){this.v.append(e,t)},Us.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Us.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ul.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Wl=qs.JSON.parse;function Kl(e){Ya.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Gl,this.L=this.M=!1}Zs(Kl,Ya);var Gl="",Ql=/^https?$/i,Yl=["POST","PUT"];function Xl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,$l(e),Zl(e)}function $l(e){e.F||(e.F=!0,Xa(e,"complete"),Xa(e,"error"))}function Jl(e){if(e.h&&"undefined"!=typeof Hs&&(!e.C[1]||4!=tc(e)||2!=e.da()))if(e.v&&4==tc(e))ho(e.La,0,e);else if(Xa(e,"readystatechange"),4==tc(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(rl)[1]||null;!i&&qs.self&&qs.self.location&&(i=qs.self.location.protocol.slice(0,-1)),r=!Ql.test(i?i.toLowerCase():"")}n=r}if(n)Xa(e,"complete"),Xa(e,"success");else{e.m=6;try{var s=2<tc(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",$l(e)}}finally{Zl(e)}}}function Zl(e,t){if(e.g){ec(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Xa(e,"ready");try{n.onreadystatechange=r}catch(aC){}}}function ec(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(qs.clearTimeout(e.A),e.A=null)}function tc(e){return e.g?e.g.readyState:0}function nc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Gl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ou){return null}}function rc(e){let t="";return Pa(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function ic(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=rc(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):cl(e,t,n))}function sc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ac(e){this.Ga=0,this.j=[],this.l=new bo,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=sc("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=sc("baseRetryDelayMs",5e3,e),this.hb=sc("retryDelaySeedMs",1e4,e),this.eb=sc("forwardChannelMaxRetries",2,e),this.xa=sc("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Nl(e&&e.concurrentRequestLimit),this.Ja=new Ml,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function oc(e){if(cc(e),3==e.H){var t=e.W++,n=sl(e.I);if(cl(n,"SID",e.K),cl(n,"RID",t),cl(n,"TYPE","terminate"),dc(e,n),(t=new Uo(e,e.l,t)).L=2,t.v=ul(sl(n)),n=!1,qs.navigator&&qs.navigator.sendBeacon)try{n=qs.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&qs.Image&&((new Image).src=t.v,n=!0),n||(t.g=kc(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Xo(t)}Ec(e)}function lc(e){e.g&&(gc(e),e.g.cancel(),e.g=null)}function cc(e){lc(e),e.u&&(qs.clearTimeout(e.u),e.u=null),vc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&qs.clearTimeout(e.m),e.m=null)}function uc(e){if(!_l(e.i)&&!e.m){e.m=!0;var t=e.Na;io||oo(),so||(io(),so=!0),ao.add(t,e),e.C=0}}function hc(e,t){var n;n=t?t.m:e.W++;const r=sl(e.I);cl(r,"SID",e.K),cl(r,"RID",n),cl(r,"AID",e.V),dc(e,r),e.o&&e.s&&ic(r,e.o,e.s),n=new Uo(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=fc(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Al(e.i,n),Wo(n,r,t)}function dc(e,t){e.na&&Pa(e.na,function(e,n){cl(t,n,e)}),e.h&&nl({},function(e,n){cl(t,n,e)})}function fc(e,t,n){n=Math.min(e.j.length,n);var r=e.h?$s(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Ll(o,e,"req"+n+"_")}catch(vu){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function pc(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;io||oo(),so||(io(),so=!0),ao.add(t,e),e.A=0}}function mc(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Io($s(e.Ma,e),wc(e,e.A)),e.A++,!0)}function gc(e){null!=e.B&&(qs.clearTimeout(e.B),e.B=null)}function yc(e){e.g=new Uo(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=sl(e.wa);cl(t,"RID","rpc"),cl(t,"SID",e.K),cl(t,"AID",e.V),cl(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&cl(t,"TO",e.qa),cl(t,"TYPE","xmlhttp"),dc(e,t),e.o&&e.s&&ic(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=ul(sl(t)),n.s=null,n.S=!0,Ko(n,e)}function vc(e){null!=e.v&&(qs.clearTimeout(e.v),e.v=null)}function bc(e,t){var n=null;if(e.g==t){vc(e),gc(e),e.g=null;var r=2}else{if(!Pl(e.i,t))return;n=t.F,jl(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Xa(r=So(),new _o(r,n)),uc(e)}else pc(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Il(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Io($s(e.Na,e,t),wc(e,e.C)),e.C++,!0))}(e,t)||2==r&&mc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:xc(e,5);break;case 4:xc(e,10);break;case 3:xc(e,6);break;default:xc(e,2)}}function wc(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function xc(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=$s(e.pb,e);n||(n=new il("//www.google.com/images/cleardot.gif"),qs.location&&"http"==qs.location.protocol||al(n,"https"),ul(n)),function(e,t){const n=new bo;if(qs.Image){const r=new Image;r.onload=Js(Fl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Js(Fl,n,r,"TestLoadImage: error",!1,t),r.onabort=Js(Fl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Js(Fl,n,r,"TestLoadImage: timeout",!1,t),qs.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Co(2);e.H=0,e.h&&e.h.za(t),Ec(e),cc(e)}function Ec(e){if(e.H=0,e.ma=[],e.h){const t=Rl(e.i);0==t.length&&0==e.j.length||(ra(e.ma,t),ra(e.ma,e.j),e.i.i.length=0,na(e.j),e.j.length=0),e.h.ya()}}function Sc(e,t,n){var r=n instanceof il?sl(n):new il(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ol(r,r.m);else{var i=qs.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new il(null);r&&al(s,r),t&&(s.g=t),i&&ol(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&cl(r,n,t),cl(r,"VER",e.ra),dc(e,r),r}function kc(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Kl(new Vl({ob:!0})):new Kl(e.va)).Oa(e.J),t}function Tc(){}function Nc(){if(fa&&!(10<=Number(Sa)))throw Error("Environmental error: no available transport.")}function Cc(e,t){Ya.call(this),this.g=new ac(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!aa(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!aa(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Pc(this)}function _c(e){Lo.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ic(){Fo.call(this),this.status=1}function Pc(e){this.g=e}function Ac(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function jc(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Rc(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Us=Kl.prototype).Oa=function(e){this.M=e},Us.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Oo.g(),this.C=this.u?Ro(this.u):Ro(Oo),this.g.onreadystatechange=$s(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Xl(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=qs.FormData&&e instanceof qs.FormData,!(0<=ta(Yl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ec(this),0<this.B&&((this.L=function(e){return fa&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$s(this.ua,this)):this.A=ho(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Xl(this,s)}},Us.ua=function(){"undefined"!=typeof Hs&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xa(this,"timeout"),this.abort(8))},Us.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Xa(this,"complete"),Xa(this,"abort"),Zl(this))},Us.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zl(this,!0)),Kl.$.N.call(this)},Us.La=function(){this.s||(this.G||this.v||this.l?Jl(this):this.kb())},Us.kb=function(){Jl(this)},Us.isActive=function(){return!!this.g},Us.da=function(){try{return 2<tc(this)?this.g.status:-1}catch(Dl){return-1}},Us.ja=function(){try{return this.g?this.g.responseText:""}catch(Dl){return""}},Us.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Wl(t)}},Us.Ia=function(){return this.m},Us.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Us=ac.prototype).ra=8,Us.H=1,Us.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Uo(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Aa(s),Ra(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=fc(this,i,t),cl(n=sl(this.I),"RID",e),cl(n,"CVER",22),this.F&&cl(n,"X-HTTP-Session-Id",this.F),dc(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(rc(s)))+"&"+t:this.o&&ic(n,this.o,s)),Al(this.i,i),this.bb&&cl(n,"TYPE","init"),this.P?(cl(n,"$req",t),cl(n,"SID","null"),i.aa=!0,Wo(i,n,null)):Wo(i,n,t),this.H=2}}else 3==this.H&&(e?hc(this,e):0==this.j.length||_l(this.i)||hc(this))},Us.Ma=function(){if(this.u=null,yc(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Io($s(this.jb,this),e)}},Us.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Co(10),lc(this),yc(this))},Us.ib=function(){null!=this.v&&(this.v=null,lc(this),mc(this),Co(19))},Us.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Co(2)):(this.l.info("Failed to ping google.com"),Co(1))},Us.isActive=function(){return!!this.h&&this.h.isActive(this)},(Us=Tc.prototype).Ba=function(){},Us.Aa=function(){},Us.za=function(){},Us.ya=function(){},Us.isActive=function(){return!0},Us.Va=function(){},Nc.prototype.g=function(e,t){return new Cc(e,t)},Zs(Cc,Ya),Cc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Co(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Sc(e,null,e.Y),uc(e)},Cc.prototype.close=function(){oc(this.g)},Cc.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ja(e),e=n);t.j.push(new Tl(t.fb++,e)),3==t.H&&uc(t)},Cc.prototype.N=function(){this.g.h=null,delete this.j,oc(this.g),delete this.g,Cc.$.N.call(this)},Zs(_c,Lo),Zs(Ic,Fo),Zs(Pc,Tc),Pc.prototype.Ba=function(){Xa(this.g,"a")},Pc.prototype.Aa=function(e){Xa(this.g,new _c(e))},Pc.prototype.za=function(e){Xa(this.g,new Ic)},Pc.prototype.ya=function(){Xa(this.g,"b")},Zs(Ac,function(){this.blockSize=-1}),Ac.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ac.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)jc(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){jc(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){jc(this,r),i=0;break}}this.h=i,this.i+=t},Ac.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Dc={};function Oc(e){return-128<=e&&128>e?function(e,t){var n=Dc;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new Rc([0|e],0>e?-1:0)}):new Rc([0|e],0>e?-1:0)}function Mc(e){if(isNaN(e)||!isFinite(e))return Fc;if(0>e)return Hc(Mc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Lc;return new Rc(t,0)}var Lc=4294967296,Fc=Oc(0),Vc=Oc(1),Uc=Oc(16777216);function Bc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function zc(e){return-1==e.h}function Hc(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Rc(n,~e.h).add(Vc)}function qc(e,t){return e.add(Hc(t))}function Wc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Kc(e,t){this.g=e,this.h=t}function Gc(e,t){if(Bc(t))throw Error("division by zero");if(Bc(e))return new Kc(Fc,Fc);if(zc(e))return t=Gc(Hc(e),t),new Kc(Hc(t.g),Hc(t.h));if(zc(t))return t=Gc(e,Hc(t)),new Kc(Hc(t.g),t.h);if(30<e.g.length){if(zc(e)||zc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Vc,r=t;0>=r.X(e);)n=Qc(n),r=Qc(r);var i=Yc(n,1),s=Yc(r,1);for(r=Yc(r,2),n=Yc(n,2);!Bc(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=Yc(r,1),n=Yc(n,1)}return t=qc(e,i.R(t)),new Kc(i,t)}for(i=Fc;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=Mc(n)).R(t);zc(a)||0<a.X(e);)a=(s=Mc(n-=r)).R(t);Bc(s)&&(s=Vc),i=i.add(s),e=qc(e,a)}return new Kc(i,e)}function Qc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Rc(n,e.h)}function Yc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Rc(i,e.h)}(Us=Rc.prototype).ea=function(){if(zc(this))return-Hc(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Lc+r)*t,t*=Lc}return e},Us.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Bc(this))return"0";if(zc(this))return"-"+Hc(this).toString(e);for(var t=Mc(Math.pow(e,6)),n=this,r="";;){var i=Gc(n,t).g,s=((0<(n=qc(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Bc(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Us.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Us.X=function(e){return zc(e=qc(this,e))?-1:Bc(e)?0:1},Us.abs=function(){return zc(this)?Hc(this):this},Us.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new Rc(n,-2147483648&n[n.length-1]?-1:0)},Us.R=function(e){if(Bc(this)||Bc(e))return Fc;if(zc(this))return zc(e)?Hc(this).R(Hc(e)):Hc(Hc(this).R(e));if(zc(e))return Hc(this.R(Hc(e)));if(0>this.X(Uc)&&0>e.X(Uc))return Mc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,Wc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Wc(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,Wc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,Wc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Rc(n,0)},Us.gb=function(e){return Gc(this,e).h},Us.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Rc(n,this.h&e.h)},Us.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Rc(n,this.h|e.h)},Us.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Rc(n,this.h^e.h)},Nc.prototype.createWebChannel=Nc.prototype.g,Cc.prototype.send=Cc.prototype.u,Cc.prototype.open=Cc.prototype.m,Cc.prototype.close=Cc.prototype.close,Po.NO_ERROR=0,Po.TIMEOUT=8,Po.HTTP_ERROR=6,Ao.COMPLETE="complete",Do.EventType=Mo,Mo.OPEN="a",Mo.CLOSE="b",Mo.ERROR="c",Mo.MESSAGE="d",Ya.prototype.listen=Ya.prototype.O,Kl.prototype.listenOnce=Kl.prototype.P,Kl.prototype.getLastError=Kl.prototype.Sa,Kl.prototype.getLastErrorCode=Kl.prototype.Ia,Kl.prototype.getStatus=Kl.prototype.da,Kl.prototype.getResponseJson=Kl.prototype.Wa,Kl.prototype.getResponseText=Kl.prototype.ja,Kl.prototype.send=Kl.prototype.ha,Kl.prototype.setWithCredentials=Kl.prototype.Oa,Ac.prototype.digest=Ac.prototype.l,Ac.prototype.reset=Ac.prototype.reset,Ac.prototype.update=Ac.prototype.j,Rc.prototype.add=Rc.prototype.add,Rc.prototype.multiply=Rc.prototype.R,Rc.prototype.modulo=Rc.prototype.gb,Rc.prototype.compare=Rc.prototype.X,Rc.prototype.toNumber=Rc.prototype.ea,Rc.prototype.toString=Rc.prototype.toString,Rc.prototype.getBits=Rc.prototype.D,Rc.fromNumber=Mc,Rc.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Hc(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Mc(Math.pow(n,8)),i=Fc,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=Mc(Math.pow(n,a)),i=i.R(a).add(Mc(o))):i=(i=i.R(r)).add(Mc(o))}return i};var Xc=zs.createWebChannelTransport=function(){return new Nc},$c=zs.getStatEventTarget=function(){return So()},Jc=zs.ErrorCode=Po,Zc=zs.EventType=Ao,eu=zs.Event=xo,tu=zs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},nu=zs.FetchXmlHttpFactory=Vl,ru=zs.WebChannel=Do,iu=zs.XhrIo=Kl,su=zs.Md5=Ac,au=zs.Integer=Rc;const ou="@firebase/firestore";class lu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lu.UNAUTHENTICATED=new lu(null),lu.GOOGLE_CREDENTIALS=new lu("google-credentials-uid"),lu.FIRST_PARTY=new lu("first-party-uid"),lu.MOCK_USER=new lu("mock-user");let cu="9.23.0";const uu=new bt("@firebase/firestore");function hu(){return uu.logLevel}function du(e){if(uu.logLevel<=pt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mu);uu.debug("Firestore (".concat(cu,"): ").concat(e),...i)}}function fu(e){if(uu.logLevel<=pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mu);uu.error("Firestore (".concat(cu,"): ").concat(e),...i)}}function pu(e){if(uu.logLevel<=pt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mu);uu.warn("Firestore (".concat(cu,"): ").concat(e),...i)}}function mu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function gu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(cu,") INTERNAL ASSERTION FAILED: ")+e;throw fu(t),new Error(t)}function yu(e,t){e||gu()}function vu(e,t){return e}const bu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wu extends Je{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class xu{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Eu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Su{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(lu.UNAUTHENTICATED))}shutdown(){}}class ku{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Tu{constructor(e){this.t=e,this.currentUser=lu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new xu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xu,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{du("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(du("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xu)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(du("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(yu("string"==typeof t.accessToken),new Eu(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yu(null===e||"string"==typeof e),new lu(e)}}class Nu{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=lu.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Cu{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Nu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(lu.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _u{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Iu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&du("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,du("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{du("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):du("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(yu("string"==typeof e.token),this.T=e.token,new _u(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Pu(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Au{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Pu(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function ju(e,t){return e<t?-1:e>t?1:0}function Ru(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class Du{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new wu(bu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new wu(bu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new wu(bu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wu(bu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Du.fromMillis(Date.now())}static fromDate(e){return Du.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Du(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ju(this.nanoseconds,e.nanoseconds):ju(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ou{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ou(e)}static min(){return new Ou(new Du(0,0))}static max(){return new Ou(new Du(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Mu{constructor(e,t,n){void 0===t?t=0:t>e.length&&gu(),void 0===n?n=e.length-t:n>e.length-t&&gu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Mu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mu?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Lu extends Mu{construct(e,t,n){return new Lu(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new wu(bu.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Lu(e)}static emptyPath(){return new Lu([])}}const Fu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vu extends Mu{construct(e,t,n){return new Vu(e,t,n)}static isValidIdentifier(e){return Fu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vu.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vu(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new wu(bu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new wu(bu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new wu(bu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new wu(bu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vu(t)}static emptyPath(){return new Vu([])}}class Uu{constructor(e){this.path=e}static fromPath(e){return new Uu(Lu.fromString(e))}static fromName(e){return new Uu(Lu.fromString(e).popFirst(5))}static empty(){return new Uu(Lu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Lu.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Lu.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Uu(new Lu(e.slice()))}}class Bu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Bu.UNKNOWN_ID=-1;function zu(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ou.fromTimestamp(1e9===r?new Du(n+1,0):new Du(n,r));return new qu(i,Uu.empty(),t)}function Hu(e){return new qu(e.readTime,e.key,-1)}class qu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new qu(Ou.min(),Uu.empty(),-1)}static max(){return new qu(Ou.max(),Uu.empty(),-1)}}function Wu(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Uu.comparator(e.documentKey,t.documentKey),0!==n?n:ju(e.largestBatchId,t.largestBatchId))}const Ku="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Qu(e){if(e.code!==bu.FAILED_PRECONDITION||e.message!==Ku)throw e;du("LocalStore","Unexpectedly lost primary lease")}class Yu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Yu((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Yu?t:Yu.resolve(t)}catch(e){return Yu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Yu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Yu.reject(t)}static resolve(e){return new Yu((t,n)=>{t(e)})}static reject(e){return new Yu((t,n)=>{n(e)})}static waitFor(e){return new Yu((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Yu.resolve(!1);for(const n of e)t=t.next(e=>e?Yu.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Yu((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Yu((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Xu(e){return"IndexedDbTransactionError"===e.name}class $u{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Ju(e){return null==e}function Zu(e){return 0===e&&1/e==-1/0}function eh(e){return"number"==typeof e&&Number.isInteger(e)&&!Zu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}$u.ct=-1;const th=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],nh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rh=nh;function ih(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function sh(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ah(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class oh{constructor(e,t){this.comparator=e,this.root=t||ch.EMPTY}insert(e,t){return new oh(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ch.BLACK,null,null))}remove(e){return new oh(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ch.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ch{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ch.RED,this.left=null!=r?r:ch.EMPTY,this.right=null!=i?i:ch.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ch(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ch.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ch.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ch.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ch.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gu();if(this.right.isRed())throw gu();const e=this.left.check();if(e!==this.right.check())throw gu();return e+(this.isRed()?0:1)}}ch.EMPTY=null,ch.RED=!0,ch.BLACK=!1,ch.EMPTY=new class{constructor(){this.size=0}get key(){throw gu()}get value(){throw gu()}get color(){throw gu()}get left(){throw gu()}get right(){throw gu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ch(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class uh{constructor(e){this.comparator=e,this.data=new oh(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hh(this.data.getIterator())}getIteratorFrom(e){return new hh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof uh))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new uh(this.comparator);return t.data=e,t}}class hh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class dh{constructor(e){this.fields=e,e.sort(Vu.comparator)}static empty(){return new dh([])}unionWith(e){let t=new uh(Vu.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new dh(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ru(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class fh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ph{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new fh("Invalid base64 string: "+e):e}}(e);return new ph(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ph(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ju(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ph.EMPTY_BYTE_STRING=new ph("");const mh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gh(e){if(yu(!!e),"string"==typeof e){let t=0;const n=mh.exec(e);if(yu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:yh(e.seconds),nanos:yh(e.nanos)}}function yh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vh(e){return"string"==typeof e?ph.fromBase64String(e):ph.fromUint8Array(e)}function bh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wh(e){const t=e.mapValue.fields.__previous_value__;return bh(t)?wh(t):t}function xh(e){const t=gh(e.mapValue.fields.__local_write_time__.timestampValue);return new Du(t.seconds,t.nanos)}class Eh{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class Sh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sh&&e.projectId===this.projectId&&e.database===this.database}}const kh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Th(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bh(e)?4:Fh(e)?9007199254740991:10:gu()}function Nh(e,t){if(e===t)return!0;const n=Th(e);if(n!==Th(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xh(e).isEqual(xh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=gh(e.timestampValue),r=gh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vh(e.bytesValue).isEqual(vh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return yh(e.geoPointValue.latitude)===yh(t.geoPointValue.latitude)&&yh(e.geoPointValue.longitude)===yh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return yh(e.integerValue)===yh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=yh(e.doubleValue),r=yh(t.doubleValue);return n===r?Zu(n)===Zu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ru(e.arrayValue.values||[],t.arrayValue.values||[],Nh);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ih(n)!==ih(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Nh(n[i],r[i])))return!1;return!0}(e,t);default:return gu()}}function Ch(e,t){return void 0!==(e.values||[]).find(e=>Nh(e,t))}function _h(e,t){if(e===t)return 0;const n=Th(e),r=Th(t);if(n!==r)return ju(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ju(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=yh(e.integerValue||e.doubleValue),r=yh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ih(e.timestampValue,t.timestampValue);case 4:return Ih(xh(e),xh(t));case 5:return ju(e.stringValue,t.stringValue);case 6:return function(e,t){const n=vh(e),r=vh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ju(n[i],r[i]);if(0!==e)return e}return ju(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ju(yh(e.latitude),yh(t.latitude));return 0!==n?n:ju(yh(e.longitude),yh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=_h(n[i],r[i]);if(e)return e}return ju(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===kh.mapValue&&t===kh.mapValue)return 0;if(e===kh.mapValue)return 1;if(t===kh.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=ju(r[a],s[a]);if(0!==e)return e;const t=_h(n[r[a]],i[s[a]]);if(0!==t)return t}return ju(r.length,s.length)}(e.mapValue,t.mapValue);default:throw gu()}}function Ih(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ju(e,t);const n=gh(e),r=gh(t),i=ju(n.seconds,r.seconds);return 0!==i?i:ju(n.nanos,r.nanos)}function Ph(e){return Ah(e)}function Ah(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=gh(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?vh(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Uu.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ah(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Ah(e.fields[i]));return n+"}"}(e.mapValue):gu();var t,n}function jh(e){return!!e&&"integerValue"in e}function Rh(e){return!!e&&"arrayValue"in e}function Dh(e){return!!e&&"nullValue"in e}function Oh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Mh(e){return!!e&&"mapValue"in e}function Lh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return sh(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Lh(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Lh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Fh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Vh{constructor(e){this.value=e}static empty(){return new Vh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Mh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lh(t)}setAll(e){let t=Vu.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Lh(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Mh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Mh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){sh(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Vh(Lh(this.value))}}function Uh(e){const t=[];return sh(e.fields,(e,n)=>{const r=new Vu([e]);if(Mh(n)){const e=Uh(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new dh(t)}class Bh{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Bh(e,0,Ou.min(),Ou.min(),Ou.min(),Vh.empty(),0)}static newFoundDocument(e,t,n,r){return new Bh(e,1,t,Ou.min(),n,r,0)}static newNoDocument(e,t){return new Bh(e,2,t,Ou.min(),Ou.min(),Vh.empty(),0)}static newUnknownDocument(e,t){return new Bh(e,3,t,Ou.min(),Ou.min(),Vh.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ou.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ou.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class zh{constructor(e,t){this.position=e,this.inclusive=t}}function Hh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Uu.comparator(Uu.fromName(a.referenceValue),n.key):_h(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function qh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Nh(e.position[n],t.position[n]))return!1;return!0}class Wh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Kh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Gh{}class Qh extends Gh{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new nd(e,t,n):"array-contains"===t?new ad(e,n):"in"===t?new od(e,n):"not-in"===t?new ld(e,n):"array-contains-any"===t?new cd(e,n):new Qh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new rd(e,n):new id(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(_h(t,this.value)):null!==t&&Th(this.value)===Th(t)&&this.matchesComparison(_h(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gu()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Yh extends Gh{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Yh(e,t)}matches(e){return Xh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Xh(e){return"and"===e.op}function $h(e){return Jh(e)&&Xh(e)}function Jh(e){for(const t of e.filters)if(t instanceof Yh)return!1;return!0}function Zh(e){if(e instanceof Qh)return e.field.canonicalString()+e.op.toString()+Ph(e.value);if($h(e))return e.filters.map(e=>Zh(e)).join(",");{const t=e.filters.map(e=>Zh(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function ed(e,t){return e instanceof Qh?function(e,t){return t instanceof Qh&&e.op===t.op&&e.field.isEqual(t.field)&&Nh(e.value,t.value)}(e,t):e instanceof Yh?function(e,t){return t instanceof Yh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&ed(n,t.filters[r]),!0)}(e,t):void gu()}function td(e){return e instanceof Qh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ph(e.value))}(e):e instanceof Yh?function(e){return e.op.toString()+" {"+e.getFilters().map(td).join(" ,")+"}"}(e):"Filter"}class nd extends Qh{constructor(e,t,n){super(e,t,n),this.key=Uu.fromName(n.referenceValue)}matches(e){const t=Uu.comparator(e.key,this.key);return this.matchesComparison(t)}}class rd extends Qh{constructor(e,t){super(e,"in",t),this.keys=sd("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class id extends Qh{constructor(e,t){super(e,"not-in",t),this.keys=sd("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Uu.fromName(e.referenceValue))}class ad extends Qh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rh(t)&&Ch(t.arrayValue,this.value)}}class od extends Qh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ch(this.value.arrayValue,t)}}class ld extends Qh{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ch(this.value.arrayValue,t)}}class cd extends Qh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ch(this.value.arrayValue,e))}}class ud{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.dt=null}}function hd(e){return new ud(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function dd(e){const t=vu(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Zh(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Ju(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ph(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ph(e)).join(",")),t.dt=e}return t.dt}function fd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Kh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ed(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qh(e.startAt,t.startAt)&&qh(e.endAt,t.endAt)}function pd(e){return Uu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class md{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function gd(e,t,n,r,i,s,a,o){return new md(e,t,n,r,i,s,a,o)}function yd(e){return new md(e)}function vd(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function bd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function wd(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function xd(e){return null!==e.collectionGroup}function Ed(e){const t=vu(e);if(null===t.wt){t.wt=[];const e=wd(t),n=bd(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Wh(e)),t.wt.push(new Wh(Vu.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Wh(Vu.keyField(),e))}}}return t.wt}function Sd(e){const t=vu(e);if(!t._t)if("F"===t.limitType)t._t=hd(t.path,t.collectionGroup,Ed(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Ed(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Wh(i.field,t))}const n=t.endAt?new zh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zh(t.startAt.position,t.startAt.inclusive):null;t._t=hd(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function kd(e,t,n){return new md(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Td(e,t){return fd(Sd(e),Sd(t))&&e.limitType===t.limitType}function Nd(e){return"".concat(dd(Sd(e)),"|lt:").concat(e.limitType)}function Cd(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>td(e)).join(", "),"]")),Ju(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ph(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ph(e)).join(",")),"Target(".concat(t,")")}(Sd(e)),"; limitType=").concat(e.limitType,")")}function _d(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Uu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ed(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Hh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ed(e),t))&&!(e.endAt&&!function(e,t,n){const r=Hh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ed(e),t))}(e,t)}function Id(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Pd(e){return(t,n)=>{let r=!1;for(const i of Ed(e)){const e=Ad(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ad(e,t,n){const r=e.field.isKeyField()?Uu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?_h(r,i):gu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return gu()}}class jd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){sh(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return ah(this.inner)}size(){return this.innerSize}}const Rd=new oh(Uu.comparator);function Dd(){return Rd}const Od=new oh(Uu.comparator);function Md(){let e=Od;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Ld(e){let t=Od;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Fd(){return Ud()}function Vd(){return Ud()}function Ud(){return new jd(e=>e.toString(),(e,t)=>e.isEqual(t))}const Bd=new oh(Uu.comparator),zd=new uh(Uu.comparator);function Hd(){let e=zd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const qd=new uh(ju);function Wd(){return qd}function Kd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zu(t)?"-0":t}}function Gd(e){return{integerValue:""+e}}function Qd(e,t){return eh(t)?Gd(t):Kd(e,t)}class Yd{constructor(){this._=void 0}}function Xd(e,t,n){return e instanceof Zd?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&bh(t)&&(t=wh(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ef?tf(e,t):e instanceof nf?rf(e,t):function(e,t){const n=Jd(e,t),r=af(n)+af(e.gt);return jh(n)&&jh(e.gt)?Gd(r):Kd(e.serializer,r)}(e,t)}function $d(e,t,n){return e instanceof ef?tf(e,t):e instanceof nf?rf(e,t):n}function Jd(e,t){return e instanceof sf?jh(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Zd extends Yd{}class ef extends Yd{constructor(e){super(),this.elements=e}}function tf(e,t){const n=of(t);for(const r of e.elements)n.some(e=>Nh(e,r))||n.push(r);return{arrayValue:{values:n}}}class nf extends Yd{constructor(e){super(),this.elements=e}}function rf(e,t){let n=of(t);for(const r of e.elements)n=n.filter(e=>!Nh(e,r));return{arrayValue:{values:n}}}class sf extends Yd{constructor(e,t){super(),this.serializer=e,this.gt=t}}function af(e){return yh(e.integerValue||e.doubleValue)}function of(e){return Rh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class lf{constructor(e,t){this.version=e,this.transformResults=t}}class cf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cf}static exists(e){return new cf(void 0,e)}static updateTime(e){return new cf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class hf{}function df(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ef(e.key,cf.none()):new yf(e.key,e.data,cf.none());{const n=e.data,r=Vh.empty();let i=new uh(Vu.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new vf(e.key,r,new dh(i.toArray()),cf.none())}}function ff(e,t,n){e instanceof yf?function(e,t,n){const r=e.value.clone(),i=wf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof vf?function(e,t,n){if(!uf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=wf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(bf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function pf(e,t,n,r){return e instanceof yf?function(e,t,n,r){if(!uf(e.precondition,t))return n;const i=e.value.clone(),s=xf(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof vf?function(e,t,n,r){if(!uf(e.precondition,t))return n;const i=xf(e.fieldTransforms,r,t),s=t.data;return s.setAll(bf(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return uf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function mf(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Jd(r.transform,e||null);null!=i&&(null===n&&(n=Vh.empty()),n.set(r.field,i))}return n||null}function gf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ru(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ef&&t instanceof ef||e instanceof nf&&t instanceof nf?Ru(e.elements,t.elements,Nh):e instanceof sf&&t instanceof sf?Nh(e.gt,t.gt):e instanceof Zd&&t instanceof Zd}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class yf extends hf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class vf extends hf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function bf(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function wf(e,t,n){const r=new Map;yu(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,$d(a,o,n[i]))}return r}function xf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Xd(e,s,t))}return r}class Ef extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sf extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ff(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=pf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=pf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Vd();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=df(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Ou.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Hd())}isEqual(e){return this.batchId===e.batchId&&Ru(this.mutations,e.mutations,(e,t)=>gf(e,t))&&Ru(this.baseMutations,e.baseMutations,(e,t)=>gf(e,t))}}class Tf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){yu(e.mutations.length===n.length);let r=Bd;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Tf(e,t,n,r)}}class Nf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Cf{constructor(e,t){this.count=e,this.unchangedNames=t}}var _f,If;function Pf(e){switch(e){default:return gu();case bu.CANCELLED:case bu.UNKNOWN:case bu.DEADLINE_EXCEEDED:case bu.RESOURCE_EXHAUSTED:case bu.INTERNAL:case bu.UNAVAILABLE:case bu.UNAUTHENTICATED:return!1;case bu.INVALID_ARGUMENT:case bu.NOT_FOUND:case bu.ALREADY_EXISTS:case bu.PERMISSION_DENIED:case bu.FAILED_PRECONDITION:case bu.ABORTED:case bu.OUT_OF_RANGE:case bu.UNIMPLEMENTED:case bu.DATA_LOSS:return!0}}function Af(e){if(void 0===e)return fu("GRPC error has no .code"),bu.UNKNOWN;switch(e){case _f.OK:return bu.OK;case _f.CANCELLED:return bu.CANCELLED;case _f.UNKNOWN:return bu.UNKNOWN;case _f.DEADLINE_EXCEEDED:return bu.DEADLINE_EXCEEDED;case _f.RESOURCE_EXHAUSTED:return bu.RESOURCE_EXHAUSTED;case _f.INTERNAL:return bu.INTERNAL;case _f.UNAVAILABLE:return bu.UNAVAILABLE;case _f.UNAUTHENTICATED:return bu.UNAUTHENTICATED;case _f.INVALID_ARGUMENT:return bu.INVALID_ARGUMENT;case _f.NOT_FOUND:return bu.NOT_FOUND;case _f.ALREADY_EXISTS:return bu.ALREADY_EXISTS;case _f.PERMISSION_DENIED:return bu.PERMISSION_DENIED;case _f.FAILED_PRECONDITION:return bu.FAILED_PRECONDITION;case _f.ABORTED:return bu.ABORTED;case _f.OUT_OF_RANGE:return bu.OUT_OF_RANGE;case _f.UNIMPLEMENTED:return bu.UNIMPLEMENTED;case _f.DATA_LOSS:return bu.DATA_LOSS;default:return gu()}}(If=_f||(_f={}))[If.OK=0]="OK",If[If.CANCELLED=1]="CANCELLED",If[If.UNKNOWN=2]="UNKNOWN",If[If.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",If[If.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",If[If.NOT_FOUND=5]="NOT_FOUND",If[If.ALREADY_EXISTS=6]="ALREADY_EXISTS",If[If.PERMISSION_DENIED=7]="PERMISSION_DENIED",If[If.UNAUTHENTICATED=16]="UNAUTHENTICATED",If[If.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",If[If.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",If[If.ABORTED=10]="ABORTED",If[If.OUT_OF_RANGE=11]="OUT_OF_RANGE",If[If.UNIMPLEMENTED=12]="UNIMPLEMENTED",If[If.INTERNAL=13]="INTERNAL",If[If.UNAVAILABLE=14]="UNAVAILABLE",If[If.DATA_LOSS=15]="DATA_LOSS";class jf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Rf}static getOrCreateInstance(){return null===Rf&&(Rf=new jf),Rf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Rf=null;function Df(){return new TextEncoder}const Of=new au([4294967295,4294967295],0);function Mf(e){const t=Df().encode(e),n=new su;return n.update(t),new Uint8Array(n.digest())}function Lf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new au([n,r],0),new au([i,s],0)]}class Ff{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Vf("Invalid padding: ".concat(t));if(n<0)throw new Vf("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Vf("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Vf("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=au.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(au.fromNumber(n)));return 1===r.compare(Of)&&(r=new au([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Mf(e),[n,r]=Lf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ff(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.It)return;const t=Mf(e),[n,r]=Lf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Vf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Bf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Uf(Ou.min(),r,new oh(ju),Dd(),Hd())}}class Bf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Bf(n,t,Hd(),Hd(),Hd())}}class zf{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Hf{constructor(e,t){this.targetId=e,this.Vt=t}}class qf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ph.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Wf{constructor(){this.St=0,this.Dt=Qf(),this.Ct=ph.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Hd(),t=Hd(),n=Hd();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:gu()}}),new Bf(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Qf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Kf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Dd(),this.zt=Gf(),this.Wt=new oh(ju)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:gu()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(pd(s))if(0===r){const e=new Uu(s.path);this.Yt(n,e,Bh.newNoDocument(e,Ou.min()))}else yu(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=jf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,a,o,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(s=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(l=null===(o=null==u?void 0:u.bits)||void 0===o?void 0:o.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let o,l;try{o=vh(i).toUint8Array()}catch(e){if(e instanceof fh)return pu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Ff(o,s,a)}catch(e){return pu(e instanceof Vf?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const i=this.Gt.ue(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(s)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const i=this.se(r);if(i){if(n.current&&pd(i.target)){const t=new Uu(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Bh.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=Hd();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new Uf(e,t,this.Wt,this.jt,n);return this.jt=Dd(),this.zt=Gf(),this.Wt=new oh(ju),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Wf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new uh(ju),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||du("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Wf),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Gf(){return new oh(Uu.comparator)}function Qf(){return new oh(Uu.comparator)}const Yf={asc:"ASCENDING",desc:"DESCENDING"},Xf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$f={and:"AND",or:"OR"};class Jf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zf(e,t){return e.useProto3Json||Ju(t)?t:{value:t}}function ep(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function tp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function np(e,t){return ep(e,t.toTimestamp())}function rp(e){return yu(!!e),Ou.fromTimestamp(function(e){const t=gh(e);return new Du(t.seconds,t.nanos)}(e))}function ip(e,t){return function(e){return new Lu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function sp(e){const t=Lu.fromString(e);return yu(Tp(t)),t}function ap(e,t){return ip(e.databaseId,t.path)}function op(e,t){const n=sp(t);if(n.get(1)!==e.databaseId.projectId)throw new wu(bu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new wu(bu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Uu(hp(n))}function lp(e,t){return ip(e.databaseId,t)}function cp(e){const t=sp(e);return 4===t.length?Lu.emptyPath():hp(t)}function up(e){return new Lu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hp(e){return yu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function dp(e,t,n){return{name:ap(e,t),fields:n.value.mapValue.fields}}function fp(e,t){let n;if(t instanceof yf)n={update:dp(e,t.key,t.value)};else if(t instanceof Ef)n={delete:ap(e,t.key)};else if(t instanceof vf)n={update:dp(e,t.key,t.data),updateMask:kp(t.fieldMask)};else{if(!(t instanceof Sf))return gu();n={verify:ap(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Zd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ef)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sf)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw gu()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:np(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:gu()}(e,t.precondition)),n}function pp(e,t){return{documents:[lp(e,t.path)]}}function mp(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=lp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=lp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Sp(Yh.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:xp(e.field),direction:vp(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Zf(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function gp(e){let t=cp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){yu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=yp(e);return t instanceof Yh&&$h(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>function(e){return new Wh(Ep(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Ju(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new zh(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new zh(n,t)}(n.endAt)),gd(t,i,a,s,o,"F",l,c)}function yp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ep(e.unaryFilter.field);return Qh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ep(e.unaryFilter.field);return Qh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ep(e.unaryFilter.field);return Qh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ep(e.unaryFilter.field);return Qh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return gu()}}(e):void 0!==e.fieldFilter?function(e){return Qh.create(Ep(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Yh.create(e.compositeFilter.filters.map(e=>yp(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return gu()}}(e.compositeFilter.op))}(e):gu()}function vp(e){return Yf[e]}function bp(e){return Xf[e]}function wp(e){return $f[e]}function xp(e){return{fieldPath:e.canonicalString()}}function Ep(e){return Vu.fromServerFormat(e.fieldPath)}function Sp(e){return e instanceof Qh?function(e){if("=="===e.op){if(Oh(e.value))return{unaryFilter:{field:xp(e.field),op:"IS_NAN"}};if(Dh(e.value))return{unaryFilter:{field:xp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Oh(e.value))return{unaryFilter:{field:xp(e.field),op:"IS_NOT_NAN"}};if(Dh(e.value))return{unaryFilter:{field:xp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xp(e.field),op:bp(e.op),value:e.value}}}(e):e instanceof Yh?function(e){const t=e.getFilters().map(e=>Sp(e));return 1===t.length?t[0]:{compositeFilter:{op:wp(e.op),filters:t}}}(e):gu()}function kp(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Tp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Np{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ou.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ou.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ph.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Np(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Np(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Np(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Np(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Cp{constructor(e){this.fe=e}}function _p(e){const t=gp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?kd(t,t.limit,"L"):t}class Ip{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(yh(e.integerValue));else if("doubleValue"in e){const n=yh(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Zu(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(vh(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Fh(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):gu()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Uu.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Ip.Ve=new Ip;class Pp{constructor(){this.rn=new Ap}addToCollectionParentIndex(e,t){return this.rn.add(t),Yu.resolve()}getCollectionParents(e,t){return Yu.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Yu.resolve()}deleteFieldIndex(e,t){return Yu.resolve()}getDocumentsMatchingTarget(e,t){return Yu.resolve(null)}getIndexType(e,t){return Yu.resolve(0)}getFieldIndexes(e,t){return Yu.resolve([])}getNextCollectionGroupToUpdate(e){return Yu.resolve(null)}getMinOffset(e,t){return Yu.resolve(qu.min())}getMinOffsetFromCollectionGroup(e,t){return Yu.resolve(qu.min())}updateCollectionGroup(e,t,n){return Yu.resolve()}updateIndexEntries(e,t){return Yu.resolve()}}class Ap{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new uh(Lu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new uh(Lu.comparator)).toArray()}}new Uint8Array(0);class jp{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new jp(e,jp.DEFAULT_COLLECTION_PERCENTILE,jp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}jp.DEFAULT_COLLECTION_PERCENTILE=10,jp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jp.DEFAULT=new jp(41943040,jp.DEFAULT_COLLECTION_PERCENTILE,jp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jp.DISABLED=new jp(-1,0,0);class Rp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Rp(0)}static Mn(){return new Rp(-1)}}class Dp{constructor(){this.changes=new jd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Yu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Op{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Mp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&pf(n.mutation,e,dh.empty(),Du.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Hd()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hd();const r=Fd();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Md();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Fd();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Hd()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Dd();const s=Ud(),a=Ud();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof vf)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),pf(a.mutation,t,a.mutation.getFieldMask(),Du.now())):s.set(t.key,dh.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Op(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Ud();let r=new oh((e,t)=>e-t),i=Hd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||dh.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Hd()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Vd();l.forEach(e=>{if(!i.has(e)){const r=df(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Yu.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return Uu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Yu.resolve(Fd());let a=-1,o=i;return s.next(t=>Yu.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Yu.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,Hd())).next(e=>({batchId:a,changes:Ld(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Uu(t)).next(e=>{let t=Md();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Md();return this.indexManager.getCollectionParents(e,r).next(s=>Yu.forEach(s,s=>{const a=function(e,t){return new md(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Bh.newInvalidDocument(r)))});let n=Md();return e.forEach((e,i)=>{const s=r.get(e);void 0!==s&&pf(s.mutation,i,dh.empty(),Du.now()),_d(t,i)&&(n=n.insert(e,i))}),n})}}class Lp{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Yu.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:rp(n.createTime)}),Yu.resolve()}getNamedQuery(e,t){return Yu.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:_p(e.bundledQuery),readTime:rp(e.readTime)}}(t)),Yu.resolve()}}class Fp{constructor(){this.overlays=new oh(Uu.comparator),this.ls=new Map}getOverlay(e,t){return Yu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Fd();return Yu.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),Yu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),Yu.resolve()}getOverlaysForCollection(e,t,n){const r=Fd(),i=t.length+1,s=new Uu(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Yu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new oh((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Fd(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Fd(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Yu.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Nf(t,n));let i=this.ls.get(t);void 0===i&&(i=Hd(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Vp{constructor(){this.fs=new uh(Up.ds),this.ws=new uh(Up._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Up(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new Up(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new Uu(new Lu([])),n=new Up(t,e),r=new Up(t,e+1),i=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),i.push(e.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Uu(new Lu([])),n=new Up(t,e),r=new Up(t,e+1);let i=Hd();return this.ws.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Up(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Up{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Uu.comparator(e.key,t.key)||ju(e.As,t.As)}static _s(e,t){return ju(e.As,t.As)||Uu.comparator(e.key,t.key)}}class Bp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new uh(Up.ds)}checkEmpty(e){return Yu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new kf(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new Up(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Yu.resolve(s)}lookupMutationBatch(e,t){return Yu.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Yu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Yu.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Yu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Up(t,0),r=new Up(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);i.push(t)}),Yu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new uh(ju);return t.forEach(e=>{const t=new Up(e,0),r=new Up(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),Yu.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Uu.isDocumentKey(i)||(i=i.child(""));const s=new Up(new Uu(i),0);let a=new uh(ju);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)},s),Yu.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){yu(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Yu.forEach(t.mutations,r=>{const i=new Up(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new Up(t,0),r=this.Rs.firstAfterOrEqual(n);return Yu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Yu.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zp{constructor(e){this.Ds=e,this.docs=new oh(Uu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Yu.resolve(n?n.document.mutableCopy():Bh.newInvalidDocument(t))}getEntries(e,t){let n=Dd();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Bh.newInvalidDocument(e))}),Yu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Dd();const s=t.path,a=new Uu(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Wu(Hu(a),n)<=0||(r.has(a.key)||_d(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Yu.resolve(i)}getAllFromCollectionGroup(e,t,n,r){gu()}Cs(e,t){return Yu.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Hp(this)}getSize(e){return Yu.resolve(this.size)}}class Hp extends Dp{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),Yu.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class qp{constructor(e){this.persistence=e,this.xs=new jd(e=>dd(e),fd),this.lastRemoteSnapshotVersion=Ou.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Vp,this.targetCount=0,this.Ms=Rp.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),Yu.resolve()}getLastRemoteSnapshotVersion(e){return Yu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Yu.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Yu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Yu.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Rp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Yu.resolve()}updateTargetData(e,t){return this.Fn(t),Yu.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Yu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Yu.waitFor(i).next(()=>r)}getTargetCount(e){return Yu.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Yu.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Yu.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Yu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Yu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Yu.resolve(n)}containsKey(e,t){return Yu.resolve(this.ks.containsKey(t))}}class Wp{constructor(e,t){this.$s={},this.overlays={},this.Os=new $u(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new qp(this),this.indexManager=new Pp,this.remoteDocumentCache=function(e){return new zp(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new Cp(t),this.qs=new Lp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Bp(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){du("MemoryPersistence","Starting transaction:",e);const r=new Kp(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return Yu.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class Kp extends Gu{constructor(e){super(),this.currentSequenceNumber=e}}class Gp{constructor(e){this.persistence=e,this.Qs=new Vp,this.js=null}static zs(e){return new Gp(e)}get Ws(){if(this.js)return this.js;throw gu()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Yu.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Yu.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Yu.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yu.forEach(this.Ws,n=>{const r=Uu.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,Ou.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Yu.or([()=>Yu.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Qp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Hd(),r=Hd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Qp(e,t.fromCache,n,r)}}class Yp{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(i=>i||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(vd(t))return Yu.resolve(null);let n=Sd(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=kd(t,null,"F"),n=Sd(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Hd(...r);return this.Ui.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,kd(t,null,"F")):this.Wi(e,s,t,n)}))})))}Gi(e,t,n,r){return vd(t)||r.isEqual(Ou.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(hu()<=pt.DEBUG&&du("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Cd(t)),this.Wi(e,s,t,zu(r,-1)))})}ji(e,t){let n=new uh(Pd(e));return t.forEach((t,r)=>{_d(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return hu()<=pt.DEBUG&&du("QueryEngine","Using full collection scan to execute query:",Cd(t)),this.Ui.getDocumentsMatchingQuery(e,t,qu.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class Xp{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new oh(ju),this.Yi=new jd(e=>dd(e),fd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function $p(e,t,n,r){return new Xp(e,t,n,r)}async function Jp(e,t){const n=vu(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=Hd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({er:e,removedBatchIds:i,addedBatchIds:s}))})})}function Zp(e){const t=vu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function em(e,t,n){let r=Hd(),i=Hd();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Dd();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Ou.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):du("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{nr:r,sr:i}})}function tm(e,t){const n=vu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function nm(e,t){const n=vu(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(i=>i?(r=i,Yu.resolve(r)):n.Bs.allocateTargetId(e).next(i=>(r=new Np(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function rm(e,t,n){const r=vu(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Xu(e))throw e;du("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function im(e,t,n){const r=vu(e);let i=Ou.min(),s=Hd();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=vu(e),i=r.Yi.get(n);return void 0!==i?Yu.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Sd(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Ou.min(),n?s:Hd())).next(e=>(sm(r,Id(t),e),{documents:e,ir:s})))}function sm(e,t,n){let r=e.Xi.get(t)||Ou.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class am{constructor(){this.activeTargetIds=Wd()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class om{constructor(){this.Hr=new am,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new am,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lm{Yr(e){}shutdown(){}}class cm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){du("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){du("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let um=null;function hm(){return null===um?um=268435456+Math.round(2147483648*Math.random()):um++,"0x"+um.toString(16)}const dm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fm{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const pm="WebChannelConnection";class mm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=hm(),a=this.To(e,t);du("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={};return this.Eo(o,r,i),this.Ao(e,a,o,n).then(t=>(du("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw pu("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+cu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=dm[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=hm();return new Promise((s,a)=>{const o=new iu;o.setWithCredentials(!0),o.listenOnce(Zc.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Jc.NO_ERROR:const t=o.getResponseJson();du(pm,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Jc.TIMEOUT:du(pm,"RPC '".concat(e,"' ").concat(i," timed out")),a(new wu(bu.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const n=o.getStatus();if(du(pm,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(bu).indexOf(t)>=0?t:bu.UNKNOWN}(t.status);a(new wu(e,t.message))}else a(new wu(bu.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new wu(bu.UNAVAILABLE,"Connection failed."));break;default:gu()}}finally{du(pm,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);du(pm,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=hm(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Xc(),a=$c(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new nu({})),this.Eo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");du(pm,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let h=!1,d=!1;const f=new fm({ro:t=>{d?du(pm,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(du(pm,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),du(pm,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,ru.EventType.OPEN,()=>{d||du(pm,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),p(u,ru.EventType.CLOSE,()=>{d||(d=!0,du(pm,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())}),p(u,ru.EventType.ERROR,t=>{d||(d=!0,pu(pm,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new wu(bu.UNAVAILABLE,"The operation could not be completed")))}),p(u,ru.EventType.MESSAGE,t=>{var n;if(!d){const i=t.data[0];yu(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){du(pm,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=_f[e];if(void 0!==t)return Af(t)}(t),i=a.message;void 0===n&&(n=bu.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.wo(new wu(n,i)),u.close()}else du(pm,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}}),p(a,eu.STAT_EVENT,t=>{t.stat===tu.PROXY?du(pm,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===tu.NOPROXY&&du(pm,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.fo()},0),f}}function gm(){return"undefined"!=typeof document?document:null}function ym(e){return new Jf(e,!0)}class vm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&du("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class bm{constructor(e,t,n,r,i,s,a,o){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new vm(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===bu.RESOURCE_EXHAUSTED?(fu(t.toString()),fu("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===bu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new wu(bu.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return du("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(du("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wm extends bm{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:gu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(yu(void 0===t||"string"==typeof t),ph.fromBase64String(t||"")):(yu(void 0===t||t instanceof Uint8Array),ph.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?bu.UNKNOWN:Af(e.code);return new wu(t,e.message||"")}(a);n=new qf(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=op(e,r.document.name),s=rp(r.document.updateTime),a=r.document.createTime?rp(r.document.createTime):Ou.min(),o=new Vh({mapValue:{fields:r.document.fields}}),l=Bh.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new zf(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=op(e,r.document),s=r.readTime?rp(r.readTime):Ou.min(),a=Bh.newNoDocument(i,s),o=r.removedTargetIds||[];n=new zf([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=op(e,r.document),s=r.removedTargetIds||[];n=new zf([],s,i,null)}else{if(!("filter"in t))return gu();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Cf(r,i),a=e.targetId;n=new Hf(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ou.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ou.min():t.readTime?rp(t.readTime):Ou.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=up(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=pd(r)?{documents:pp(e,r)}:{query:mp(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=tp(e,t.resumeToken);const r=Zf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ou.min())>0){n.readTime=ep(e,t.snapshotVersion.toTimestamp());const r=Zf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=up(this.serializer),t.removeTarget=e,this.Wo(t)}}class xm extends bm{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(yu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(yu(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?rp(e.updateTime):rp(t);return n.isEqual(Ou.min())&&(n=rp(t)),new lf(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=rp(e.commitTime);return this.listener.cu(n,t)}return yu(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=up(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>fp(this.serializer,e))};this.Wo(t)}}class Em extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new wu(bu.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===bu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new wu(bu.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.vo(e,t,n,s,a,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===bu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new wu(bu.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class Sm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(fu(t),this.mu=!1):du("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class km{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{Rm(this)&&(du("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=vu(e);t.vu.add(4),await Nm(t),t.bu.set("Unknown"),t.vu.delete(4),await Tm(t)}(this))})}),this.bu=new Sm(n,r)}}async function Tm(e){if(Rm(e))for(const t of e.Ru)await t(!0)}async function Nm(e){for(const t of e.Ru)await t(!1)}function Cm(e,t){const n=vu(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),jm(n)?Am(n):$m(n).Ko()&&Im(n,t))}function _m(e,t){const n=vu(e),r=$m(n);n.Au.delete(t),r.Ko()&&Pm(n,t),0===n.Au.size&&(r.Ko()?r.jo():Rm(n)&&n.bu.set("Unknown"))}function Im(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ou.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$m(e).su(t)}function Pm(e,t){e.Vu.qt(t),$m(e).iu(t)}function Am(e){e.Vu=new Kf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),$m(e).start(),e.bu.gu()}function jm(e){return Rm(e)&&!$m(e).Uo()&&e.Au.size>0}function Rm(e){return 0===vu(e).vu.size}function Dm(e){e.Vu=void 0}async function Om(e){e.Au.forEach((t,n)=>{Im(e,t)})}async function Mm(e,t){Dm(e),jm(e)?(e.bu.Iu(t),Am(e)):e.bu.set("Unknown")}async function Lm(e,t,n){if(e.bu.set("Online"),t instanceof qf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){du("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Fm(e,n)}else if(t instanceof zf?e.Vu.Ht(t):t instanceof Hf?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Ou.min()))try{const t=await Zp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(ph.EMPTY_BYTE_STRING,r.snapshotVersion)),Pm(e,t);const i=new Np(r.target,t,n,r.sequenceNumber);Im(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){du("RemoteStore","Failed to raise snapshot:",t),await Fm(e,t)}}async function Fm(e,t,n){if(!Xu(t))throw t;e.vu.add(1),await Nm(e),e.bu.set("Offline"),n||(n=()=>Zp(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{du("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Tm(e)})}function Vm(e,t){return t().catch(n=>Fm(e,n,t))}async function Um(e){const t=vu(e),n=Jm(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Bm(t);)try{const e=await tm(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,zm(t,e)}catch(e){await Fm(t,e)}Hm(t)&&qm(t)}function Bm(e){return Rm(e)&&e.Eu.length<10}function zm(e,t){e.Eu.push(t);const n=Jm(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Hm(e){return Rm(e)&&!Jm(e).Uo()&&e.Eu.length>0}function qm(e){Jm(e).start()}async function Wm(e){Jm(e).hu()}async function Km(e){const t=Jm(e);for(const n of e.Eu)t.uu(n.mutations)}async function Gm(e,t,n){const r=e.Eu.shift(),i=Tf.from(r,t,n);await Vm(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Um(e)}async function Qm(e,t){t&&Jm(e).ou&&await async function(e,t){if(Pf(n=t.code)&&n!==bu.ABORTED){const n=e.Eu.shift();Jm(e).Qo(),await Vm(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Um(e)}var n}(e,t),Hm(e)&&qm(e)}async function Ym(e,t){const n=vu(e);n.asyncQueue.verifyOperationInProgress(),du("RemoteStore","RemoteStore received new credentials");const r=Rm(n);n.vu.add(3),await Nm(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Tm(n)}async function Xm(e,t){const n=vu(e);t?(n.vu.delete(2),await Tm(n)):t||(n.vu.add(2),await Nm(n),n.bu.set("Unknown"))}function $m(e){return e.Su||(e.Su=function(e,t,n){const r=vu(e);return r.fu(),new wm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Om.bind(null,e),ao:Mm.bind(null,e),nu:Lm.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),jm(e)?Am(e):e.bu.set("Unknown")):(await e.Su.stop(),Dm(e))})),e.Su}function Jm(e){return e.Du||(e.Du=function(e,t,n){const r=vu(e);return r.fu(),new xm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Wm.bind(null,e),ao:Qm.bind(null,e),au:Km.bind(null,e),cu:Gm.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await Um(e)):(await e.Du.stop(),e.Eu.length>0&&(du("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))})),e.Du}class Zm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new xu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Zm(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wu(bu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(e,t){if(fu("AsyncQueue","".concat(t,": ").concat(e)),Xu(e))return new wu(bu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class tg{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Uu.comparator(t.key,n.key):(e,t)=>Uu.comparator(e.key,t.key),this.keyedMap=Md(),this.sortedSet=new oh(this.comparator)}static emptySet(e){return new tg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tg))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new tg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ng{constructor(){this.Cu=new oh(Uu.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):gu():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class rg{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new rg(e,t,tg.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ig{constructor(){this.Nu=void 0,this.listeners=[]}}class sg{constructor(){this.queries=new jd(e=>Nd(e),Td),this.onlineState="Unknown",this.ku=new Set}}async function ag(e,t){const n=vu(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ig),i)try{s.Nu=await n.onListen(r)}catch(e){const n=eg(e,"Initialization of query '".concat(Cd(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&ug(n)}async function og(e,t){const n=vu(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function lg(e,t){const n=vu(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&ug(n)}function cg(e,t,n){const r=vu(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function ug(e){e.ku.forEach(e=>{e.next()})}class hg{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new rg(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=rg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class dg{constructor(e){this.key=e}}class fg{constructor(e){this.key=e}}class pg{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Hd(),this.mutatedKeys=Hd(),this.tc=Pd(e),this.ec=new tg(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new ng,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=_d(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.tc(u,o)>0||l&&this.tc(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gu()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,o=a!==this.Xu;return this.Xu=a,0!==i.length||o?{snapshot:new rg(this.query,e.ec,r,i,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ng,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Hd(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new fg(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new dg(n))}),t}hc(e){this.Yu=e.ir,this.Zu=Hd();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return rg.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class mg{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class gg{constructor(e){this.key=e,this.fc=!1}}class yg{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new jd(e=>Nd(e),Td),this._c=new Map,this.mc=new Set,this.gc=new oh(Uu.comparator),this.yc=new Map,this.Ic=new Vp,this.Tc={},this.Ec=new Map,this.Ac=Rp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function vg(e,t){const n=Mg(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await nm(n.localStore,Sd(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await bg(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&Cm(n.remoteStore,e)}return i}async function bg(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await im(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return Pg(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const s=await im(e.localStore,t,!0),a=new pg(t,s.ir),o=a.sc(s.documents),l=Bf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Pg(e,n,c.cc);const u=new mg(t,n,a);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function wg(e,t){const n=vu(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(e=>!Td(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await rm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),_m(n.remoteStore,r.targetId),_g(n,r.targetId)}).catch(Qu)):(_g(n,r.targetId),await rm(n.localStore,r.targetId,!0))}async function xg(e,t){const n=vu(e);try{const e=await function(e,t){const n=vu(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Bs.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(ph.EMPTY_BYTE_STRING,Ou.min()).withLastLimboFreeSnapshotVersion(Ou.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Bs.updateTargetData(e,c))});let o=Dd(),l=Hd();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(em(e,s,t.documentUpdates).next(e=>{o=e.nr,l=e.sr})),!r.isEqual(Ou.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Yu.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ji=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(yu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?yu(r.fc):e.removedDocuments.size>0&&(yu(r.fc),r.fc=!1))}),await Rg(n,e,t)}catch(e){await Qu(e)}}function Eg(e,t,n){const r=vu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=vu(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)}),r&&ug(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Sg(e,t,n){const r=vu(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new oh(Uu.comparator);e=e.insert(s,Bh.newNoDocument(s,Ou.min()));const n=Hd().add(s),i=new Uf(Ou.min(),new Map,new oh(ju),e,n);await xg(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),jg(r)}else await rm(r.localStore,t,!1).then(()=>_g(r,t,n)).catch(Qu)}async function kg(e,t){const n=vu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=vu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Yu.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);yu(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Hd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Cg(n,r,null),Ng(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rg(n,e)}catch(e){await Qu(e)}}async function Tg(e,t,n){const r=vu(e);try{const e=await function(e,t){const n=vu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(yu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Cg(r,t,n),Ng(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Rg(r,e)}catch(n){await Qu(n)}}function Ng(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function Cg(e,t,n){const r=vu(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function _g(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||Ig(e,t)})}function Ig(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(_m(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),jg(e))}function Pg(e,t,n){for(const r of n)r instanceof dg?(e.Ic.addReference(r.key,t),Ag(e,r)):r instanceof fg?(du("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Ig(e,r.key)):gu()}function Ag(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(du("SyncEngine","New document in limbo: "+n),e.mc.add(r),jg(e))}function jg(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Uu(Lu.fromString(t)),r=e.Ac.next();e.yc.set(r,new gg(n)),e.gc=e.gc.insert(n,r),Cm(e.remoteStore,new Np(Sd(yd(n.path)),r,"TargetPurposeLimboResolution",$u.ct))}}async function Rg(e,t,n){const r=vu(e),i=[],s=[],a=[];r.wc.isEmpty()||(r.wc.forEach((e,o)=>{a.push(r.Rc(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Qp.Li(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=vu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Yu.forEach(t,t=>Yu.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Yu.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Xu(e))throw e;du("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function Dg(e,t){const n=vu(e);if(!n.currentUser.isEqual(t)){du("SyncEngine","User change. New user:",t.toKey());const e=await Jp(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new wu(bu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Rg(n,e.er)}}function Og(e,t){const n=vu(e),r=n.yc.get(t);if(r&&r.fc)return Hd().add(r.key);{let e=Hd();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Mg(e){const t=vu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Og.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Sg.bind(null,t),t.dc.nu=lg.bind(null,t.eventManager),t.dc.Pc=cg.bind(null,t.eventManager),t}function Lg(e){const t=vu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Tg.bind(null,t),t}class Fg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ym(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return $p(this.persistence,new Yp,e.initialUser,this.serializer)}createPersistence(e){return new Wp(Gp.zs,this.serializer)}createSharedClientState(e){return new om}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Vg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Eg(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dg.bind(null,this.syncEngine),await Xm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new sg}createDatastore(e){const t=ym(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new mm(r));var r;return function(e,t,n,r){return new Em(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Eg(this.syncEngine,e,0),s=cm.D()?new cm:new lm,new km(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new yg(e,t,n,r,i,s);return a&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=vu(e);du("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Nm(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Ug{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):fu("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Bg{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=lu.UNAUTHENTICATED,this.clientId=Au.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{du("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(du("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new wu(bu.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(aC){const n=eg(aC,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function zg(e,t){e.asyncQueue.verifyOperationInProgress(),du("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Jp(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Hg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Wg(e);du("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>Ym(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Ym(t.remoteStore,n)),e._onlineComponents=t}function qg(e){return"FirebaseError"===e.name?e.code===bu.FAILED_PRECONDITION||e.code===bu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Wg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){du("FirestoreClient","Using user provided OfflineComponentProvider");try{await zg(e,e._uninitializedComponentsProvider._offline)}catch(aC){const n=aC;if(!qg(n))throw n;pu("Error using user provided cache. Falling back to memory cache: "+n),await zg(e,new Fg)}}else du("FirestoreClient","Using default OfflineComponentProvider"),await zg(e,new Fg);return e._offlineComponents}async function Kg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(du("FirestoreClient","Using user provided OnlineComponentProvider"),await Hg(e,e._uninitializedComponentsProvider._online)):(du("FirestoreClient","Using default OnlineComponentProvider"),await Hg(e,new Vg))),e._onlineComponents}function Gg(e){return Kg(e).then(e=>e.syncEngine)}async function Qg(e){const t=await Kg(e),n=t.eventManager;return n.onListen=vg.bind(null,t.syncEngine),n.onUnlisten=wg.bind(null,t.syncEngine),n}function Yg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new xu;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Ug({next:s=>{t.enqueueAndForget(()=>og(e,a));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new wu(bu.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new wu(bu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new hg(yd(n.path),s,{includeMetadataChanges:!0,Ku:!0});return ag(e,a)}(await Qg(e),e.asyncQueue,t,n,r)),r.promise}function Xg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const $g=new Map;function Jg(e,t,n){if(!n)throw new wu(bu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Zg(e){if(!Uu.isDocumentKey(e))throw new wu(bu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ey(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":gu()}function ty(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new wu(bu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ey(e);throw new wu(bu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class ny{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new wu(bu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new wu(bu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new wu(bu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new wu(bu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new wu(bu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new wu(bu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class ry{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ny({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new wu(bu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new wu(bu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ny(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Su;switch(e.type){case"firstParty":return new Cu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new wu(bu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$g.get(e);t&&(du("ComponentProvider","Removing Datastore"),$g.delete(e),t.terminate())}(this),Promise.resolve()}}class iy{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ay(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new iy(this.firestore,e,this._key)}}class sy{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new sy(this.firestore,e,this._query)}}class ay extends sy{constructor(e,t,n){super(e,t,yd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new iy(this.firestore,null,new Uu(e))}withConverter(e){return new ay(this.firestore,e,this._path)}}function oy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=lt(e),1===arguments.length&&(t=Au.A()),Jg("doc","path",t),e instanceof ry){const n=Lu.fromString(t,...r);return Zg(n),new iy(e,null,new Uu(n))}{if(!(e instanceof iy||e instanceof ay))throw new wu(bu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Lu.fromString(t,...r));return Zg(n),new iy(e.firestore,e instanceof ay?e.converter:null,new Uu(n))}}class ly{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new vm(this,"async_queue_retry"),this.Xc=()=>{const e=gm();e&&du("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=gm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=gm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new xu;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Xu(e))throw e;du("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw fu("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Zm.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&gu()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class cy extends ry{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ly,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hy(this),this._firestoreClient.terminate()}}function uy(e){return e._firestoreClient||hy(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hy(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Eh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Xg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Bg(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class dy{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dy(ph.fromBase64String(e))}catch(e){throw new wu(bu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new dy(ph.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fy{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new wu(bu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vu(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class py{constructor(e){this._methodName=e}}class my{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new wu(bu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new wu(bu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ju(this._lat,e._lat)||ju(this._long,e._long)}}const gy=/^__.*__$/;class yy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new vf(e,this.data,this.fieldMask,t,this.fieldTransforms):new yf(e,this.data,t,this.fieldTransforms)}}function vy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gu()}}class by{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new by(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Py(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(vy(this.ca)&&gy.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class wy{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ym(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new by({ca:e,methodName:t,ga:n,path:Vu.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xy(e){const t=e._freezeSettings(),n=ym(e._databaseId);return new wy(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ey(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(s.merge||s.mergeFields?2:0,t,n,i);Ny("Data must be an object, but it was:",a,r);const o=ky(r,a);let l,c;if(s.merge)l=new dh(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Cy(t,r,n);if(!a.contains(i))throw new wu(bu.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Ay(e,i)||e.push(i)}l=new dh(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new yy(new Vh(o),l,c)}function Sy(e,t){if(Ty(e=lt(e)))return Ny("Unsupported field value:",t,e),ky(e,t);if(e instanceof py)return function(e,t){if(!vy(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Sy(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=lt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Qd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Du.fromDate(e);return{timestampValue:ep(t.serializer,n)}}if(e instanceof Du){const n=new Du(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ep(t.serializer,n)}}if(e instanceof my)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dy)return{bytesValue:tp(t.serializer,e._byteString)};if(e instanceof iy){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ip(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(ey(e)))}(e,t)}function ky(e,t){const n={};return ah(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sh(e,(e,r)=>{const i=Sy(r,t.ha(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Ty(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Du||e instanceof my||e instanceof dy||e instanceof iy||e instanceof py)}function Ny(e,t,n){if(!Ty(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ey(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Cy(e,t,n){if((t=lt(t))instanceof fy)return t._internalPath;if("string"==typeof t)return Iy(e,t);throw Py("Field path arguments must be of type string or ",e,!1,void 0,n)}const _y=new RegExp("[~\\*/\\[\\]]");function Iy(e,t,n){if(t.search(_y)>=0)throw Py("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new fy(...t.split("."))._internalPath}catch(r){throw Py("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Py(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new wu(bu.INVALID_ARGUMENT,o+e+l)}function Ay(e,t){return e.some(e=>e.isEqual(t))}class jy{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new iy(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ry(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ry extends jy{data(){return super.data()}}function Dy(e,t){return"string"==typeof t?Iy(e,t):t instanceof fy?t._internalPath:t._delegate._internalPath}class Oy{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Th(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gu()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return sh(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new my(yh(e.latitude),yh(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=wh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xh(e));default:return null}}convertTimestamp(e){const t=gh(e);return new Du(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Lu.fromString(e);yu(Tp(n));const r=new Sh(n.get(1),n.get(3)),i=new Uu(n.popFirst(5));return r.isEqual(t)||fu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function My(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ly{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fy extends jy{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Vy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Dy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Vy extends Fy{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Uy extends Oy{constructor(e){super(),this.firestore=e}convertBytes(e){return new dy(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new iy(this.firestore,null,t)}}function By(e,t){return function(e,t){const n=new xu;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Lg(e);try{const e=await function(e,t){const n=vu(e),r=Du.now(),i=t.reduce((e,t)=>e.add(t.key),Hd());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Dd(),l=Hd();return n.Zi.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=mf(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new vf(e.key,t,Uh(t.value.mapValue),cf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Ld(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new oh(ju)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Rg(r,e.changes),await Um(r.remoteStore)}catch(e){const t=eg(e,"Failed to persist write");n.reject(t)}}(await Gg(e),t,n)),n.promise}(uy(e),t)}function zy(e,t,n){const r=n.docs.get(t._key),i=new Uy(e);return new Fy(e,i,t._key,r,new Ly(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){cu=e}(wn),gn(new ct("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new cy(new Tu(e.getProvider("auth-internal")),new Iu(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new wu(bu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sh(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Sn(ou,"3.13.0",e),Sn(ou,"3.13.0","esm2017")}();Sn("firebase","9.23.0","app");const Hy="firebasestorage.googleapis.com",qy="storageBucket";class Wy extends Je{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Qy(e),"Firebase Storage: ".concat(t," (").concat(Qy(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wy.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Ky,Gy;function Qy(e){return"storage/"+e}function Yy(){return new Wy(Ky.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Xy(){return new Wy(Ky.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $y(){return new Wy(Ky.CANCELED,"User canceled the upload/download.")}function Jy(e){return new Wy(Ky.INVALID_ARGUMENT,e)}function Zy(){return new Wy(Ky.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ky||(Ky={}));class ev{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=ev.makeFromUrl(e,t)}catch(aC){return new ev(e,"")}if(""===n.path)return n;throw r=e,new Wy(Ky.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===Hy?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new ev(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Wy(Ky.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class tv{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function nv(e,t,n,r){if(r<t)throw Jy("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Jy("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function rv(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function iv(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Gy||(Gy={}));class sv{constructor(e,t,n,r,i,s,a,o,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new av(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Gy.NO_ERROR,i=n.getStatus();if(!t||iv(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Gy.ABORT;return void e(!1,new av(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new av(s,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(aC){r(aC)}else if(null!==i){const e=Yy();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Zy():$y())}else{r(Xy())}};this.canceled_?t(0,new av(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function d(){s&&clearTimeout(s)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||a)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(o=2),clearTimeout(i),h(0)):e||(o=1)))}return h(0),s=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class av{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function ov(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class lv{constructor(e,t){this._service=e,this._location=t instanceof ev?t:ev.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new lv(e,t)}get root(){const e=new ev(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ov(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new ev(this._location.bucket,e);return new lv(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Wy(Ky.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function cv(e,t){const n=null===t||void 0===t?void 0:t[qy];return null==n?null:ev.makeFromBucketSpec(n,e)}class uv{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Hy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ev.makeFromBucketSpec(r,this._host):cv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=ev.makeFromBucketSpec(this._url,e):this._bucket=cv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lv(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new tv(Zy());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=rv(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new sv(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const hv="@firebase/storage",dv="0.11.2",fv="storage";function pv(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new uv(r,i,s,n,wn)}gn(new ct(fv,pv,"PUBLIC").setMultipleInstances(!0)),Sn(hv,dv,""),Sn(hv,dv,"esm2017");const mv=xn({apiKey:"AIzaSyBUrdfHelyEdSaJmwxb0p7FpTKgxUiIAcA",authDomain:"pos-pro-418b5.firebaseapp.com",projectId:"pos-pro-418b5",storageBucket:"pos-pro-418b5.firebasestorage.app",messagingSenderId:"97933865787",appId:"1:97933865787:web:aab1b97c515c7f0ab83d1e"}),gv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En();const t=yn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=yn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(tt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Un(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Rs,persistence:[Ki,Ii,Ai]}),r=Ge("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ls)return;const r=null===t||void 0===t?void 0:t.token;Fs!==r&&(Fs=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){lt(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){lt(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var i;const s=qe("auth");return s&&Qr(n,"http://".concat(s)),n}(mv),yv=function(e,t){const n="string"==typeof e?e:t||"(default)",r=yn("object"==typeof e?e:En(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=We("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=ty(e,ry))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&pu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=lu.MOCK_USER;else{t=Ye(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new wu(bu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new lu(s)}e._authCredentials=new ku(new Eu(t,n))}}(r,...e)}return r}(mv);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En(),t=arguments.length>1?arguments[1]:void 0;e=lt(e);const n=yn(e,fv).getImmediate({identifier:t}),r=We("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Ye(i,e.app.options.projectId))}(e,t,n,r)}(n,...r)}(mv);var vv=n(579);const bv=(0,i.createContext)(),wv=()=>{const e=(0,i.useContext)(bv);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},xv=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)(""),c=async e=>{try{const t=oy(yv,"users",e),n=await function(e){e=ty(e,iy);const t=ty(e.firestore,cy);return Yg(uy(t),e._key).then(n=>zy(t,e,n))}(t);return n.exists()?n.data():null}catch(o){return console.error("Error getting user data:",o),null}};(0,i.useEffect)(()=>{const e=function(e,t,n,r){return lt(e).onAuthStateChanged(t,n,r)}(gv,async e=>{if(e){const t=await c(e.uid);r(Me(Me({},e),t))}else r(null);a(!1)});return e},[]);const u={currentUser:n,signup:async(e,t,n)=>{try{l("");const{user:r}=await async function(e,t,n){var r;const i=Kr(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Hr(i,s,"signUpPassword");a=mi(i,e)}else a=mi(i,s).catch(async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Hr(i,s,"signUpPassword");return mi(i,e)}return Promise.reject(e)});const o=await a.catch(e=>Promise.reject(e)),l=await gi._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(l.user),l}(gv,e,t);return await Ti(r,{displayName:n.businessName}),await function(e,t,n){e=ty(e,iy);const r=ty(e.firestore,cy),i=My(e.converter,t,n);return By(r,[Ey(xy(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,cf.none())])}(oy(yv,"users",r.uid),{uid:r.uid,email:e,businessName:n.businessName,phone:n.phone||"",businessType:n.businessType||"",createdAt:(new Date).toISOString(),plan:"trial",trialStartDate:(new Date).toISOString(),trialEndDate:new Date(Date.now()+2592e6).toISOString()}),r}catch(o){throw l(o.message),o}},login:async(e,t)=>{try{l("");const{user:n}=await function(e,t,n){return Si(lt(e),li.credential(t,n))}(gv,e,t);return n}catch(o){throw l(o.message),o}},logout:async()=>{try{l(""),await function(e){return lt(e).signOut()}(gv)}catch(o){throw l(o.message),o}},resetPassword:async e=>{try{l(""),await async function(e,t,n){var r;const i=Kr(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Hr(i,s,"getOobCode",!0);n&&ki(i,e,n),await ti(i,e)}else n&&ki(i,s,n),await ti(i,s).catch(async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await Hr(i,s,"getOobCode",!0);n&&ki(i,e,n),await ti(i,e)}})}(gv,e)}catch(o){throw l(o.message),o}},getUserData:c,loading:s,error:o,clearError:()=>l("")};return(0,vv.jsx)(bv.Provider,{value:u,children:!s&&t})},Ev=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Sv=(0,i.createContext)({}),kv=(0,i.createContext)(null),Tv="undefined"!==typeof document,Nv=Tv?i.useLayoutEffect:i.useEffect,Cv=(0,i.createContext)({strict:!1}),_v=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Iv="data-"+_v("framerAppearId");function Pv(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Av(e){return"string"===typeof e||Array.isArray(e)}function jv(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const Rv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dv=["initial",...Rv];function Ov(e){return jv(e.animate)||Dv.some(t=>Av(e[t]))}function Mv(e){return Boolean(Ov(e)||e.variants)}function Lv(e){const{initial:t,animate:n}=function(e,t){if(Ov(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Av(t)?t:void 0,animate:Av(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(Sv));return(0,i.useMemo)(()=>({initial:t,animate:n}),[Fv(t),Fv(n)])}function Fv(e){return Array.isArray(e)?e.join(" "):e}const Vv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Uv={};for(const lC in Vv)Uv[lC]={isEnabled:e=>Vv[lC].some(t=>!!e[t])};const Bv=(0,i.createContext)({}),zv=(0,i.createContext)({}),Hv=Symbol.for("motionComponentSymbol");function qv(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:s,Component:a}=e;t&&function(e){for(const t in e)Uv[t]=Me(Me({},Uv[t]),e[t])}(t);const o=(0,i.forwardRef)(function(e,o){let l;const c=Me(Me(Me({},(0,i.useContext)(Ev)),e),{},{layoutId:Wv(e)}),{isStatic:u}=c,h=Lv(e),d=s(e,u);if(!u&&Tv){h.visualElement=function(e,t,n,r){const{visualElement:s}=(0,i.useContext)(Sv),a=(0,i.useContext)(Cv),o=(0,i.useContext)(kv),l=(0,i.useContext)(Ev).reducedMotion,c=(0,i.useRef)();r=r||a.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));const u=c.current;(0,i.useInsertionEffect)(()=>{u&&u.update(n,o)});const h=(0,i.useRef)(Boolean(n[Iv]&&!window.HandoffComplete));return Nv(()=>{u&&(u.render(),h.current&&u.animationState&&u.animationState.animateChanges())}),(0,i.useEffect)(()=>{u&&(u.updateFeatures(),!h.current&&u.animationState&&u.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),u}(a,d,c,n);const e=(0,i.useContext)(zv),r=(0,i.useContext)(Cv).strict;h.visualElement&&(l=h.visualElement.loadFeatures(c,r,t,e))}return i.createElement(Sv.Provider,{value:h},l&&h.visualElement?i.createElement(l,Me({visualElement:h.visualElement},c)):null,r(a,e,function(e,t,n){return(0,i.useCallback)(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Pv(n)&&(n.current=r))},[t])}(d,h.visualElement,o),d,u,h.visualElement))});return o[Hv]=a,o}function Wv(e){let{layoutId:t}=e;const n=(0,i.useContext)(Bv).id;return n&&void 0!==t?n+"-"+t:t}function Kv(e){function t(t){return qv(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const Gv=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qv(e){return"string"===typeof e&&!e.includes("-")&&!!(Gv.indexOf(e)>-1||/[A-Z]/.test(e))}const Yv={};const Xv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$v=new Set(Xv);function Jv(e,t){let{layout:n,layoutId:r}=t;return $v.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Yv[e]||"opacity"===e)}const Zv=e=>Boolean(e&&e.getVelocity),eb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tb=Xv.length;const nb=e=>t=>"string"===typeof t&&t.startsWith(e),rb=nb("--"),ib=nb("var(--"),sb=(e,t)=>t&&"number"===typeof e?t.transform(e):e,ab=(e,t,n)=>Math.min(Math.max(n,e),t),ob={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},lb=Me(Me({},ob),{},{transform:e=>ab(0,1,e)}),cb=Me(Me({},ob),{},{default:1}),ub=e=>Math.round(1e5*e)/1e5,hb=/(-)?([\d]*\.?[\d])+/g,db=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,fb=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function pb(e){return"string"===typeof e}const mb=e=>({test:t=>pb(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),gb=mb("deg"),yb=mb("%"),vb=mb("px"),bb=mb("vh"),wb=mb("vw"),xb=Me(Me({},yb),{},{parse:e=>yb.parse(e)/100,transform:e=>yb.transform(100*e)}),Eb=Me(Me({},ob),{},{transform:Math.round}),Sb={borderWidth:vb,borderTopWidth:vb,borderRightWidth:vb,borderBottomWidth:vb,borderLeftWidth:vb,borderRadius:vb,radius:vb,borderTopLeftRadius:vb,borderTopRightRadius:vb,borderBottomRightRadius:vb,borderBottomLeftRadius:vb,width:vb,maxWidth:vb,height:vb,maxHeight:vb,size:vb,top:vb,right:vb,bottom:vb,left:vb,padding:vb,paddingTop:vb,paddingRight:vb,paddingBottom:vb,paddingLeft:vb,margin:vb,marginTop:vb,marginRight:vb,marginBottom:vb,marginLeft:vb,rotate:gb,rotateX:gb,rotateY:gb,rotateZ:gb,scale:cb,scaleX:cb,scaleY:cb,scaleZ:cb,skew:gb,skewX:gb,skewY:gb,distance:vb,translateX:vb,translateY:vb,translateZ:vb,x:vb,y:vb,z:vb,perspective:vb,transformPerspective:vb,opacity:lb,originX:xb,originY:xb,originZ:vb,zIndex:Eb,fillOpacity:lb,strokeOpacity:lb,numOctaves:Eb};function kb(e,t,n,r){const{style:i,vars:s,transform:a,transformOrigin:o}=e;let l=!1,c=!1,u=!0;for(const h in t){const e=t[h];if(rb(h)){s[h]=e;continue}const n=Sb[h],r=sb(e,n);if($v.has(h)){if(l=!0,a[h]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else h.startsWith("origin")?(c=!0,o[h]=r):i[h]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:s=!0}=t,a="";for(let o=0;o<tb;o++){const t=Xv[o];void 0!==e[t]&&(a+="".concat(eb[t]||t,"(").concat(e[t],") "))}return i&&!e.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(e,n?"":a):s&&n&&(a="none"),a}(e.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const Tb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Nb(e,t,n){for(const r in t)Zv(t[r])||Jv(r,n)||(e[r]=t[r])}function Cb(e,t,n){const r={};return Nb(r,e.style||{},e),Object.assign(r,function(e,t,n){let{transformTemplate:r}=e;return(0,i.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return kb(e,t,{enableHardwareAcceleration:!n},r),Object.assign({},e.vars,e.style)},[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}function _b(e,t,n){const r={},i=Cb(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const Ib=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pb(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ib.has(e)}let Ab=e=>!Pb(e);try{(jb=require("@emotion/is-prop-valid").default)&&(Ab=e=>e.startsWith("on")?!Pb(e):jb(e))}catch(oC){}var jb;function Rb(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Db(e,t,n){return"string"===typeof e?e:vb.transform(t+n*e)}const Ob={offset:"stroke-dashoffset",array:"stroke-dasharray"},Mb={offset:"strokeDashoffset",array:"strokeDasharray"};const Lb=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function Fb(e,t,n,r,i){let{attrX:s,attrY:a,attrScale:o,originX:l,originY:c,pathLength:u,pathSpacing:h=1,pathOffset:d=0}=t;if(kb(e,Rb(t,Lb),n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==l||void 0!==c||p.transform)&&(p.transformOrigin=function(e,t,n){const r=Db(t,e.x,e.width),i=Db(n,e.y,e.height);return"".concat(r," ").concat(i)}(m,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==s&&(f.x=s),void 0!==a&&(f.y=a),void 0!==o&&(f.scale=o),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?Ob:Mb;e[s.offset]=vb.transform(-r);const a=vb.transform(t),o=vb.transform(n);e[s.array]="".concat(a," ").concat(o)}(f,u,h,d,!1)}const Vb=()=>Me(Me({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),Ub=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Bb(e,t,n,r){const s=(0,i.useMemo)(()=>{const n=Vb();return Fb(n,t,{enableHardwareAcceleration:!1},Ub(r),e.transformTemplate),Me(Me({},n.attrs),{},{style:Me({},n.style)})},[t]);if(e.style){const t={};Nb(t,e.style,e),s.style=Me(Me({},t),s.style)}return s}function zb(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,s,a)=>{let{latestValues:o}=s;const l=(Qv(t)?Bb:_b)(n,o,a,t),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(Ab(i)||!0===n&&Pb(i)||!t&&!Pb(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),u=Me(Me(Me({},c),l),{},{ref:r}),{children:h}=n,d=(0,i.useMemo)(()=>Zv(h)?h.get():h,[h]);return(0,i.createElement)(t,Me(Me({},u),{},{children:d}))}}function Hb(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in s)e.style.setProperty(a,s[a])}const qb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Wb(e,t,n,r){Hb(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(qb.has(i)?i:_v(i),t.attrs[i])}function Kb(e,t){const{style:n}=e,r={};for(const i in n)(Zv(n[i])||t.style&&Zv(t.style[i])||Jv(i,e))&&(r[i]=n[i]);return r}function Gb(e,t){const n=Kb(e,t);for(const r in e)if(Zv(e[r])||Zv(t[r])){n[-1!==Xv.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function Qb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}function Yb(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}const Xb=e=>Array.isArray(e),$b=e=>Xb(e)?e[e.length-1]||0:e;function Jb(e){const t=Zv(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const Zb=["transitionEnd","transition"];const ew=e=>(t,n)=>{const r=(0,i.useContext)(Sv),s=(0,i.useContext)(kv),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onMount:a}=e;const o={latestValues:tw(t,n,r,i),renderState:s()};return a&&(o.mount=e=>a(t,e,o)),o}(e,t,r,s);return n?a():Yb(a)};function tw(e,t,n,r){const i={},s=r(e,{});for(const d in s)i[d]=Jb(s[d]);let{initial:a,animate:o}=e;const l=Ov(e),c=Mv(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const h=u?o:a;if(h&&"boolean"!==typeof h&&!jv(h)){(Array.isArray(h)?h:[h]).forEach(t=>{const n=Qb(e,t);if(!n)return;const{transitionEnd:r,transition:s}=n,a=Rb(n,Zb);for(const e in a){let t=a[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]})}return i}const nw=e=>e;class rw{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const iw=["prepare","read","update","preRender","render","postRender"];const{schedule:sw,cancel:aw,state:ow,steps:lw}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=iw.reduce((e,t)=>(e[t]=function(e){let t=new rw,n=new rw,r=0,i=!1,s=!1;const a=new WeakSet,o={schedule:function(e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,o=s?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),o.add(e)&&s&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),a.delete(e)},process:l=>{if(i)s=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),a.has(r)&&(o.schedule(r),e())}i=!1,s&&(s=!1,o.process(l))}}};return o}(()=>n=!0),e),{}),a=e=>s[e].process(i),o=()=>{const s=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,iw.forEach(a),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=iw.reduce((t,a)=>{const l=s[a];return t[a]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(o)),l.schedule(t,s,a)},t},{});return{schedule:l,cancel:e=>iw.forEach(t=>s[t].cancel(e)),state:i,steps:s}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:nw,!0),cw={useVisualState:ew({scrapeMotionValuesFromProps:Gb,createRenderState:Vb,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;sw.read(()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(aC){r.dimensions={x:0,y:0,width:0,height:0}}}),sw.render(()=>{Fb(r,i,{enableHardwareAcceleration:!1},Ub(t.tagName),e.transformTemplate),Wb(t,r)})}})},uw={useVisualState:ew({scrapeMotionValuesFromProps:Kb,createRenderState:Tb})};function hw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const dw=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function fw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function pw(e,t,n,r){return hw(e,t,(e=>t=>dw(t)&&e(t,fw(t)))(n),r)}const mw=(e,t)=>n=>t(e(n)),gw=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(mw)};function yw(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const vw=yw("dragHorizontal"),bw=yw("dragVertical");function ww(e){let t=!1;if("y"===e)t=bw();else if("x"===e)t=vw();else{const e=vw(),n=bw();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function xw(){const e=ww(!0);return!e||(e(),!1)}class Ew{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Sw(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return pw(e.current,n,(n,i)=>{if("touch"===n.pointerType||xw())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&sw.update(()=>s[r](n,i))},{passive:!e.getProps()[r]})}const kw=(e,t)=>!!t&&(e===t||kw(e,t.parentElement));function Tw(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,fw(n))}const Nw=["root"],Cw=new WeakMap,_w=new WeakMap,Iw=e=>{const t=Cw.get(e.target);t&&t(e)},Pw=e=>{e.forEach(Iw)};function Aw(e,t,n){const r=function(e){let{root:t}=e,n=Rb(e,Nw);const r=t||document;_w.has(r)||_w.set(r,{});const i=_w.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(Pw,Me({root:t},n))),i[s]}(t);return Cw.set(e,n),r.observe(e),()=>{Cw.delete(e),r.unobserve(e)}}const jw={some:0,all:1};const Rw={inView:{Feature:class extends Ew{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:jw[r]};return Aw(this.node.current,s,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Ew{constructor(){super(...arguments),this.removeStartListeners=nw,this.removeEndListeners=nw,this.removeAccessibleListeners=nw,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=pw(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();sw.update(()=>{i||kw(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)})},{passive:!(n.onTap||n.onPointerUp)}),i=pw(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=gw(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=hw(this.node.current,"keydown",e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=hw(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&Tw("up",(e,t)=>{const{onTap:n}=this.node.getProps();n&&sw.update(()=>n(e,t))})}),Tw("down",(e,t)=>{this.startPress(e,t)})}),t=hw(this.node.current,"blur",()=>{this.isPressing&&Tw("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=gw(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&sw.update(()=>n(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!xw()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&sw.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=pw(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=hw(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=gw(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Ew{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(aC){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gw(hw(this.node.current,"focus",()=>this.onFocus()),hw(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Ew{mount(){this.unmount=gw(Sw(this.node,!0),Sw(this.node,!1))}unmount(){}}}};function Dw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ow(e,t,n){const r=e.getProps();return Qb(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.getVelocity()),t}(e))}let Mw=nw,Lw=nw;const Fw=e=>1e3*e,Vw=e=>e/1e3,Uw=!1,Bw=e=>Array.isArray(e)&&"number"===typeof e[0];function zw(e){return Boolean(!e||"string"===typeof e&&qw[e]||Bw(e)||Array.isArray(e)&&e.every(zw))}const Hw=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},qw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hw([0,.65,.55,1]),circOut:Hw([.55,0,1,.45]),backIn:Hw([.31,.01,.66,-.59]),backOut:Hw([.33,1.53,.69,.99])};function Ww(e){if(e)return Bw(e)?Hw(e):Array.isArray(e)?e.map(Ww):qw[e]}const Kw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Gw(e,t,n,r){if(e===t&&n===r)return nw;const i=t=>function(e,t,n,r,i){let s,a,o=0;do{a=t+(n-t)/2,s=Kw(a,r,i)-e,s>0?n=a:t=a}while(Math.abs(s)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:Kw(i(e),t,r)}const Qw=Gw(.42,0,1,1),Yw=Gw(0,0,.58,1),Xw=Gw(.42,0,.58,1),$w=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Jw=e=>t=>1-e(1-t),Zw=e=>1-Math.sin(Math.acos(e)),ex=Jw(Zw),tx=$w(Zw),nx=Gw(.33,1.53,.69,.99),rx=Jw(nx),ix=$w(rx),sx={linear:nw,easeIn:Qw,easeInOut:Xw,easeOut:Yw,circIn:Zw,circInOut:tx,circOut:ex,backIn:rx,backInOut:ix,backOut:nx,anticipate:e=>(e*=2)<1?.5*rx(e):.5*(2-Math.pow(2,-10*(e-1)))},ax=e=>{if(Array.isArray(e)){Lw(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return Gw(t,n,r,i)}return"string"===typeof e?(Lw(void 0!==sx[e],"Invalid easing type '".concat(e,"'")),sx[e]):e},ox=(e,t)=>n=>Boolean(pb(n)&&fb.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),lx=(e,t,n)=>r=>{if(!pb(r))return r;const[i,s,a,o]=r.match(hb);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},cx=Me(Me({},ob),{},{transform:e=>Math.round((e=>ab(0,255,e))(e))}),ux={test:ox("rgb","red"),parse:lx("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+cx.transform(t)+", "+cx.transform(n)+", "+cx.transform(r)+", "+ub(lb.transform(i))+")"}};const hx={test:ox("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:ux.transform},dx={test:ox("hsl","hue"),parse:lx("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+yb.transform(ub(n))+", "+yb.transform(ub(r))+", "+ub(lb.transform(i))+")"}},fx={test:e=>ux.test(e)||hx.test(e)||dx.test(e),parse:e=>ux.test(e)?ux.parse(e):dx.test(e)?dx.parse(e):hx.parse(e),transform:e=>pb(e)?e:e.hasOwnProperty("red")?ux.transform(e):dx.transform(e)},px=(e,t,n)=>-n*e+n*t+e;function mx(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const gx=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},yx=[hx,ux,dx];function vx(e){const t=(e=>yx.find(t=>t.test(e)))(e);Lw(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let n=t.parse(e);return t===dx&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,a=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=mx(i,e,t+1/3),a=mx(i,e,t),o=mx(i,e,t-1/3)}else s=a=o=r;return{red:Math.round(255*s),green:Math.round(255*a),blue:Math.round(255*o),alpha:i}}(n)),n}const bx=(e,t)=>{const n=vx(e),r=vx(t),i=Me({},n);return e=>(i.red=gx(n.red,r.red,e),i.green=gx(n.green,r.green,e),i.blue=gx(n.blue,r.blue,e),i.alpha=px(n.alpha,r.alpha,e),ux.transform(i))};const wx={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:nw},xx={regex:db,countKey:"Colors",token:"${c}",parse:fx.parse},Ex={regex:hb,countKey:"Numbers",token:"${n}",parse:ob.parse};function Sx(e,t){let{regex:n,countKey:r,token:i,parse:s}=t;const a=e.tokenised.match(n);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...a.map(s)))}function kx(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Sx(n,wx),Sx(n,xx),Sx(n,Ex),n}function Tx(e){return kx(e).values}function Nx(e){const{values:t,numColors:n,numVars:r,tokenised:i}=kx(e),s=t.length;return e=>{let t=i;for(let i=0;i<s;i++)t=i<r?t.replace(wx.token,e[i]):i<r+n?t.replace(xx.token,fx.transform(e[i])):t.replace(Ex.token,ub(e[i]));return t}}const Cx=e=>"number"===typeof e?0:e;const _x={test:function(e){var t,n;return isNaN(e)&&pb(e)&&((null===(t=e.match(hb))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(db))||void 0===n?void 0:n.length)||0)>0},parse:Tx,createTransformer:Nx,getAnimatableNone:function(e){const t=Tx(e);return Nx(e)(t.map(Cx))}},Ix=(e,t)=>n=>"".concat(n>0?t:e);function Px(e,t){return"number"===typeof e?n=>px(e,t,n):fx.test(e)?bx(e,t):e.startsWith("var(")?Ix(e,t):Rx(e,t)}const Ax=(e,t)=>{const n=[...e],r=n.length,i=e.map((e,n)=>Px(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},jx=(e,t)=>{const n=Me(Me({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Px(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},Rx=(e,t)=>{const n=_x.createTransformer(t),r=kx(e),i=kx(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?gw(Ax(r.values,i.values),n):(Mw(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),Ix(e,t))},Dx=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Ox=(e,t)=>n=>px(e,t,n);function Mx(e,t,n){const r=[],i=n||function(e){return"number"===typeof e?Ox:"string"===typeof e?fx.test(e)?bx:Rx:Array.isArray(e)?Ax:"object"===typeof e?jx:Ox}(e[0]),s=e.length-1;for(let a=0;a<s;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||nw:t;n=gw(e,n)}r.push(n)}return r}function Lx(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(Lw(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Mx(t,r,i),o=a.length,l=t=>{let n=0;if(o>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=Dx(e[n],e[n+1],t);return a[n](r)};return n?t=>l(ab(e[0],e[s-1],t)):l}function Fx(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Dx(0,t,r);e.push(px(n,1,i))}}(t,e.length-1),t}function Vx(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(ax):ax(i),a={done:!1,value:n[0]},o=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:Fx(n),t),l=Lx(o,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map(()=>u||Xw).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}function Ux(e,t){return t?e*(1e3/t):0}function Bx(e,t,n){const r=Math.max(t-5,0);return Ux(n-e(r),t-r)}const zx=.001;function Hx(e){let t,n,{duration:r=800,bounce:i=.25,velocity:s=0,mass:a=1}=e;Mw(r<=Fw(10),"Spring duration must be 10 seconds or less");let o=1-i;o=ab(.05,1,o),r=ab(.01,10,Vw(r)),o<1?(t=e=>{const t=e*o,n=t*r,i=t-s,a=Wx(e,o),l=Math.exp(-n);return zx-i/a*l},n=e=>{const n=e*o*r,i=n*s+s,a=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Wx(Math.pow(e,2),o);return(-t(e)+zx>0?-1:1)*((i-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<qx;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Fw(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:r}}}const qx=12;function Wx(e,t){return e*Math.sqrt(1-t*t)}const Kx=["keyframes","restDelta","restSpeed"],Gx=["duration","bounce"],Qx=["stiffness","damping","mass"];function Yx(e,t){return t.some(t=>void 0!==e[t])}function Xx(e){let{keyframes:t,restDelta:n,restSpeed:r}=e,i=Rb(e,Kx);const s=t[0],a=t[t.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=function(e){let t=Me({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Yx(e,Qx)&&Yx(e,Gx)){const n=Hx(e);t=Me(Me(Me({},t),n),{},{mass:1}),t.isResolvedFromDuration=!0}return t}(Me(Me({},i),{},{velocity:-Vw(i.velocity||0)})),p=d||0,m=c/(2*Math.sqrt(l*u)),g=a-s,y=Vw(Math.sqrt(l/u)),v=Math.abs(g)<5;let b;if(r||(r=v?.01:2),n||(n=v?.005:.5),m<1){const e=Wx(y,m);b=t=>{const n=Math.exp(-m*y*t);return a-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>a-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return a-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&h||null,next:e=>{const t=b(e);if(f)o.done=e>=h;else{let i=p;0!==e&&(i=m<1?Bx(b,e,t):0);const s=Math.abs(i)<=r,l=Math.abs(a-t)<=n;o.done=s&&l}return o.value=o.done?a:t,o}}}function $x(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=d+m,y=void 0===o?g:o(g);y!==g&&(m=y-d);const v=e=>-m*Math.exp(-e/i),b=e=>y+v(e),w=e=>{const t=v(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let x,E;const S=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(x=e,E=Xx({keyframes:[f.value,p(f.value)],velocity:Bx(b,e,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:h}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return E||void 0!==x||(t=!0,w(e),S(e)),void 0!==x&&e>x?E.next(e-x):(!t&&w(e),f)}}}const Jx=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>sw.update(t,!0),stop:()=>aw(t),now:()=>ow.isProcessing?ow.timestamp:performance.now()}};function Zx(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const eE=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],tE={decay:$x,inertia:$x,tween:Vx,keyframes:Vx,spring:Xx};function nE(e){let t,n,{autoplay:r=!0,delay:i=0,driver:s=Jx,keyframes:a,type:o="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:h,onStop:d,onComplete:f,onUpdate:p}=e,m=Rb(e,eE),g=1,y=!1;const v=()=>{n=new Promise(e=>{t=e})};let b;v();const w=tE[o]||Vx;let x;w!==Vx&&"number"!==typeof a[0]&&(x=Lx([0,100],a,{clamp:!1}),a=[0,100]);const E=w(Me(Me({},m),{},{keyframes:a}));let S;"mirror"===u&&(S=w(Me(Me({},m),{},{keyframes:[...a].reverse(),velocity:-(m.velocity||0)})));let k="idle",T=null,N=null,C=null;null===E.calculatedDuration&&l&&(E.calculatedDuration=Zx(E));const{calculatedDuration:_}=E;let I=1/0,P=1/0;null!==_&&(I=_+c,P=I*(l+1)-c);let A=0;const j=e=>{if(null===N)return;g>0&&(N=Math.min(N,e)),g<0&&(N=Math.min(e-P/g,N)),A=null!==T?T:Math.round(e-N)*g;const t=A-i*(g>=0?1:-1),n=g>=0?t<0:t>P;A=Math.max(t,0),"finished"===k&&null===T&&(A=P);let r=A,s=E;if(l){const e=Math.min(A,P)/I;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(n=1-n,c&&(n-=c/I)):"mirror"===u&&(s=S)),r=ab(0,1,n)*I}const o=n?{done:!1,value:a[0]}:s.next(r);x&&(o.value=x(o.value));let{done:h}=o;n||null===_||(h=g>=0?A>=P:A<=0);const d=null===T&&("finished"===k||"running"===k&&h);return p&&p(o.value),d&&O(),o},R=()=>{b&&b.stop(),b=void 0},D=()=>{k="idle",R(),t(),v(),N=C=null},O=()=>{k="finished",f&&f(),R(),t()},M=()=>{if(y)return;b||(b=s(j));const e=b.now();h&&h(),null!==T?N=e-T:N&&"finished"!==k||(N=e),"finished"===k&&v(),C=N,T=null,k="running",b.start()};r&&M();const L={then:(e,t)=>n.then(e,t),get time(){return Vw(A)},set time(e){e=Fw(e),A=e,null===T&&b&&0!==g?N=b.now()-e/g:T=e},get duration(){const e=null===E.calculatedDuration?Zx(E):E.calculatedDuration;return Vw(e)},get speed(){return g},set speed(e){e!==g&&b&&(g=e,L.time=Vw(A))},get state(){return k},play:M,pause:()=>{k="paused",T=A},stop:()=>{y=!0,"idle"!==k&&(k="idle",d&&d(),D())},cancel:()=>{null!==C&&j(C),D()},complete:()=>{k="finished"},sample:e=>(N=0,j(e))};return L}const rE=["onUpdate","onComplete"],iE=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sE=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function aE(e,t,n){let{onUpdate:r,onComplete:i}=n,s=Rb(n,rE);if(!(iE()&&sE.has(t)&&!s.repeatDelay&&"mirror"!==s.repeatType&&0!==s.damping&&"inertia"!==s.type))return!1;let a,o,l=!1,c=!1;const u=()=>{o=new Promise(e=>{a=e})};u();let{keyframes:h,duration:d=300,ease:f,times:p}=s;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!zw(t.ease))(t,s)){const e=nE(Me(Me({},s),{},{repeat:0,delay:0}));let t={done:!1,value:h[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;p=void 0,h=n,d=r-10,f="linear"}const m=function(e,t,n){let{delay:r=0,duration:i,repeat:s=0,repeatType:a="loop",ease:o,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=Ww(o);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"})}(e.owner.current,t,h,Me(Me({},s),{},{duration:d,ease:f,times:p})),g=()=>{c=!1,m.cancel()},y=()=>{c=!0,sw.update(g),a(),u()};m.onfinish=()=>{c||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(h,s)),i&&i(),y())};return{then:(e,t)=>o.then(e,t),attachTimeline:e=>(m.timeline=e,m.onfinish=null,nw),get time(){return Vw(m.currentTime||0)},set time(e){m.currentTime=Fw(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return Vw(d)},play:()=>{l||(m.play(),aw(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;const{currentTime:t}=m;if(t){const n=nE(Me(Me({},s),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}y()},complete:()=>{c||m.finish()},cancel:y}}const oE={type:"spring",stiffness:500,damping:25,restSpeed:10},lE={type:"keyframes",duration:.8},cE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uE=(e,t)=>{let{keyframes:n}=t;return n.length>2?lE:$v.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:oE:cE},hE=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!_x.test(t)&&"0"!==t||t.startsWith("url("))),dE=new Set(["brightness","contrast","saturate","opacity"]);function fE(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(hb)||[];if(!r)return e;const i=n.replace(r,"");let s=dE.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const pE=/([a-z-]*)\(.*?\)/g,mE=Me(Me({},_x),{},{getAnimatableNone:e=>{const t=e.match(pE);return t?t.map(fE).join(" "):e}}),gE=Me(Me({},Sb),{},{color:fx,backgroundColor:fx,outlineColor:fx,fill:fx,stroke:fx,borderColor:fx,borderTopColor:fx,borderRightColor:fx,borderBottomColor:fx,borderLeftColor:fx,filter:mE,WebkitFilter:mE}),yE=e=>gE[e];function vE(e,t){let n=yE(e);return n!==mE&&(n=_x),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const bE=e=>/^0[^.\s]+$/.test(e);function wE(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||bE(e):void 0}const xE=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function EE(e,t){return e[t]||e.default||e}const SE=!1,kE=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const s=EE(r,e)||{},a=s.delay||r.delay||0;let{elapsed:o=0}=r;o-=Fw(a);const l=function(e,t,n,r){const i=hE(t,n);let s;s=Array.isArray(n)?[...n]:[null,n];const a=void 0!==r.from?r.from:e.get();let o;const l=[];for(let c=0;c<s.length;c++)null===s[c]&&(s[c]=0===c?a:s[c-1]),wE(s[c])&&l.push(c),"string"===typeof s[c]&&"none"!==s[c]&&"0"!==s[c]&&(o=s[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++)s[l[c]]=vE(t,o);return s}(t,e,n,s),c=l[0],u=l[l.length-1],h=hE(e,c),d=hE(e,u);Mw(h===d,"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(u,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(u," via the `style` property."));let f=Me(Me({keyframes:l,velocity:t.getVelocity(),ease:"easeOut"},s),{},{delay:-o,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}});if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u}=e,h=Rb(e,xE);return!!Object.keys(h).length}(s)||(f=Me(Me({},f),uE(e,f))),f.duration&&(f.duration=Fw(f.duration)),f.repeatDelay&&(f.repeatDelay=Fw(f.repeatDelay)),!h||!d||Uw||!1===s.type||SE)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const s=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:nw,pause:nw,stop:nw,then:e=>(e(),Promise.resolve()),cancel:nw,complete:nw});return n?nE({keyframes:[0,1],duration:0,delay:n,onComplete:s}):s()}(Uw?Me(Me({},f),{},{delay:0}):f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=aE(t,e,f);if(n)return n}return nE(f)}};function TE(e){return Boolean(Zv(e)&&e.add)}const NE=e=>/^\-?\d*\.?\d+$/.test(e);function CE(e,t){-1===e.indexOf(t)&&e.push(t)}function _E(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class IE{constructor(){this.subscriptions=[]}add(e){return CE(this.subscriptions,e),()=>_E(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const PE={current:void 0};class AE{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=ow;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,sw.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>sw.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new IE);const n=this.events[e].add(t);return"change"===e?()=>{n(),sw.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return PE.current&&PE.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Ux(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jE(e,t){return new AE(e,t)}const RE=e=>t=>t.test(e),DE=[ob,vb,yb,gb,wb,bb,{test:e=>"auto"===e,parse:e=>e}],OE=e=>DE.find(RE(e)),ME=[...DE,fx,_x],LE=e=>ME.find(RE(e)),FE=["transitionEnd","transition"];function VE(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,jE(n))}function UE(e,t){const n=Ow(e,t);let r=n?e.makeTargetAnimatable(n,!1):{},{transitionEnd:i={},transition:s={}}=r,a=Rb(r,FE);a=Me(Me({},a),i);for(const o in a){VE(e,o,$b(a[o]))}}function BE(e,t){if(!t)return;return(t[e]||t.default||t).from}const zE=["transition","transitionEnd"];function HE(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function qE(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function WE(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=e.makeTargetAnimatable(t),{transition:a=e.getDefaultTransition(),transitionEnd:o}=s,l=Rb(s,zE);const c=e.getValue("willChange");r&&(a=r);const u=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const t=e.getValue(d),r=l[d];if(!t||void 0===r||h&&HE(h,d))continue;const i=Me({delay:n,elapsed:0},EE(a||{},d));if(window.HandoffAppearAnimations){const n=e.getProps()[Iv];if(n){const e=window.HandoffAppearAnimations(n,d,t,sw);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let s=!i.isHandoff&&!qE(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(s=!1),t.animation&&(s=!1),s)continue;t.start(kE(d,t,r,e.shouldReduceMotion&&$v.has(d)?{type:!1}:i));const o=t.animation;TE(c)&&(c.add(d),o.then(()=>c.remove(d))),u.push(o)}return o&&Promise.all(u).then(()=>{o&&UE(e,o)}),u}function KE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Ow(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(WE(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:a,staggerDirection:o}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const a=[],o=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(GE).forEach((e,r)=>{e.notify("AnimationStart",t),a.push(KE(e,t,Me(Me({},s),{},{delay:n+l(r)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,s+r,a,o,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[e,t]="beforeChildren"===o?[s,a]:[a,s];return e().then(()=>t())}return Promise.all([s(),a(n.delay)])}function GE(e,t){return e.sortNodePosition(t)}const QE=["transition","transitionEnd"],YE=[...Rv].reverse(),XE=Rv.length;function $E(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>KE(e,t,r));n=Promise.all(i)}else if("string"===typeof t)n=KE(e,t,r);else{const i="function"===typeof t?Ow(e,t,r.custom):t;n=Promise.all(WE(e,i,r))}return n.then(()=>e.notify("AnimationComplete",t))}(e,n,r)}))}function JE(e){let t=$E(e);const n={animate:eS(!0),whileInView:eS(),whileHover:eS(),whileTap:eS(),whileDrag:eS(),whileFocus:eS(),exit:eS()};let r=!0;const i=(t,n)=>{const r=Ow(e,n);if(r){const{transition:e,transitionEnd:n}=r,i=Rb(r,QE);t=Me(Me(Me({},t),i),n)}return t};function s(s,a){const o=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let h={},d=1/0;for(let t=0;t<XE;t++){const f=YE[t],p=n[f],m=void 0!==o[f]?o[f]:l[f],g=Av(m),y=f===a?p.isActive:null;!1===y&&(d=t);let v=m===l[f]&&m!==o[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys=Me({},h),!p.isActive&&null===y||!m&&!p.prevProp||jv(m)||"boolean"===typeof m)continue;let b=ZE(p.prevProp,m)||f===a&&p.isActive&&!v&&g||t>d&&g,w=!1;const x=Array.isArray(m)?m:[m];let E=x.reduce(i,{});!1===y&&(E={});const{prevResolvedValues:S={}}=p,k=Me(Me({},S),E),T=e=>{b=!0,u.has(e)&&(w=!0,u.delete(e)),p.needsAnimating[e]=!0};for(const e in k){const t=E[e],n=S[e];if(h.hasOwnProperty(e))continue;let r=!1;r=Xb(t)&&Xb(n)?!Dw(t,n):t!==n,r?void 0!==t?T(e):u.add(e):void 0!==t&&u.has(e)?T(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=E,p.isActive&&(h=Me(Me({},h),E)),r&&e.blockInitialAnimation&&(b=!1),!b||v&&!w||c.push(...x.map(e=>({animation:e,options:Me({type:f},s)})))}if(u.size){const t={};u.forEach(n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)}),c.push({animation:t})}let f=Boolean(c.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(c):Promise.resolve()}return{animateChanges:s,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const o=s(i,t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function ZE(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Dw(t,e)}function eS(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let tS=0;const nS={animation:{Feature:class extends Ew{constructor(e){super(e),e.animationState||(e.animationState=JE(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),jv(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends Ew{constructor(){super(...arguments),this.id=tS++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},rS=(e,t)=>Math.abs(e-t);class iS{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=oS(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=rS(e.x,t.x),r=rS(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=ow;this.history.push(Me(Me({},r),{},{timestamp:i}));const{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=sS(t,this.transformPagePoint),sw.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=oS("pointercancel"===e.type?this.lastMoveEventInfo:sS(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!dw(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=sS(fw(e),this.transformPagePoint),{point:a}=s,{timestamp:o}=ow;this.history=[Me(Me({},a),{},{timestamp:o})];const{onSessionStart:l}=t;l&&l(e,oS(s,this.history)),this.removeListeners=gw(pw(this.contextWindow,"pointermove",this.handlePointerMove),pw(this.contextWindow,"pointerup",this.handlePointerUp),pw(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),aw(this.updatePoint)}}function sS(e,t){return t?{point:t(e.point)}:e}function aS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function oS(e,t){let{point:n}=e;return{point:n,delta:aS(n,cS(t)),offset:aS(n,lS(t)),velocity:uS(t,.1)}}function lS(e){return e[0]}function cS(e){return e[e.length-1]}function uS(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=cS(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Fw(t)));)n--;if(!r)return{x:0,y:0};const s=Vw(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function hS(e){return e.max-e.min}function dS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function fS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=px(t.min,t.max,e.origin),e.scale=hS(n)/hS(t),(dS(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=px(n.min,n.max,e.origin)-e.originPoint,(dS(e.translate)||isNaN(e.translate))&&(e.translate=0)}function pS(e,t,n,r){fS(e.x,t.x,n.x,r?r.originX:void 0),fS(e.y,t.y,n.y,r?r.originY:void 0)}function mS(e,t,n){e.min=n.min+t.min,e.max=e.min+hS(t)}function gS(e,t,n){e.min=t.min-n.min,e.max=e.min+hS(t)}function yS(e,t,n){gS(e.x,t.x,n.x),gS(e.y,t.y,n.y)}function vS(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function bS(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const wS=.35;function xS(e,t,n){return{min:ES(e,t),max:ES(e,n)}}function ES(e,t){return"number"===typeof e?e:e[t]||0}const SS=()=>({x:{min:0,max:0},y:{min:0,max:0}});function kS(e){return[e("x"),e("y")]}function TS(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function NS(e){return void 0===e||1===e}function CS(e){let{scale:t,scaleX:n,scaleY:r}=e;return!NS(t)||!NS(n)||!NS(r)}function _S(e){return CS(e)||IS(e)||e.z||e.rotate||e.rotateX||e.rotateY}function IS(e){return PS(e.x)||PS(e.y)}function PS(e){return e&&"0%"!==e}function AS(e,t,n){return n+t*(e-n)}function jS(e,t,n,r,i){return void 0!==i&&(e=AS(e,i,r)),AS(e,n,r)+t}function RS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=jS(e.min,t,n,r,i),e.max=jS(e.max,t,n,r,i)}function DS(e,t){let{x:n,y:r}=t;RS(e.x,n.translate,n.scale,n.originPoint),RS(e.y,r.translate,r.scale,r.originPoint)}function OS(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function MS(e,t){e.min=e.min+t,e.max=e.max+t}function LS(e,t,n){let[r,i,s]=n;const a=void 0!==t[s]?t[s]:.5,o=px(e.min,e.max,a);RS(e,t[r],t[i],o,t.scale)}const FS=["x","scaleX","originX"],VS=["y","scaleY","originY"];function US(e,t){LS(e.x,t,FS),LS(e.y,t,VS)}function BS(e,t){return TS(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const zS=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},HS=new WeakMap;class qS{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new iS(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(fw(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ww(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kS(e=>{let t=this.getAxisMotionValue(e).get()||0;if(yb.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=hS(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&sw.update(()=>i(e,t),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>kS(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:zS(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&sw.update(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!WS(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?px(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?px(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&Pv(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:vS(e.x,r,s),y:vS(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wS;return!1===e?e=0:!0===e&&(e=wS),{x:xS(e,"left","right"),y:xS(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&kS(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Pv(e))return!1;const n=e.current;Lw(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=BS(e,n),{scroll:i}=t;return i&&(MS(r.x,i.offset.x),MS(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:bS(e.x,t.x),y:bS(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=TS(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=kS(a=>{if(!WS(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,h=Me(Me({type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(a,h)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(kE(e,n,0,t))}stopAnimation(){kS(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){kS(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){kS(t=>{const{drag:n}=this.getProps();if(!WS(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-px(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Pv(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};kS(e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=hS(e),i=hS(t);return i>r?n=Dx(t.min,t.max-r,e.min):r>i&&(n=Dx(e.min,e.max-i,t.min)),ab(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),kS(t=>{if(!WS(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(px(i,s,r[t]))})}addListeners(){if(!this.visualElement.current)return;HS.set(this.visualElement,this);const e=pw(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Pv(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=hw(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(kS(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=wS,dragMomentum:a=!0}=e;return Me(Me({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:a})}}function WS(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const KS=e=>(t,n)=>{e&&sw.update(()=>e(t,n))};const GS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const YS={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!vb.test(e))return e;e=parseFloat(e)}const n=QS(e,t.target.x),r=QS(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},XS={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=_x.parse(e);if(s.length>5)return i;const a=_x.createTransformer(e),o="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+o]/=l,s[1+o]/=c;const u=px(l,c,.5);return"number"===typeof s[2+o]&&(s[2+o]/=u),"number"===typeof s[3+o]&&(s[3+o]/=u),a(s)}};class $S extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=ZS,Object.assign(Yv,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions(Me(Me({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),GS.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||sw.postRender(()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function JS(e){const[t,n]=function(){const e=(0,i.useContext)(kv);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=(0,i.useId)();return(0,i.useEffect)(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}(),r=(0,i.useContext)(Bv);return i.createElement($S,Me(Me({},e),{},{layoutGroup:r,switchLayoutGroup:(0,i.useContext)(zv),isPresent:t,safeToRemove:n}))}const ZS={borderRadius:Me(Me({},YS),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:YS,borderTopRightRadius:YS,borderBottomLeftRadius:YS,borderBottomRightRadius:YS,boxShadow:XS},ek=["TopLeft","TopRight","BottomLeft","BottomRight"],tk=ek.length,nk=e=>"string"===typeof e?parseFloat(e):e,rk=e=>"number"===typeof e||vb.test(e);function ik(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const sk=ok(0,.5,ex),ak=ok(.5,.95,nw);function ok(e,t,n){return r=>r<e?0:r>t?1:n(Dx(e,t,r))}function lk(e,t){e.min=t.min,e.max=t.max}function ck(e,t){lk(e.x,t.x),lk(e.y,t.y)}function uk(e,t,n,r,i){return e=AS(e-=t,1/n,r),void 0!==i&&(e=AS(e,1/i,r)),e}function hk(e,t,n,r,i){let[s,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;yb.test(t)&&(t=parseFloat(t),t=px(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let o=px(s.min,s.max,r);e===s&&(o-=t),e.min=uk(e.min,t,n,o,i),e.max=uk(e.max,t,n,o,i)}(e,t[s],t[a],t[o],t.scale,r,i)}const dk=["x","scaleX","originX"],fk=["y","scaleY","originY"];function pk(e,t,n,r){hk(e.x,t,dk,n?n.x:void 0,r?r.x:void 0),hk(e.y,t,fk,n?n.y:void 0,r?r.y:void 0)}function mk(e){return 0===e.translate&&1===e.scale}function gk(e){return mk(e.x)&&mk(e.y)}function yk(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function vk(e){return hS(e.x)/hS(e.y)}class bk{constructor(){this.members=[]}add(e){CE(this.members,e),e.scheduleRender()}remove(e){if(_E(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wk(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) "))}const a=e.x.scale*t.x,o=e.y.scale*t.y;return 1===a&&1===o||(r+="scale(".concat(a,", ").concat(o,")")),r||"none"}const xk=(e,t)=>e.depth-t.depth;class Ek{constructor(){this.children=[],this.isDirty=!1}add(e){CE(this.children,e),this.isDirty=!0}remove(e){_E(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(xk),this.isDirty=!1,this.children.forEach(e)}}const Sk=["","X","Y","Z"],kk={visibility:"hidden"};let Tk=0;const Nk={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Ck(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Tk++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Nk.totalNodes=Nk.resolvedTargetDeltas=Nk.recalculatedProjection=0,this.nodes.forEach(Pk),this.nodes.forEach(Lk),this.nodes.forEach(Fk),this.nodes.forEach(Ak),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(Nk)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ek)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new IE),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:s}=i;const a=s-n;a>=t&&(aw(r),e(a-t))};return sw.read(r,!0),()=>aw(r)}(r,250),GS.hasAnimatedSinceResize&&(GS.hasAnimatedSinceResize=!1,this.nodes.forEach(Mk))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||s)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||a.getDefaultTransition()||qk,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!yk(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=Me(Me({},EE(s,"layout")),{},{onPlay:o,onComplete:l});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||Mk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,aw(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Vk),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Rk);this.isUpdating||this.nodes.forEach(Dk),this.isUpdating=!1,this.nodes.forEach(Ok),this.nodes.forEach(_k),this.nodes.forEach(Ik),this.clearAllSnapshots();const e=performance.now();ow.delta=ab(0,1e3/60,e-ow.timestamp),ow.timestamp=e,ow.isProcessing=!0,lw.update.process(ow),lw.preRender.process(ow),lw.render.process(ow),ow.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(jk),this.sharedNodes.forEach(Uk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sw.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sw.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!gk(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||_S(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Gk((r=n).x),Gk(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(MS(t.x,n.offset.x),MS(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};ck(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:s}=r;if(r!==this.root&&i&&s.layoutScroll){if(i.isRoot){ck(t,e);const{scroll:n}=this.root;n&&(MS(t.x,-n.offset.x),MS(t.y,-n.offset.y))}MS(t.x,i.offset.x),MS(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};ck(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&US(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),_S(e.latestValues)&&US(n,e.latestValues)}return _S(this.latestValues)&&US(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};ck(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!_S(e.latestValues))continue;CS(e.latestValues)&&e.updateSnapshot();const r=SS();ck(r,e.measurePageBox()),pk(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return _S(this.latestValues)&&pk(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=Me(Me(Me({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ow.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=ow.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},yS(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),ck(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,mS(a.x,o.x,l.x),mS(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):ck(this.target,this.layout.layoutBox),DS(this.target,this.targetDelta)):ck(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},yS(this.relativeTargetOrigin,this.target,e.target),ck(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Nk.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!CS(this.parent.latestValues)&&!IS(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===ow.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;ck(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,a;t.x=t.y=1;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const i=s.instance;i&&i.style&&"contents"===i.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&US(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,DS(e,a)),r&&_S(s.latestValues)&&US(e,s.latestValues))}t.x=OS(t.x),t.y=OS(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;pS(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=wk(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===a&&this.treeScale.y===o||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Nk.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=Me({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(Hk));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;Bk(s.x,e.x,n),Bk(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yS(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){zk(e.x,t.x,n.x,r),zk(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),h&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),ck(h,this.relativeTarget)),o&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=px(0,void 0!==n.opacity?n.opacity:1,sk(r)),e.opacityExit=px(void 0!==t.opacity?t.opacity:1,0,ak(r))):s&&(e.opacity=px(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<tk;a++){const i="border".concat(ek[a],"Radius");let s=ik(t,i),o=ik(n,i);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||rk(s)===rk(o)?(e[i]=Math.max(px(nk(s),nk(o),r),0),(yb.test(o)||yb.test(s))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=px(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(aw(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sw.update(()=>{GS.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Zv(e)?e:jE(e);return r.start(kE("",r,t,n)),r.animation}(0,1e3,Me(Me({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Qk(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=hS(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=hS(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}ck(t,n),US(t,i),pS(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new bk);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<Sk.length;i++){const t="rotate"+Sk[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return kk;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Jb(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Jb(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!_S(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=wk(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*o.origin,"% ").concat(100*l.origin,"% 0"),s.animationValues?r.opacity=s===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in Yv){if(void 0===a[c])continue;const{correct:e,applyTo:t}=Yv[c],n="none"===r.transform?a[c]:e(a[c],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=s===this?Jb(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(Rk),this.root.sharedNodes.clear()}}}function _k(e){e.updateLayout()}function Ik(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?kS(e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=hS(r);r.min=t[e].min,r.max=r.min+i}):Qk(i,n.layoutBox,t)&&kS(r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],a=hS(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};pS(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?pS(o,e.applyTransform(r,!0),n.measuredBox):pS(o,t,n.layoutBox);const l=!gk(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const a={x:{min:0,max:0},y:{min:0,max:0}};yS(a,n.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};yS(o,t,s.layoutBox),yk(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Pk(e){Nk.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ak(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function jk(e){e.clearSnapshot()}function Rk(e){e.clearMeasurements()}function Dk(e){e.isLayoutDirty=!1}function Ok(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Mk(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Lk(e){e.resolveTargetDelta()}function Fk(e){e.calcProjection()}function Vk(e){e.resetRotation()}function Uk(e){e.removeLeadSnapshot()}function Bk(e,t,n){e.translate=px(t.translate,0,n),e.scale=px(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function zk(e,t,n,r){e.min=px(t.min,n.min,r),e.max=px(t.max,n.max,r)}function Hk(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const qk={duration:.45,ease:[.4,0,.1,1]},Wk=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),Kk=Wk("applewebkit/")&&!Wk("chrome/")?Math.round:nw;function Gk(e){e.min=Kk(e.min),e.max=Kk(e.max)}function Qk(e,t,n){return"position"===e||"preserve-aspect"===e&&!dS(vk(t),vk(n),.2)}const Yk=Ck({attachResizeListener:(e,t)=>hw(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xk={current:void 0},$k=Ck({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Xk.current){const e=new Yk({});e.mount(window),e.setOptions({layoutScroll:!0}),Xk.current=e}return Xk.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Jk={pan:{Feature:class extends Ew{constructor(){super(...arguments),this.removePointerDownListener=nw}onPointerDown(e){this.session=new iS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:KS(e),onStart:KS(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&sw.update(()=>r(e,t))}}}mount(){this.removePointerDownListener=pw(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Ew{constructor(e){super(e),this.removeGroupControls=nw,this.removeListeners=nw,this.controls=new qS(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nw}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:$k,MeasureLayout:JS}};const Zk=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function eT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Lw(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=Zk.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return NE(e)?parseFloat(e):e}return ib(i)?eT(i,t,n+1):i}function tT(e,t,n){let r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t));const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n=Me({},n)),e.values.forEach(e=>{const t=e.get();if(!ib(t))return;const n=eT(t,i);n&&e.set(n)});for(const s in r){const e=r[s];if(!ib(e))continue;const t=eT(e,i);t&&(r[s]=t,n||(n={}),void 0===n[s]&&(n[s]=e))}return{target:r,transitionEnd:n}}const nT=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),rT=e=>nT.has(e),iT=e=>e===ob||e===vb,sT=(e,t)=>parseFloat(e.split(", ")[t]),aT=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/);if(s)return sT(s[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?sT(t[1],e):0}},oT=new Set(["x","y","z"]),lT=Xv.filter(e=>!oT.has(e));const cT={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:aT(4,13),y:aT(5,14)};cT.translateX=cT.x,cT.translateY=cT.y;const uT=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=Me({},t),r=Me({},r);const i=Object.keys(t).filter(rT);let s=[],a=!1;const o=[];if(i.forEach(i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let c=n[i],u=OE(c);const h=t[i];let d;if(Xb(h)){const e=h.length,t=null===h[0]?1:0;c=h[t],u=OE(c);for(let n=t;n<e&&null!==h[n];n++)d?Lw(OE(h[n])===d,"All keyframes must be of the same type"):(d=OE(h[n]),Lw(d===u||iT(u)&&iT(d),"Keyframes must be of the same dimension as the current value"))}else d=OE(h);if(u!==d)if(iT(u)&&iT(d)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&d===vb&&(t[i]=h.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===d||void 0===d?void 0:d.transform)&&(0===c||0===h)?0===c?l.set(d.transform(c)):t[i]=u.transform(h):(a||(s=function(e){const t=[];return lT.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),a=!0),o.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(h))}),o.length){const n=o.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:a}=s,o={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach(e=>{o[e]=cT[e](r,s)}),t.render();const l=t.measureViewportBox();return n.forEach(n=>{const r=t.getValue(n);r&&r.jump(o[n]),e[n]=cT[n](l,s)}),e})(t,e,o);return s.length&&s.forEach(t=>{let[n,r]=t;e.getValue(n).set(r)}),e.render(),Tv&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function hT(e,t,n,r){return(e=>Object.keys(e).some(rT))(t)?uT(e,t,n,r):{target:t,transitionEnd:r}}const dT={current:null},fT={current:!1};const pT=new WeakMap,mT=["willChange"],gT=["children"],yT=Object.keys(Uv),vT=yT.length,bT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],wT=Dv.length;class xT{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>sw.render(this.render,!1,!0);const{latestValues:o,renderState:l}=s;this.latestValues=o,this.baseTarget=Me({},o),this.initialValues=n.initial?Me({},o):{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=Ov(n),this.isVariantNode=Mv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const c=this.scrapeMotionValuesFromProps(n,{}),{willChange:u}=c,h=Rb(c,mT);for(const d in h){const e=h[d];void 0!==o[d]&&Zv(e)&&(e.set(o[d],!1),TE(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,pT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),fT.current||function(){if(fT.current=!0,Tv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>dT.current=e.matches;e.addListener(t),t()}else dT.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||dT.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){pT.delete(this.current),this.projection&&this.projection.unmount(),aw(this.notifyUpdate),aw(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=$v.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&sw.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,s,{children:a}=e,o=Rb(e,gT);for(let l=0;l<vT;l++){const e=yT[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:a}=Uv[e];r&&(i=r),t(o)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),a&&(s=a))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:s,layoutScroll:a,layoutRoot:l}=o;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||s&&Pv(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:a,layoutRoot:l})}return s}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<bT.length;n++){const t=bT[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],a=n[i];if(Zv(s))e.addValue(i,s),TE(r)&&r.add(i);else if(Zv(a))e.addValue(i,jE(s,{owner:e})),TE(r)&&r.remove(i);else if(a!==s)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(i);e.addValue(i,jE(void 0!==t?t:s,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<wT;t++){const n=Dv[t],r=this.props[n];(Av(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=jE(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=Qb(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Zv(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new IE),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}const ET=["transition","transitionEnd"];class ST extends xT{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i}=e,s=Rb(e,ET),{transformValues:a}=t,o=function(e,t,n){const r={};for(const i in e){const e=BE(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(s,r||{},this);if(a&&(i&&(i=a(i)),s&&(s=a(s)),o&&(o=a(o))),n){!function(e,t,n){var r,i;const s=Object.keys(t).filter(t=>!e.hasValue(t)),a=s.length;if(a)for(let o=0;o<a;o++){const a=s[o],l=t[a];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(i=null!==(r=n[a])&&void 0!==r?r:e.readValue(a))&&void 0!==i?i:t[a]),void 0!==c&&null!==c&&("string"===typeof c&&(NE(c)||bE(c))?c=parseFloat(c):!LE(c)&&_x.test(l)&&(c=vE(a,l)),e.addValue(a,jE(c,{owner:e})),void 0===n[a]&&(n[a]=c),null!==c&&e.setBaseTarget(a,c))}}(this,s,o);const e=((e,t,n,r)=>{const i=tT(e,t,r);return hT(e,t=i.target,n,r=i.transitionEnd)})(this,s,o,i);i=e.transitionEnd,s=e.target}return Me({transition:r,transitionEnd:i},s)}}class kT extends ST{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if($v.has(t)){const e=yE(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(rb(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return BS(e,n)}build(e,t,n,r){kb(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Kb(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zv(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}renderInstance(e,t,n,r){Hb(e,t,n,r)}}class TT extends ST{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if($v.has(t)){const e=yE(t);return e&&e.default||0}return t=qb.has(t)?t:_v(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return Gb(e,t)}build(e,t,n,r){Fb(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){Wb(e,t,0,r)}mount(e){this.isSVGTag=Ub(e.tagName),super.mount(e)}}const NT=(e,t)=>Qv(e)?new TT(t,{enableHardwareAcceleration:!1}):new kT(t,{enableHardwareAcceleration:!0}),CT={layout:{ProjectionNode:$k,MeasureLayout:JS}},_T=Me(Me(Me(Me({},nS),Rw),Jk),CT),IT=Kv((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;return Me(Me({},Qv(e)?cw:uw),{},{preloadedFeatures:n,useRender:zb(i),createVisualElement:r,Component:e})}(e,t,_T,NT));function PT(){const e=(0,i.useRef)(!1);return Nv(()=>(e.current=!0,()=>{e.current=!1}),[]),e}class AT extends i.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function jT(e){let{children:t,isPresent:n}=e;const r=(0,i.useId)(),s=(0,i.useRef)(null),a=(0,i.useRef)({width:0,height:0,top:0,left:0});return(0,i.useInsertionEffect)(()=>{const{width:e,height:t,top:i,left:o}=a.current;if(n||!s.current||!e||!t)return;s.current.dataset.motionPopId=r;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(i,"px !important;\n            left: ").concat(o,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[n]),i.createElement(AT,{isPresent:n,childRef:s,sizeRef:a},i.cloneElement(t,{ref:s}))}const RT=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:s,custom:a,presenceAffectsLayout:o,mode:l}=e;const c=Yb(DT),u=(0,i.useId)(),h=(0,i.useMemo)(()=>({id:u,initial:n,isPresent:r,custom:a,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;s&&s()},register:e=>(c.set(e,!1),()=>c.delete(e))}),o?void 0:[r]);return(0,i.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[r]),i.useEffect(()=>{!r&&!c.size&&s&&s()},[r]),"popLayout"===l&&(t=i.createElement(jT,{isPresent:r},t)),i.createElement(kv.Provider,{value:h},t)};function DT(){return new Map}const OT=e=>e.key||"";const MT=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:s,exitBeforeEnter:a,presenceAffectsLayout:o=!0,mode:l="sync"}=e;Lw(!a,"Replace exitBeforeEnter with mode='wait'");const c=(0,i.useContext)(Bv).forceRender||function(){const e=PT(),[t,n]=(0,i.useState)(0),r=(0,i.useCallback)(()=>{e.current&&n(t+1)},[t]);return[(0,i.useCallback)(()=>sw.postRender(r),[r]),t]}()[0],u=PT(),h=function(e){const t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}(t);let d=h;const f=(0,i.useRef)(new Map).current,p=(0,i.useRef)(d),m=(0,i.useRef)(new Map).current,g=(0,i.useRef)(!0);if(Nv(()=>{g.current=!1,function(e,t){e.forEach(e=>{const n=OT(e);t.set(n,e)})}(h,m),p.current=d}),function(e){(0,i.useEffect)(()=>()=>e(),[])}(()=>{g.current=!0,m.clear(),f.clear()}),g.current)return i.createElement(i.Fragment,null,d.map(e=>i.createElement(RT,{key:OT(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:o,mode:l},e)));d=[...d];const y=p.current.map(OT),v=h.map(OT),b=y.length;for(let i=0;i<b;i++){const e=y[i];-1!==v.indexOf(e)||f.has(e)||f.set(e,void 0)}return"wait"===l&&f.size&&(d=[]),f.forEach((e,t)=>{if(-1!==v.indexOf(t))return;const r=m.get(t);if(!r)return;const a=y.indexOf(t);let g=e;if(!g){const e=()=>{f.delete(t);const e=Array.from(m.keys()).filter(e=>!v.includes(e));if(e.forEach(e=>m.delete(e)),p.current=h.filter(n=>{const r=OT(n);return r===t||e.includes(r)}),!f.size){if(!1===u.current)return;c(),s&&s()}};g=i.createElement(RT,{key:OT(r),isPresent:!1,onExitComplete:e,custom:n,presenceAffectsLayout:o,mode:l},r),f.set(t,g)}d.splice(a,0,g)}),d=d.map(e=>{const t=e.key;return f.has(t)?e:i.createElement(RT,{key:OT(e),isPresent:!0,presenceAffectsLayout:o,mode:l},e)}),i.createElement(i.Fragment,null,f.size?d:d.map(e=>(0,i.cloneElement)(e)))};var LT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FT=["color","size","strokeWidth","absoluteStrokeWidth","children"],VT=(e,t)=>{const n=(0,i.forwardRef)((n,r)=>{let{color:s="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:c}=n,u=Rb(n,FT);return(0,i.createElement)("svg",Me(Me({ref:r},LT),{},{width:a,height:a,stroke:s,strokeWidth:l?24*Number(o)/Number(a):o,className:"lucide lucide-".concat((h=e,h.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},u),[...t.map(e=>{let[t,n]=e;return(0,i.createElement)(t,n)}),...(Array.isArray(c)?c:[c])||[]]);var h});return n.displayName="".concat(e),n},UT=VT("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),BT=VT("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),zT=VT("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),HT=VT("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qT=VT("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),WT=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),{currentUser:s,logout:a}=wv(),o=ne();(0,i.useEffect)(()=>{const e=()=>{r(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const l=[{href:"/#features",label:"Features"},{href:"/pricing",label:"Pricing"},{href:"/about",label:"About"},{href:"/contact",label:"Contact"}];return(0,vv.jsx)(IT.nav,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 ".concat(n?"bg-white/95 backdrop-blur-lg shadow-lg border-b border-gray-200/50":"bg-white/90 backdrop-blur-sm"),children:(0,vv.jsxs)("div",{className:"container",children:[(0,vv.jsxs)("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[(0,vv.jsx)(Ie,{to:"/",children:(0,vv.jsxs)(IT.div,{className:"flex items-center space-x-3",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,vv.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-xl",children:(0,vv.jsx)(UT,{className:"w-6 h-6 text-white"})}),(0,vv.jsx)("span",{className:"text-xl font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"POS Pro"})]})}),(0,vv.jsx)("div",{className:"hidden lg:flex items-center space-x-8",children:l.map((e,t)=>(0,vv.jsx)(IT.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1*t},whileHover:{y:-2},children:(0,vv.jsxs)(Ie,{to:e.href,className:"text-gray-700 hover:text-primary-600 font-medium transition-colors duration-200 relative group",children:[e.label,(0,vv.jsx)("span",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-gradient-to-r from-primary-600 to-secondary-600 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-200"})]})},e.href))}),(0,vv.jsx)("div",{className:"hidden lg:flex items-center space-x-4",children:s?(0,vv.jsxs)(vv.Fragment,{children:[(0,vv.jsxs)(IT.button,{onClick:()=>o("/dashboard"),className:"flex items-center space-x-2 text-gray-700 hover:text-primary-600 font-medium transition-colors duration-200",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,vv.jsx)(BT,{className:"w-4 h-4"}),(0,vv.jsx)("span",{children:"Dashboard"})]}),(0,vv.jsxs)(IT.button,{onClick:async()=>{await a(),o("/")},className:"flex items-center space-x-2 text-gray-700 hover:text-red-600 font-medium transition-colors duration-200",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,vv.jsx)(zT,{className:"w-4 h-4"}),(0,vv.jsx)("span",{children:"Logout"})]})]}):(0,vv.jsxs)(vv.Fragment,{children:[(0,vv.jsx)(IT.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,vv.jsx)(Ie,{to:"/login",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors duration-200",children:"Login"})}),(0,vv.jsx)(IT.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,vv.jsx)(Ie,{to:"/signup",className:"btn btn-primary",children:"Get Started"})})]})}),(0,vv.jsx)(IT.button,{className:"lg:hidden flex items-center justify-center w-10 h-10 rounded-lg hover:bg-gray-100 transition-colors duration-200",onClick:()=>t(!e),whileTap:{scale:.95},children:(0,vv.jsx)(MT,{mode:"wait",children:e?(0,vv.jsx)(IT.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:(0,vv.jsx)(HT,{className:"w-6 h-6 text-gray-700"})},"close"):(0,vv.jsx)(IT.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:(0,vv.jsx)(qT,{className:"w-6 h-6 text-gray-700"})},"menu")})})]}),(0,vv.jsx)(MT,{children:e&&(0,vv.jsx)(IT.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"lg:hidden overflow-hidden",children:(0,vv.jsxs)("div",{className:"py-4 space-y-4 border-t border-gray-200",children:[l.map((e,n)=>(0,vv.jsx)(IT.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*n},children:(0,vv.jsx)(Ie,{to:e.href,className:"block text-gray-700 hover:text-primary-600 font-medium transition-colors duration-200 py-2",onClick:()=>t(!1),children:e.label})},e.href)),(0,vv.jsx)("div",{className:"pt-4 space-y-3 border-t border-gray-200",children:s?(0,vv.jsxs)(vv.Fragment,{children:[(0,vv.jsxs)(IT.button,{onClick:()=>{o("/dashboard"),t(!1)},className:"flex items-center justify-center space-x-2 w-full py-2 text-gray-700 hover:text-primary-600 font-medium transition-colors duration-200",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:[(0,vv.jsx)(BT,{className:"w-4 h-4"}),(0,vv.jsx)("span",{children:"Dashboard"})]}),(0,vv.jsxs)(IT.button,{onClick:async()=>{await a(),o("/"),t(!1)},className:"flex items-center justify-center space-x-2 w-full py-2 text-gray-700 hover:text-red-600 font-medium transition-colors duration-200",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},children:[(0,vv.jsx)(zT,{className:"w-4 h-4"}),(0,vv.jsx)("span",{children:"Logout"})]})]}):(0,vv.jsxs)(vv.Fragment,{children:[(0,vv.jsx)(IT.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:(0,vv.jsx)(Ie,{to:"/login",className:"block text-center py-2 w-full text-gray-700 hover:text-primary-600 font-medium transition-colors duration-200",onClick:()=>t(!1),children:"Login"})}),(0,vv.jsx)(IT.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},children:(0,vv.jsx)(Ie,{to:"/signup",className:"btn btn-primary w-full justify-center",onClick:()=>t(!1),children:"Get Started"})})]})})]})})})]})})},KT=VT("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),GT=VT("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),QT=VT("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),YT=VT("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),XT=VT("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),$T=["as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];var JT=Object.defineProperty,ZT=(e,t,n)=>((e,t,n)=>t in e?JT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!==typeof t?t+"":t,n),eN=new Map,tN=new WeakMap,nN=0,rN=void 0;function iN(e){return Object.keys(e).sort().filter(t=>void 0!==e[t]).map(t=>"".concat(t,"_").concat("root"===t?function(e){return e?(tN.has(e)||(nN+=1,tN.set(e,nN.toString())),tN.get(e)):"0"}(e.root):e[t])).toString()}function sN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rN;if("undefined"===typeof window.IntersectionObserver&&void 0!==r){const i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),()=>{}}const{id:i,observer:s,elements:a}=function(e){const t=iN(e);let n=eN.get(t);if(!n){const r=new Map;let i;const s=new IntersectionObserver(t=>{t.forEach(t=>{var n;const s=t.isIntersecting&&i.some(e=>t.intersectionRatio>=e);e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=s),null==(n=r.get(t.target))||n.forEach(e=>{e(s,t)})})},e);i=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:s,elements:r},eN.set(t,n)}return n}(n),o=a.get(e)||[];return a.has(e)||a.set(e,o),o.push(t),s.observe(e),function(){o.splice(o.indexOf(t),1),0===o.length&&(a.delete(e),s.unobserve(e)),0===a.size&&(s.disconnect(),eN.delete(i))}}i.Component;function aN(){let{threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:s,triggerOnce:a,skip:o,initialInView:l,fallbackInView:c,onChange:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var h;const[d,f]=i.useState(null),p=i.useRef(u),[m,g]=i.useState({inView:!!l,entry:void 0});p.current=u,i.useEffect(()=>{if(o||!d)return;let i;return i=sN(d,(e,t)=>{g({inView:e,entry:t}),p.current&&p.current(e,t),t.isIntersecting&&a&&i&&(i(),i=void 0)},{root:s,rootMargin:r,threshold:e,trackVisibility:n,delay:t},c),()=>{i&&i()}},[Array.isArray(e)?e.toString():e,d,s,r,a,o,n,c,t]);const y=null==(h=m.entry)?void 0:h.target,v=i.useRef(void 0);d||!y||a||o||v.current===y||(v.current=y,g({inView:!!l,entry:void 0}));const b=[f,m.inView,m.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}const oN=()=>{const[e,t]=aN({triggerOnce:!0,threshold:.1}),{currentUser:n}=wv(),r=ne(),i={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return(0,vv.jsxs)("section",{className:"relative min-h-screen flex items-center bg-gradient-to-br from-primary-600 via-secondary-600 to-accent-600 overflow-hidden",children:[(0,vv.jsx)("div",{className:"absolute inset-0 bg-hero-pattern opacity-20"}),(0,vv.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,vv.jsx)(IT.div,{className:"absolute top-20 left-10 w-72 h-72 bg-white/10 rounded-full blur-3xl",animate:{x:[0,30,0],y:[0,-30,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),(0,vv.jsx)(IT.div,{className:"absolute bottom-20 right-10 w-96 h-96 bg-white/5 rounded-full blur-3xl",animate:{x:[0,-40,0],y:[0,40,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}})]}),(0,vv.jsx)("div",{className:"container relative z-10 pt-20",children:(0,vv.jsxs)(IT.div,{ref:e,variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.1}}},initial:"hidden",animate:t?"visible":"hidden",className:"grid lg:grid-cols-2 gap-12 items-center",children:[(0,vv.jsxs)("div",{className:"text-white",children:[(0,vv.jsxs)(IT.h1,{variants:i,className:"text-4xl md:text-5xl lg:text-6xl font-bold leading-tight mb-6",children:["Streamline Your Business with"," ",(0,vv.jsx)("span",{className:"bg-gradient-to-r from-accent-300 to-yellow-300 bg-clip-text text-transparent",children:"Smart POS"})]}),(0,vv.jsx)(IT.p,{variants:i,className:"text-lg md:text-xl text-blue-100 mb-8 leading-relaxed max-w-2xl",children:"Transform your retail experience with our cutting-edge Point of Sale system. Manage inventory, process payments, and grow your business with powerful analytics and real-time insights."}),(0,vv.jsxs)(IT.div,{variants:i,className:"flex flex-col sm:flex-row gap-4 mb-12",children:[n?(0,vv.jsxs)(IT.button,{onClick:()=>r("/dashboard"),className:"btn btn-large bg-white text-primary-600 hover:bg-gray-100 font-semibold shadow-lg group",whileHover:{scale:1.05},whileTap:{scale:.95},children:["Go to Dashboard",(0,vv.jsx)(KT,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]}):(0,vv.jsx)(IT.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,vv.jsxs)(Ie,{to:"/signup",className:"btn btn-large bg-white text-primary-600 hover:bg-gray-100 font-semibold shadow-lg group",children:["Start Free Trial",(0,vv.jsx)(KT,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})}),(0,vv.jsxs)(IT.button,{onClick:()=>{var e;null===(e=document.getElementById("features"))||void 0===e||e.scrollIntoView({behavior:"smooth"})},className:"btn btn-large border-2 border-white text-white hover:bg-white hover:text-primary-600 font-semibold group",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,vv.jsx)(GT,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"Learn More"]})]}),(0,vv.jsx)(IT.div,{variants:i,className:"grid grid-cols-3 gap-8",children:[{number:"100+",label:"Beta Users"},{number:"30 Days",label:"Free Trial"},{number:"24/7",label:"Support"}].map((e,t)=>(0,vv.jsxs)(IT.div,{className:"text-center",variants:i,children:[(0,vv.jsx)("div",{className:"text-2xl md:text-3xl font-bold text-accent-300 mb-1",children:e.number}),(0,vv.jsx)("div",{className:"text-sm text-blue-200",children:e.label})]},t))})]}),(0,vv.jsx)(IT.div,{variants:i,className:"flex justify-center lg:justify-end",children:(0,vv.jsx)(IT.div,{className:"relative w-full max-w-md lg:max-w-lg",initial:{rotateY:25,rotateX:10},animate:t?{rotateY:0,rotateX:0}:{},transition:{duration:.8,delay:.3},children:(0,vv.jsxs)("div",{className:"glass rounded-3xl p-6 shadow-2xl",children:[(0,vv.jsxs)("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-white/20",children:[(0,vv.jsxs)("div",{className:"flex space-x-2",children:[(0,vv.jsx)("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),(0,vv.jsx)("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),(0,vv.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded-full"})]}),(0,vv.jsx)("span",{className:"text-white font-medium text-sm",children:"POS Dashboard"})]}),(0,vv.jsx)("div",{className:"bg-white/10 rounded-2xl p-4 mb-6",children:(0,vv.jsx)("div",{className:"flex items-end justify-between h-24 space-x-2",children:[60,80,45,90,70,85,65].map((e,n)=>(0,vv.jsx)(IT.div,{className:"bg-gradient-to-t from-accent-400 to-yellow-300 rounded-t-sm flex-1 min-w-0",style:{height:"".concat(e,"%")},initial:{height:0},animate:t?{height:"".concat(e,"%")}:{},transition:{duration:.6,delay:.5+.1*n}},n))})}),(0,vv.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,vv.jsxs)(IT.div,{className:"bg-white/10 rounded-xl p-4 flex items-center space-x-3",initial:{x:-50,opacity:0},animate:t?{x:0,opacity:1}:{},transition:{duration:.6,delay:.8},children:[(0,vv.jsx)("div",{className:"w-10 h-10 bg-green-400 rounded-lg flex items-center justify-center",children:(0,vv.jsx)(QT,{className:"w-5 h-5 text-white"})}),(0,vv.jsxs)("div",{children:[(0,vv.jsx)("div",{className:"text-white font-semibold",children:"$12,450"}),(0,vv.jsx)("div",{className:"text-white/70 text-xs",children:"Revenue"})]})]}),(0,vv.jsxs)(IT.div,{className:"bg-white/10 rounded-xl p-4 flex items-center space-x-3",initial:{x:50,opacity:0},animate:t?{x:0,opacity:1}:{},transition:{duration:.6,delay:.9},children:[(0,vv.jsx)("div",{className:"w-10 h-10 bg-blue-400 rounded-lg flex items-center justify-center",children:(0,vv.jsx)(YT,{className:"w-5 h-5 text-white"})}),(0,vv.jsxs)("div",{children:[(0,vv.jsx)("div",{className:"text-white font-semibold",children:"234"}),(0,vv.jsx)("div",{className:"text-white/70 text-xs",children:"Orders"})]})]})]}),(0,vv.jsx)(IT.div,{className:"absolute -top-4 -right-4 w-8 h-8 bg-green-400 rounded-full flex items-center justify-center shadow-lg",animate:{scale:[1,1.2,1],boxShadow:["0 0 0 0 rgba(34, 197, 94, 0.7)","0 0 0 10px rgba(34, 197, 94, 0)","0 0 0 0 rgba(34, 197, 94, 0)"]},transition:{duration:2,repeat:1/0},children:(0,vv.jsx)(XT,{className:"w-4 h-4 text-white"})})]})})})]})})]})},lN=VT("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),cN=VT("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),uN=VT("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),hN=VT("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),dN=VT("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),fN=VT("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),pN=VT("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),mN=VT("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]),gN=VT("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),yN=()=>{const[e,t]=aN({triggerOnce:!0,threshold:.1}),n=[{icon:UT,title:"Payment Processing",description:"Accept all payment methods including credit cards, mobile payments, and contactless transactions with secure encryption.",color:"from-blue-500 to-blue-600"},{icon:lN,title:"Inventory Management",description:"Track stock levels in real-time, get low-stock alerts, and manage suppliers with our intelligent inventory system.",color:"from-purple-500 to-purple-600"},{icon:cN,title:"Analytics & Reports",description:"Gain insights into your business with detailed sales reports, customer analytics, and performance metrics.",color:"from-indigo-500 to-indigo-600"},{icon:uN,title:"Customer Management",description:"Build customer profiles, track purchase history, and create loyalty programs to increase retention.",color:"from-green-500 to-green-600"},{icon:hN,title:"Cloud-Based",description:"Access your data anywhere, anytime with secure cloud storage and automatic backups.",color:"from-pink-500 to-pink-600"},{icon:dN,title:"Multi-Platform",description:"Works seamlessly across desktop, tablet, and mobile devices for maximum flexibility.",color:"from-yellow-500 to-yellow-600"}],r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},i={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return(0,vv.jsxs)("section",{id:"features",className:"section bg-white relative overflow-hidden",children:[(0,vv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-50/50 to-white"}),(0,vv.jsx)("div",{className:"absolute top-10 left-10 w-72 h-72 bg-primary-100 rounded-full blur-3xl opacity-30"}),(0,vv.jsx)("div",{className:"absolute bottom-10 right-10 w-72 h-72 bg-secondary-100 rounded-full blur-3xl opacity-30"}),(0,vv.jsxs)("div",{className:"container relative z-10",children:[(0,vv.jsxs)(IT.div,{ref:e,variants:r,initial:"hidden",animate:t?"visible":"hidden",className:"text-center mb-16",children:[(0,vv.jsxs)(IT.h2,{variants:i,className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:["Powerful Features for"," ",(0,vv.jsx)("span",{className:"gradient-text",children:"Modern Business"})]}),(0,vv.jsx)(IT.p,{variants:i,className:"text-lg md:text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Everything you need to run your business efficiently, all in one comprehensive platform"})]}),(0,vv.jsx)(IT.div,{variants:r,initial:"hidden",animate:t?"visible":"hidden",className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-20",children:n.map((e,t)=>{const n=e.icon;return(0,vv.jsx)(IT.div,{variants:i,className:"group",children:(0,vv.jsxs)(IT.div,{className:"card p-8 h-full text-center hover:shadow-xl transition-all duration-300 relative overflow-hidden",whileHover:{y:-5},children:[(0,vv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br ".concat(e.color," opacity-0 group-hover:opacity-5 transition-opacity duration-300")}),(0,vv.jsx)(IT.div,{className:"w-16 h-16 mx-auto mb-6 rounded-2xl bg-gradient-to-br ".concat(e.color," flex items-center justify-center shadow-lg relative z-10"),whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:400,damping:10},children:(0,vv.jsx)(n,{className:"w-8 h-8 text-white"})}),(0,vv.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4 relative z-10",children:e.title}),(0,vv.jsx)("p",{className:"text-gray-600 leading-relaxed relative z-10",children:e.description})]})},t)})}),(0,vv.jsx)(IT.div,{variants:i,initial:"hidden",animate:t?"visible":"hidden",className:"card p-8 lg:p-12 bg-gradient-to-br from-gray-50 to-white border-0 shadow-xl",children:(0,vv.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[(0,vv.jsxs)("div",{children:[(0,vv.jsx)(IT.h3,{variants:i,className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-6",children:"Real-time Synchronization"}),(0,vv.jsx)(IT.p,{variants:i,className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"Stay connected with live updates across all your devices. Changes made on one device instantly sync to all others, ensuring your team always has the latest information."}),(0,vv.jsx)(IT.ul,{variants:r,className:"space-y-4",children:["Instant data synchronization","Multi-device compatibility","Offline mode available","Automatic conflict resolution"].map((e,t)=>(0,vv.jsxs)(IT.li,{variants:i,className:"flex items-center space-x-3 text-gray-700",children:[(0,vv.jsx)(fN,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),(0,vv.jsx)("span",{className:"font-medium",children:e})]},t))})]}),(0,vv.jsx)("div",{className:"relative",children:(0,vv.jsxs)(IT.div,{className:"flex flex-col items-center space-y-8",variants:r,initial:"hidden",animate:t?"visible":"hidden",children:[(0,vv.jsxs)(IT.div,{variants:i,className:"flex flex-col items-center space-y-3 group cursor-pointer",whileHover:{scale:1.05},children:[(0,vv.jsx)(IT.div,{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg",animate:{y:[0,-10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:(0,vv.jsx)(pN,{className:"w-10 h-10 text-white"})}),(0,vv.jsx)("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-600 transition-colors",children:"Desktop"})]}),(0,vv.jsx)(IT.div,{className:"flex flex-col space-y-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[1,2].map((e,t)=>(0,vv.jsx)(IT.div,{className:"w-1 h-8 bg-gradient-to-b from-blue-400 to-transparent rounded-full",animate:{opacity:[.3,1,.3]},transition:{duration:2,repeat:1/0,delay:.5*t}},t))}),(0,vv.jsxs)("div",{className:"flex space-x-12",children:[(0,vv.jsxs)(IT.div,{variants:i,className:"flex flex-col items-center space-y-3 group cursor-pointer",whileHover:{scale:1.05},children:[(0,vv.jsx)(IT.div,{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",animate:{y:[0,-8,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1},children:(0,vv.jsx)(mN,{className:"w-8 h-8 text-white"})}),(0,vv.jsx)("span",{className:"text-sm font-medium text-gray-700 group-hover:text-purple-600 transition-colors",children:"Tablet"})]}),(0,vv.jsxs)(IT.div,{variants:i,className:"flex flex-col items-center space-y-3 group cursor-pointer",whileHover:{scale:1.05},children:[(0,vv.jsx)(IT.div,{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center shadow-lg",animate:{y:[0,-6,0]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut",delay:2},children:(0,vv.jsx)(gN,{className:"w-6 h-6 text-white"})}),(0,vv.jsx)("span",{className:"text-sm font-medium text-gray-700 group-hover:text-green-600 transition-colors",children:"Mobile"})]})]})]})})]})})]})]})},vN=VT("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),bN=VT("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),wN=VT("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),xN=()=>{const[e,t]=aN({triggerOnce:!0,threshold:.1}),n=[{number:"100+",label:"Early Adopters",icon:vN,description:"Beta testing our platform"},{number:"24/7",label:"Support Available",icon:bN,description:"Dedicated to your success"},{number:"30 Days",label:"Free Trial",icon:wN,description:"No commitment required"},{number:"99%+",label:"Data Security",icon:QT,description:"Enterprise-grade protection"}],r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},i={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.6,ease:"easeOut"}}};return(0,vv.jsxs)("section",{className:"section bg-gradient-to-br from-primary-600 via-secondary-600 to-accent-600 relative overflow-hidden",children:[(0,vv.jsxs)("div",{className:"absolute inset-0",children:[(0,vv.jsx)("div",{className:"absolute top-0 left-0 w-96 h-96 bg-white/10 rounded-full blur-3xl"}),(0,vv.jsx)("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white/5 rounded-full blur-3xl"}),(0,vv.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-white/5 rounded-full blur-3xl"})]}),(0,vv.jsxs)("div",{className:"container relative z-10",children:[(0,vv.jsxs)(IT.div,{ref:e,variants:r,initial:"hidden",animate:t?"visible":"hidden",className:"text-center mb-16",children:[(0,vv.jsx)(IT.h2,{variants:i,className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-6",children:"Built for Growing Businesses"}),(0,vv.jsx)(IT.p,{variants:i,className:"text-lg md:text-xl text-blue-100 max-w-3xl mx-auto leading-relaxed",children:"Join our community of early adopters who are already experiencing the future of point-of-sale technology"})]}),(0,vv.jsx)(IT.div,{variants:r,initial:"hidden",animate:t?"visible":"hidden",className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-20",children:n.map((e,n)=>{const r=e.icon;return(0,vv.jsx)(IT.div,{variants:i,className:"group",children:(0,vv.jsxs)(IT.div,{className:"glass rounded-3xl p-8 text-center hover:bg-white/15 transition-all duration-300 relative",whileHover:{y:-8,scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:[(0,vv.jsx)(IT.div,{className:"w-16 h-16 mx-auto mb-6 bg-white/20 rounded-2xl flex items-center justify-center",whileHover:{rotate:10,scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:(0,vv.jsx)(r,{className:"w-8 h-8 text-white"})}),(0,vv.jsx)(IT.div,{className:"text-3xl lg:text-4xl font-bold text-white mb-2",initial:{scale:0},animate:t?{scale:1}:{},transition:{delay:.3+.1*n,type:"spring",stiffness:200},children:e.number}),(0,vv.jsx)("h4",{className:"text-lg font-semibold text-white mb-2",children:e.label}),(0,vv.jsx)("p",{className:"text-blue-200 text-sm",children:e.description}),(0,vv.jsx)("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-white/10 to-white/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})},n)})}),(0,vv.jsxs)(IT.div,{variants:i,initial:"hidden",animate:t?"visible":"hidden",className:"glass rounded-3xl p-8 lg:p-12 max-w-4xl mx-auto text-center",children:[(0,vv.jsx)(IT.h3,{variants:i,className:"text-2xl lg:text-3xl font-bold text-white mb-6",children:"Our Mission"}),(0,vv.jsx)(IT.p,{variants:i,className:"text-lg lg:text-xl text-blue-100 leading-relaxed mb-6",children:"We're building POS Pro to democratize business technology. Every small business deserves access to enterprise-level tools without the enterprise-level complexity or cost."}),(0,vv.jsxs)(IT.div,{variants:i,className:"inline-flex items-center space-x-2 bg-white/20 px-6 py-3 rounded-full",children:[(0,vv.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),(0,vv.jsx)("span",{className:"text-white font-medium",children:"Currently in Development"})]})]})]})]})},EN=VT("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),SN=VT("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),kN=VT("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),TN=VT("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),NN=()=>{const[e,t]=aN({triggerOnce:!0,threshold:.1}),{currentUser:n}=wv(),r=ne(),i=[{icon:EN,title:"Early Access",description:"Be among the first to experience cutting-edge POS features"},{icon:SN,title:"Direct Feedback",description:"Shape the product roadmap with your valuable input"},{icon:kN,title:"Exclusive Perks",description:"Special pricing and priority support for early adopters"}],s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},a={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return(0,vv.jsxs)("section",{className:"section bg-white relative overflow-hidden",children:[(0,vv.jsxs)("div",{className:"absolute inset-0",children:[(0,vv.jsx)("div",{className:"absolute top-0 right-0 w-96 h-96 bg-primary-100 rounded-full blur-3xl opacity-30"}),(0,vv.jsx)("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-secondary-100 rounded-full blur-3xl opacity-30"})]}),(0,vv.jsxs)("div",{className:"container relative z-10",children:[(0,vv.jsxs)(IT.div,{ref:e,variants:s,initial:"hidden",animate:t?"visible":"hidden",className:"text-center mb-16",children:[(0,vv.jsxs)(IT.div,{variants:a,className:"inline-flex items-center space-x-2 bg-primary-100 text-primary-700 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[(0,vv.jsx)(uN,{className:"w-4 h-4"}),(0,vv.jsx)("span",{children:"Join Our Growing Community"})]}),(0,vv.jsxs)(IT.h2,{variants:a,className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:["Be Part of Something"," ",(0,vv.jsx)("span",{className:"gradient-text",children:"Revolutionary"})]}),(0,vv.jsx)(IT.p,{variants:a,className:"text-lg md:text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"We're building the future of point-of-sale technology with a community of forward-thinking business owners who believe in innovation and growth."})]}),(0,vv.jsx)(IT.div,{variants:s,initial:"hidden",animate:t?"visible":"hidden",className:"grid md:grid-cols-3 gap-8 mb-16",children:i.map((e,t)=>{const n=e.icon;return(0,vv.jsx)(IT.div,{variants:a,className:"group",children:(0,vv.jsxs)(IT.div,{className:"card p-8 text-center hover:shadow-xl transition-all duration-300 border-0 bg-gradient-to-br from-white to-gray-50",whileHover:{y:-5,scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:[(0,vv.jsx)(IT.div,{className:"w-16 h-16 mx-auto mb-6 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-2xl flex items-center justify-center shadow-lg",whileHover:{rotate:5,scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:(0,vv.jsx)(n,{className:"w-8 h-8 text-white"})}),(0,vv.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:e.title}),(0,vv.jsx)("p",{className:"text-gray-600 leading-relaxed",children:e.description})]})},t)})}),(0,vv.jsxs)(IT.div,{variants:a,initial:"hidden",animate:t?"visible":"hidden",className:"card p-8 lg:p-12 bg-gradient-to-r from-primary-50 to-secondary-50 border-0 text-center mb-16",children:[(0,vv.jsx)(IT.h3,{variants:a,className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-4",children:"Ready to Join Our Beta Community?"}),(0,vv.jsx)(IT.p,{variants:a,className:"text-lg text-gray-600 mb-8 max-w-2xl mx-auto",children:"Get early access to POS Pro and help us build the perfect solution for your business needs."}),(0,vv.jsxs)(IT.div,{variants:a,className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[n?(0,vv.jsxs)(IT.button,{onClick:()=>r("/dashboard"),className:"btn btn-primary btn-large group",whileHover:{scale:1.05},whileTap:{scale:.95},children:["Go to Dashboard",(0,vv.jsx)(KT,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]}):(0,vv.jsx)(IT.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,vv.jsxs)(Ie,{to:"/signup",className:"btn btn-primary btn-large group",children:["Request Early Access",(0,vv.jsx)(KT,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})}),(0,vv.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,vv.jsx)(TN,{className:"w-4 h-4 text-green-500"}),(0,vv.jsx)("span",{children:"No payment required"})]})]})]})]})]})},CN=VT("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),_N=VT("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),IN=()=>{const[e,t]=aN({triggerOnce:!0,threshold:.1}),[n,r]=(0,i.useState)({businessName:"",email:"",phone:"",businessType:""}),[s,a]=(0,i.useState)({}),o=e=>{r(Me(Me({},n),{},{[e.target.name]:e.target.value})),s[e.target.name]&&a(t=>Me(Me({},t),{},{[e.target.name]:""}))},l=[{icon:bN,text:"30-day free trial"},{icon:UT,text:"No setup fees"},{icon:KT,text:"Cancel anytime"}],c=[{icon:bN,text:"SSL Secured"},{icon:UT,text:"PCI Compliant"},{icon:hN,text:"Cloud Backup"},{icon:CN,text:"24/7 Support"}],u={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},h={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return(0,vv.jsxs)("section",{className:"section bg-gradient-to-br from-gray-50 to-white relative overflow-hidden",children:[(0,vv.jsxs)("div",{className:"absolute inset-0",children:[(0,vv.jsx)("div",{className:"absolute top-0 left-0 w-96 h-96 bg-primary-100 rounded-full blur-3xl opacity-30"}),(0,vv.jsx)("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-secondary-100 rounded-full blur-3xl opacity-30"})]}),(0,vv.jsxs)("div",{className:"container relative z-10",children:[(0,vv.jsxs)(IT.div,{ref:e,variants:u,initial:"hidden",animate:t?"visible":"hidden",className:"grid lg:grid-cols-2 gap-12 items-center mb-16",children:[(0,vv.jsxs)("div",{children:[(0,vv.jsxs)(IT.h2,{variants:h,className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-6 leading-tight",children:["Ready to Transform Your"," ",(0,vv.jsx)("span",{className:"gradient-text",children:"Business?"})]}),(0,vv.jsx)(IT.p,{variants:h,className:"text-lg md:text-xl text-gray-600 mb-8 leading-relaxed",children:"Join thousands of successful businesses using POS Pro. Start your free trial today and experience the difference our platform can make for your operations."}),(0,vv.jsx)(IT.div,{variants:u,className:"space-y-4",children:l.map((e,t)=>{const n=e.icon;return(0,vv.jsxs)(IT.div,{variants:h,className:"flex items-center space-x-3 text-gray-700",children:[(0,vv.jsx)("div",{className:"w-6 h-6 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full flex items-center justify-center",children:(0,vv.jsx)(n,{className:"w-4 h-4 text-white"})}),(0,vv.jsx)("span",{className:"font-medium",children:e.text})]},t)})})]}),(0,vv.jsx)(IT.div,{variants:h,className:"w-full",children:(0,vv.jsxs)(IT.div,{className:"card p-8 lg:p-10 shadow-xl border-0 bg-white",whileHover:{y:-5},transition:{type:"spring",stiffness:300,damping:30},children:[(0,vv.jsx)("h3",{className:"text-2xl font-bold text-gray-900 text-center mb-8",children:"Start Your Free Trial"}),(0,vv.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t={};n.businessName||(t.businessName="Business name is required"),n.email?/\S+@\S+\.\S+/.test(n.email)||(t.email="Email is invalid"):t.email="Email is required",n.phone||(t.phone="Phone is required"),n.businessType||(t.businessType="Business type is required"),Object.keys(t).length>0?a(t):(console.log("Form submitted:",n),r({businessName:"",email:"",phone:"",businessType:""}),alert("Thank you for your interest! Please complete your registration."))},className:"space-y-6",children:[(0,vv.jsxs)(IT.div,{initial:{opacity:0,x:-20},animate:t?{opacity:1,x:0}:{},transition:{delay:.3},children:[(0,vv.jsx)("input",{type:"text",name:"businessName",placeholder:"Business Name",value:n.businessName,onChange:o,className:"w-full px-4 py-4 bg-gray-50 border-2 rounded-xl focus:bg-white focus:outline-none transition-all duration-300 text-gray-900 placeholder-gray-500 ".concat(s.businessName?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-primary-500"),required:!0}),s.businessName&&(0,vv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s.businessName})]}),(0,vv.jsx)(IT.div,{initial:{opacity:0,x:-20},animate:t?{opacity:1,x:0}:{},transition:{delay:.4},children:(0,vv.jsx)("input",{type:"email",name:"email",placeholder:"Email Address",value:n.email,onChange:o,className:"w-full px-4 py-4 bg-gray-50 border-2 border-gray-200 rounded-xl focus:border-primary-500 focus:bg-white focus:outline-none transition-all duration-300 text-gray-900 placeholder-gray-500",required:!0})}),(0,vv.jsx)(IT.div,{initial:{opacity:0,x:-20},animate:t?{opacity:1,x:0}:{},transition:{delay:.5},children:(0,vv.jsx)("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:n.phone,onChange:o,className:"w-full px-4 py-4 bg-gray-50 border-2 border-gray-200 rounded-xl focus:border-primary-500 focus:bg-white focus:outline-none transition-all duration-300 text-gray-900 placeholder-gray-500",required:!0})}),(0,vv.jsx)(IT.div,{initial:{opacity:0,x:-20},animate:t?{opacity:1,x:0}:{},transition:{delay:.6},children:(0,vv.jsxs)("select",{name:"businessType",value:n.businessType,onChange:o,className:"w-full px-4 py-4 bg-gray-50 border-2 border-gray-200 rounded-xl focus:border-primary-500 focus:bg-white focus:outline-none transition-all duration-300 text-gray-900",required:!0,children:[(0,vv.jsx)("option",{value:"",children:"Select Business Type"}),(0,vv.jsx)("option",{value:"retail",children:"Retail Store"}),(0,vv.jsx)("option",{value:"restaurant",children:"Restaurant"}),(0,vv.jsx)("option",{value:"cafe",children:"Caf\xe9/Coffee Shop"}),(0,vv.jsx)("option",{value:"salon",children:"Salon/Spa"}),(0,vv.jsx)("option",{value:"pharmacy",children:"Pharmacy"}),(0,vv.jsx)("option",{value:"other",children:"Other"})]})}),(0,vv.jsxs)(IT.button,{type:"submit",className:"btn btn-primary btn-large w-full justify-center group",whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{delay:.7},children:["Start Free Trial",(0,vv.jsx)(KT,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})]}),(0,vv.jsx)(IT.div,{className:"mt-6 text-center",initial:{opacity:0},animate:t?{opacity:1}:{},transition:{delay:.8},children:(0,vv.jsxs)("p",{className:"text-sm text-gray-600 flex items-center justify-center space-x-2",children:[(0,vv.jsx)(_N,{className:"w-4 h-4"}),(0,vv.jsx)("span",{children:"Your information is secure and will never be shared"})]})})]})})]}),(0,vv.jsx)(IT.div,{variants:u,initial:"hidden",animate:t?"visible":"hidden",className:"grid grid-cols-2 lg:grid-cols-4 gap-6 max-w-4xl mx-auto",children:c.map((e,t)=>{const n=e.icon;return(0,vv.jsx)(IT.div,{variants:h,className:"group",children:(0,vv.jsxs)(IT.div,{className:"card p-6 text-center hover:shadow-lg transition-all duration-300",whileHover:{y:-3,scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:[(0,vv.jsx)(IT.div,{className:"w-12 h-12 mx-auto mb-3 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-xl flex items-center justify-center",whileHover:{rotate:5,scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:(0,vv.jsx)(n,{className:"w-6 h-6 text-white"})}),(0,vv.jsx)("span",{className:"text-sm font-semibold text-gray-700 group-hover:text-primary-600 transition-colors",children:e.text})]})},t)})})]})]})},PN=VT("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),AN=VT("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),jN=VT("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),RN=VT("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),DN=VT("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ON=VT("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),MN=()=>{const e=(new Date).getFullYear(),t=[{icon:PN,href:"#facebook",label:"Facebook"},{icon:AN,href:"#twitter",label:"Twitter"},{icon:jN,href:"#linkedin",label:"LinkedIn"},{icon:RN,href:"#instagram",label:"Instagram"}],n=[{icon:DN,text:"123 Business St, Suite 100, San Francisco, CA 94105"},{icon:ON,text:"hello@pospro.com"},{icon:gN,text:"+1 (555) 123-4567"}],r={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};return(0,vv.jsxs)("footer",{className:"bg-gray-900 text-white relative overflow-hidden",children:[(0,vv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900"}),(0,vv.jsxs)("div",{className:"absolute inset-0 opacity-5",children:[(0,vv.jsx)("div",{className:"absolute top-0 left-0 w-96 h-96 bg-primary-500 rounded-full blur-3xl"}),(0,vv.jsx)("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-secondary-500 rounded-full blur-3xl"})]}),(0,vv.jsxs)("div",{className:"relative z-10",children:[(0,vv.jsx)(IT.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",whileInView:"visible",viewport:{once:!0,threshold:.1},className:"container py-16",children:(0,vv.jsxs)("div",{className:"grid lg:grid-cols-6 gap-8 lg:gap-12",children:[(0,vv.jsxs)(IT.div,{variants:r,className:"lg:col-span-2",children:[(0,vv.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,vv.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-xl",children:(0,vv.jsx)(UT,{className:"w-7 h-7 text-white"})}),(0,vv.jsx)("span",{className:"text-2xl font-bold",children:"POS Pro"})]}),(0,vv.jsx)("p",{className:"text-gray-400 leading-relaxed mb-6 max-w-sm",children:"Empowering businesses with intelligent point-of-sale solutions. Transform your operations and grow your business with our comprehensive platform."}),(0,vv.jsx)("div",{className:"space-y-3 mb-6",children:n.map((e,t)=>{const n=e.icon;return(0,vv.jsxs)("div",{className:"flex items-start space-x-3 text-sm text-gray-400",children:[(0,vv.jsx)(n,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,vv.jsx)("span",{children:e.text})]},t)})}),(0,vv.jsx)("div",{className:"flex space-x-4",children:t.map((e,t)=>{const n=e.icon;return(0,vv.jsx)(IT.a,{href:e.href,className:"w-10 h-10 bg-gray-800 hover:bg-gradient-to-r hover:from-primary-500 hover:to-secondary-500 rounded-lg flex items-center justify-center transition-all duration-300 group",whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},"aria-label":e.label,children:(0,vv.jsx)(n,{className:"w-5 h-5 text-gray-400 group-hover:text-white transition-colors"})},t)})})]}),[{title:"Product",links:[{label:"Features",href:"#features"},{label:"Pricing",href:"#pricing"},{label:"Integrations",href:"#integrations"},{label:"API",href:"#api"},{label:"Mobile App",href:"#mobile"}]},{title:"Company",links:[{label:"About Us",href:"#about"},{label:"Careers",href:"#careers"},{label:"Press",href:"#press"},{label:"Partners",href:"#partners"},{label:"Blog",href:"#blog"}]},{title:"Support",links:[{label:"Help Center",href:"#help"},{label:"Documentation",href:"#documentation"},{label:"Contact Us",href:"#contact"},{label:"Training",href:"#training"},{label:"System Status",href:"#status"}]},{title:"Legal",links:[{label:"Privacy Policy",href:"#privacy"},{label:"Terms of Service",href:"#terms"},{label:"Security",href:"#security"},{label:"Compliance",href:"#compliance"},{label:"Cookie Policy",href:"#cookies"}]}].map((e,t)=>(0,vv.jsxs)(IT.div,{variants:r,className:"lg:col-span-1",children:[(0,vv.jsx)("h4",{className:"text-lg font-semibold mb-6 text-white",children:e.title}),(0,vv.jsx)("ul",{className:"space-y-3",children:e.links.map((e,n)=>(0,vv.jsx)(IT.li,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.1*t+.05*n},children:(0,vv.jsx)("a",{href:e.href,className:"text-gray-400 hover:text-white transition-colors duration-200 text-sm block py-1 hover:translate-x-1 transform transition-transform",children:e.label})},n))})]},e.title))]})}),(0,vv.jsx)(IT.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"border-t border-gray-800",children:(0,vv.jsx)("div",{className:"container py-12",children:(0,vv.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[(0,vv.jsxs)("div",{children:[(0,vv.jsx)("h3",{className:"text-2xl font-bold mb-3",children:"Stay Updated"}),(0,vv.jsx)("p",{className:"text-gray-400",children:"Get the latest updates on new features, industry insights, and special offers."})]}),(0,vv.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,vv.jsx)("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-primary-500 focus:outline-none transition-colors text-white placeholder-gray-400"}),(0,vv.jsx)(IT.button,{className:"btn btn-primary px-6 py-3 whitespace-nowrap",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Subscribe"})]})]})})}),(0,vv.jsx)(IT.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"border-t border-gray-800 py-8",children:(0,vv.jsx)("div",{className:"container",children:(0,vv.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[(0,vv.jsxs)("div",{className:"text-gray-400 text-sm",children:["\xa9 ",e," POS Pro. All rights reserved."]}),(0,vv.jsxs)("div",{className:"flex space-x-6 text-sm",children:[(0,vv.jsx)("a",{href:"#privacy",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy"}),(0,vv.jsx)("a",{href:"#terms",className:"text-gray-400 hover:text-white transition-colors",children:"Terms"}),(0,vv.jsx)("a",{href:"#sitemap",className:"text-gray-400 hover:text-white transition-colors",children:"Sitemap"})]})]})})})]})]})},LN=()=>{const e=ee();return(0,i.useEffect)(()=>{if(e.hash){const t=document.querySelector(e.hash);t&&setTimeout(()=>{t.scrollIntoView({behavior:"smooth",block:"start"})},100)}},[e]),(0,vv.jsxs)("div",{children:[(0,vv.jsx)(WT,{}),(0,vv.jsx)(oN,{}),(0,vv.jsx)(yN,{}),(0,vv.jsx)(xN,{}),(0,vv.jsx)(NN,{}),(0,vv.jsx)(IN,{}),(0,vv.jsx)(MN,{})]})},FN=VT("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),VN=()=>{const{currentUser:e,logout:t}=wv(),n=ne(),r=[{label:"Total Sales",value:"$0",icon:QT,color:"from-green-500 to-green-600"},{label:"Orders Today",value:"0",icon:YT,color:"from-blue-500 to-blue-600"},{label:"Inventory Items",value:"0",icon:lN,color:"from-purple-500 to-purple-600"},{label:"Revenue Growth",value:"0%",icon:cN,color:"from-orange-500 to-orange-600"}],i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},s=new Date(null===e||void 0===e?void 0:e.trialEndDate),a=new Date,o=Math.max(0,Math.ceil((s-a)/864e5));return(0,vv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,vv.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,vv.jsx)("div",{className:"container py-4",children:(0,vv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,vv.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,vv.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-xl",children:(0,vv.jsx)(UT,{className:"w-6 h-6 text-white"})}),(0,vv.jsxs)("div",{children:[(0,vv.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"POS Pro Dashboard"}),(0,vv.jsxs)("p",{className:"text-sm text-gray-600",children:["Welcome back, ",(null===e||void 0===e?void 0:e.businessName)||"User","!"]})]})]}),(0,vv.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,vv.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg px-4 py-2",children:(0,vv.jsxs)("p",{className:"text-sm font-medium text-yellow-800",children:[(0,vv.jsx)(FN,{className:"w-4 h-4 inline mr-1"}),o," days left in trial"]})}),(0,vv.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,vv.jsxs)("div",{className:"flex items-center space-x-2 text-gray-700",children:[(0,vv.jsx)(BT,{className:"w-5 h-5"}),(0,vv.jsx)("span",{className:"font-medium",children:null===e||void 0===e?void 0:e.email})]}),(0,vv.jsxs)("button",{onClick:async()=>{try{await t(),n("/")}catch(e){console.error("Logout error:",e)}},className:"flex items-center space-x-2 text-gray-600 hover:text-red-600 transition-colors",children:[(0,vv.jsx)(zT,{className:"w-5 h-5"}),(0,vv.jsx)("span",{children:"Logout"})]})]})]})]})})}),(0,vv.jsx)("main",{className:"container py-8",children:(0,vv.jsxs)(IT.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",animate:"visible",children:[(0,vv.jsxs)(IT.div,{variants:i,className:"bg-gradient-to-r from-primary-500 to-secondary-500 rounded-2xl p-8 text-white mb-8",children:[(0,vv.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Welcome to Your POS Pro Dashboard! \ud83d\ude80"}),(0,vv.jsxs)("p",{className:"text-lg text-blue-100 mb-6",children:["You're now part of our beta community. Your ",o,"-day free trial has started, and we're excited to help you grow your business."]}),(0,vv.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,vv.jsx)(IT.button,{className:"bg-white text-primary-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Set Up Your Store"}),(0,vv.jsx)(IT.button,{className:"border-2 border-white text-white px-6 py-3 rounded-lg font-semibold hover:bg-white hover:text-primary-600 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Watch Tutorial"})]})]}),(0,vv.jsx)(IT.div,{variants:i,className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:r.map((e,t)=>{const n=e.icon;return(0,vv.jsxs)(IT.div,{variants:i,className:"card p-6 hover:shadow-lg transition-all duration-300",whileHover:{y:-5},children:[(0,vv.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,vv.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-r ".concat(e.color," flex items-center justify-center"),children:(0,vv.jsx)(n,{className:"w-6 h-6 text-white"})})}),(0,vv.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:e.value}),(0,vv.jsx)("p",{className:"text-gray-600",children:e.label})]},t)})}),(0,vv.jsxs)(IT.div,{variants:i,className:"grid lg:grid-cols-2 gap-8",children:[(0,vv.jsxs)("div",{className:"card p-8",children:[(0,vv.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Quick Actions"}),(0,vv.jsxs)("div",{className:"space-y-4",children:[(0,vv.jsx)("button",{className:"w-full text-left p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,vv.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,vv.jsx)(lN,{className:"w-6 h-6 text-primary-600"}),(0,vv.jsxs)("div",{children:[(0,vv.jsx)("h4",{className:"font-semibold text-gray-900",children:"Add Products"}),(0,vv.jsx)("p",{className:"text-sm text-gray-600",children:"Start by adding your first products to inventory"})]})]})}),(0,vv.jsx)("button",{className:"w-full text-left p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,vv.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,vv.jsx)(UT,{className:"w-6 h-6 text-primary-600"}),(0,vv.jsxs)("div",{children:[(0,vv.jsx)("h4",{className:"font-semibold text-gray-900",children:"Process Sale"}),(0,vv.jsx)("p",{className:"text-sm text-gray-600",children:"Make your first sale with POS Pro"})]})]})}),(0,vv.jsx)("button",{className:"w-full text-left p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,vv.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,vv.jsx)(cN,{className:"w-6 h-6 text-primary-600"}),(0,vv.jsxs)("div",{children:[(0,vv.jsx)("h4",{className:"font-semibold text-gray-900",children:"View Reports"}),(0,vv.jsx)("p",{className:"text-sm text-gray-600",children:"Analyze your business performance"})]})]})})]})]}),(0,vv.jsxs)("div",{className:"card p-8",children:[(0,vv.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Account Information"}),(0,vv.jsxs)("div",{className:"space-y-4",children:[(0,vv.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,vv.jsx)("span",{className:"text-gray-600",children:"Business Name"}),(0,vv.jsx)("span",{className:"font-medium",children:null===e||void 0===e?void 0:e.businessName})]}),(0,vv.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,vv.jsx)("span",{className:"text-gray-600",children:"Email"}),(0,vv.jsx)("span",{className:"font-medium",children:null===e||void 0===e?void 0:e.email})]}),(0,vv.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,vv.jsx)("span",{className:"text-gray-600",children:"Business Type"}),(0,vv.jsx)("span",{className:"font-medium capitalize",children:(null===e||void 0===e?void 0:e.businessType)||"Not specified"})]}),(0,vv.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,vv.jsx)("span",{className:"text-gray-600",children:"Plan"}),(0,vv.jsx)("span",{className:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium",children:"Free Trial"})]}),(0,vv.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,vv.jsx)("span",{className:"text-gray-600",children:"Trial Expires"}),(0,vv.jsx)("span",{className:"font-medium",children:s.toLocaleDateString()})]})]})]})]})]})})]})},UN=VT("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),BN=VT("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),zN=VT("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),HN=VT("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),qN=VT("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),WN=e=>{let{onClose:t,onSwitchToSignup:n,onSwitchToReset:r,isPage:s=!1}=e;const[a,o]=(0,i.useState)({email:"",password:""}),[l,c]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1),[d,f]=(0,i.useState)({}),{login:p,error:m,clearError:g}=wv(),y=ne(),v=e=>{const{name:t,value:n}=e.target;o(e=>Me(Me({},e),{},{[t]:n})),d[t]&&f(e=>Me(Me({},e),{},{[t]:""}))};return(0,vv.jsxs)(IT.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md mx-auto",children:[(0,vv.jsxs)("div",{className:"text-center mb-8",children:[(0,vv.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),(0,vv.jsx)("p",{className:"text-gray-600",children:"Sign in to your POS Pro account"})]}),m&&(0,vv.jsxs)(IT.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-3",children:[(0,vv.jsx)(BN,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),(0,vv.jsx)("p",{className:"text-red-700 text-sm",children:m})]}),(0,vv.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const n=(()=>{const e={};return a.email?/\S+@\S+\.\S+/.test(a.email)||(e.email="Email is invalid"):e.email="Email is required",a.password?a.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",e})();if(Object.keys(n).length>0)f(n);else{h(!0),g();try{await p(a.email,a.password),!s&&t&&t(),y("/dashboard")}catch(m){console.error("Login error:",m)}finally{h(!1)}}},className:"space-y-6",children:[(0,vv.jsxs)("div",{children:[(0,vv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,vv.jsxs)("div",{className:"relative",children:[(0,vv.jsx)(ON,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,vv.jsx)("input",{type:"email",name:"email",value:a.email,onChange:v,className:"w-full pl-10 pr-4 py-3 border-2 rounded-xl focus:outline-none transition-colors ".concat(d.email?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-primary-500"),placeholder:"Enter your email"})]}),d.email&&(0,vv.jsx)(IT.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600",children:d.email})]}),(0,vv.jsxs)("div",{children:[(0,vv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,vv.jsxs)("div",{className:"relative",children:[(0,vv.jsx)(_N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,vv.jsx)("input",{type:l?"text":"password",name:"password",value:a.password,onChange:v,className:"w-full pl-10 pr-12 py-3 border-2 rounded-xl focus:outline-none transition-colors ".concat(d.password?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-primary-500"),placeholder:"Enter your password"}),(0,vv.jsx)("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?(0,vv.jsx)(zN,{className:"w-5 h-5"}):(0,vv.jsx)(HN,{className:"w-5 h-5"})})]}),d.password&&(0,vv.jsx)(IT.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600",children:d.password})]}),(0,vv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,vv.jsxs)("label",{className:"flex items-center",children:[(0,vv.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,vv.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),s?(0,vv.jsx)(Ie,{to:"/reset-password",className:"text-sm text-primary-600 hover:text-primary-500",children:"Forgot password?"}):(0,vv.jsx)("button",{type:"button",onClick:r,className:"text-sm text-primary-600 hover:text-primary-500",children:"Forgot password?"})]}),(0,vv.jsx)(IT.button,{type:"submit",disabled:u,className:"btn btn-primary w-full justify-center",whileHover:{scale:u?1:1.02},whileTap:{scale:u?1:.98},children:u?(0,vv.jsxs)(vv.Fragment,{children:[(0,vv.jsx)(qN,{className:"w-5 h-5 mr-2 animate-spin"}),"Signing In..."]}):"Sign In"})]}),!s&&(0,vv.jsx)("div",{className:"mt-6 text-center",children:(0,vv.jsxs)("p",{className:"text-gray-600",children:["Don't have an account?"," ",(0,vv.jsx)("button",{onClick:n,className:"text-primary-600 hover:text-primary-500 font-medium",children:"Sign up here"})]})})]})},KN=()=>(0,vv.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center p-4",children:[(0,vv.jsx)("div",{className:"absolute inset-0 bg-hero-pattern opacity-5"}),(0,vv.jsxs)("div",{className:"w-full max-w-md relative z-10",children:[(0,vv.jsxs)(IT.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[(0,vv.jsxs)(Ie,{to:"/",className:"inline-flex items-center space-x-2 text-gray-600 hover:text-primary-600 transition-colors mb-6",children:[(0,vv.jsx)(UN,{className:"w-4 h-4"}),(0,vv.jsx)("span",{children:"Back to Home"})]}),(0,vv.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[(0,vv.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-xl",children:(0,vv.jsx)(UT,{className:"w-7 h-7 text-white"})}),(0,vv.jsx)("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"POS Pro"})]})]}),(0,vv.jsx)(IT.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-100",children:(0,vv.jsx)(WN,{onClose:()=>{},onSwitchToSignup:()=>{},onSwitchToReset:()=>{},isPage:!0})}),(0,vv.jsx)(IT.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-center mt-8",children:(0,vv.jsxs)("p",{className:"text-gray-600",children:["Don't have an account?"," ",(0,vv.jsx)(Ie,{to:"/signup",className:"text-primary-600 hover:text-primary-500 font-medium transition-colors",children:"Sign up here"})]})})]})]}),GN=VT("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),QN=e=>{let{onClose:t,onSwitchToLogin:n,isPage:r=!1}=e;const[s,a]=(0,i.useState)({businessName:"",email:"",phone:"",businessType:"",password:"",confirmPassword:""}),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[h,d]=(0,i.useState)(!1),[f,p]=(0,i.useState)({}),{signup:m,error:g,clearError:y}=wv(),v=ne(),b=e=>{const{name:t,value:n}=e.target;a(e=>Me(Me({},e),{},{[t]:n})),f[t]&&p(e=>Me(Me({},e),{},{[t]:""}))};return(0,vv.jsxs)(IT.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md mx-auto",children:[(0,vv.jsxs)("div",{className:"text-center mb-8",children:[(0,vv.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Start Your Free Trial"}),(0,vv.jsx)("p",{className:"text-gray-600",children:"Create your POS Pro account in minutes"})]}),g&&(0,vv.jsxs)(IT.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-3",children:[(0,vv.jsx)(BN,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),(0,vv.jsx)("p",{className:"text-red-700 text-sm",children:g})]}),(0,vv.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const n=(()=>{const e={};return s.businessName||(e.businessName="Business name is required"),s.email?/\S+@\S+\.\S+/.test(s.email)||(e.email="Email is invalid"):e.email="Email is required",s.phone||(e.phone="Phone number is required"),s.businessType||(e.businessType="Business type is required"),s.password?s.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",s.confirmPassword?s.password!==s.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",e})();if(Object.keys(n).length>0)p(n);else{d(!0),y();try{await m(s.email,s.password,{businessName:s.businessName,phone:s.phone,businessType:s.businessType}),!r&&t&&t(),v("/dashboard")}catch(g){console.error("Signup error:",g)}finally{d(!1)}}},className:"space-y-4",children:[(0,vv.jsxs)("div",{children:[(0,vv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),(0,vv.jsxs)("div",{className:"relative",children:[(0,vv.jsx)(GN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,vv.jsx)("input",{type:"text",name:"businessName",value:s.businessName,onChange:b,className:"w-full pl-10 pr-4 py-3 border-2 rounded-xl focus:outline-none transition-colors ".concat(f.businessName?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-primary-500"),placeholder:"Your business name"})]}),f.businessName&&(0,vv.jsx)(IT.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600",children:f.businessName})]}),(0,vv.jsxs)("div",{children:[(0,vv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,vv.jsxs)("div",{className:"relative",children:[(0,vv.jsx)(ON,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,vv.jsx)("input",{type:"email",name:"email",value:s.email,onChange:b,className:"w-full pl-10 pr-4 py-3 border-2 rounded-xl focus:outline-none transition-colors ".concat(f.email?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-primary-500"),placeholder:"your@email.com"})]}),f.email&&(0,vv.jsx)(IT.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600",children:f.email})]}),(0,vv.jsxs)("div",{children:[(0,vv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,vv.jsxs)("div",{className:"relative",children:[(0,vv.jsx)(gN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,vv.jsx)("input",{type:"tel",name:"phone",value:s.phone,onChange:b,className:"w-full pl-10 pr-4 py-3 border-2 rounded-xl focus:outline-none transition-colors ".concat(f.phone?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-primary-500"),placeholder:"(555) 123-4567"})]}),f.phone&&(0,vv.jsx)(IT.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600",children:f.phone})]}),(0,vv.jsxs)("div",{children:[(0,vv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type"}),(0,vv.jsx)("select",{name:"businessType",value:s.businessType,onChange:b,className:"w-full px-4 py-3 border-2 rounded-xl focus:outline-none transition-colors ".concat(f.businessType?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-primary-500"),children:[{value:"",label:"Select Business Type"},{value:"retail",label:"Retail Store"},{value:"restaurant",label:"Restaurant"},{value:"cafe",label:"Caf\xe9/Coffee Shop"},{value:"salon",label:"Salon/Spa"},{value:"pharmacy",label:"Pharmacy"},{value:"grocery",label:"Grocery Store"},{value:"clothing",label:"Clothing Store"},{value:"electronics",label:"Electronics"},{value:"other",label:"Other"}].map(e=>(0,vv.jsx)("option",{value:e.value,children:e.label},e.value))}),f.businessType&&(0,vv.jsx)(IT.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600",children:f.businessType})]}),(0,vv.jsxs)("div",{children:[(0,vv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,vv.jsxs)("div",{className:"relative",children:[(0,vv.jsx)(_N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,vv.jsx)("input",{type:o?"text":"password",name:"password",value:s.password,onChange:b,className:"w-full pl-10 pr-12 py-3 border-2 rounded-xl focus:outline-none transition-colors ".concat(f.password?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-primary-500"),placeholder:"Create a password"}),(0,vv.jsx)("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?(0,vv.jsx)(zN,{className:"w-5 h-5"}):(0,vv.jsx)(HN,{className:"w-5 h-5"})})]}),f.password&&(0,vv.jsx)(IT.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600",children:f.password})]}),(0,vv.jsxs)("div",{children:[(0,vv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),(0,vv.jsxs)("div",{className:"relative",children:[(0,vv.jsx)(_N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,vv.jsx)("input",{type:c?"text":"password",name:"confirmPassword",value:s.confirmPassword,onChange:b,className:"w-full pl-10 pr-12 py-3 border-2 rounded-xl focus:outline-none transition-colors ".concat(f.confirmPassword?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-primary-500"),placeholder:"Confirm your password"}),(0,vv.jsx)("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?(0,vv.jsx)(zN,{className:"w-5 h-5"}):(0,vv.jsx)(HN,{className:"w-5 h-5"})})]}),f.confirmPassword&&(0,vv.jsx)(IT.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600",children:f.confirmPassword})]}),(0,vv.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-green-50 rounded-lg",children:[(0,vv.jsx)(fN,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),(0,vv.jsx)("p",{className:"text-sm text-green-700",children:"30-day free trial \u2022 No credit card required"})]}),(0,vv.jsx)(IT.button,{type:"submit",disabled:h,className:"btn btn-primary w-full justify-center",whileHover:{scale:h?1:1.02},whileTap:{scale:h?1:.98},children:h?(0,vv.jsxs)(vv.Fragment,{children:[(0,vv.jsx)(qN,{className:"w-5 h-5 mr-2 animate-spin"}),"Creating Account..."]}):"Start Free Trial"})]}),!r&&(0,vv.jsx)("div",{className:"mt-6 text-center",children:(0,vv.jsxs)("p",{className:"text-gray-600",children:["Already have an account?"," ",(0,vv.jsx)("button",{onClick:n,className:"text-primary-600 hover:text-primary-500 font-medium",children:"Sign in here"})]})})]})},YN=()=>(0,vv.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center p-4",children:[(0,vv.jsx)("div",{className:"absolute inset-0 bg-hero-pattern opacity-5"}),(0,vv.jsxs)("div",{className:"w-full max-w-md relative z-10",children:[(0,vv.jsxs)(IT.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[(0,vv.jsxs)(Ie,{to:"/",className:"inline-flex items-center space-x-2 text-gray-600 hover:text-primary-600 transition-colors mb-6",children:[(0,vv.jsx)(UN,{className:"w-4 h-4"}),(0,vv.jsx)("span",{children:"Back to Home"})]}),(0,vv.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[(0,vv.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-xl",children:(0,vv.jsx)(UT,{className:"w-7 h-7 text-white"})}),(0,vv.jsx)("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"POS Pro"})]})]}),(0,vv.jsx)(IT.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-100",children:(0,vv.jsx)(QN,{onClose:()=>{},onSwitchToLogin:()=>{},isPage:!0})}),(0,vv.jsx)(IT.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-center mt-8",children:(0,vv.jsxs)("p",{className:"text-gray-600",children:["Already have an account?"," ",(0,vv.jsx)(Ie,{to:"/login",className:"text-primary-600 hover:text-primary-500 font-medium transition-colors",children:"Sign in here"})]})})]})]}),XN=VT("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),$N=()=>{const{currentUser:e}=wv(),t=ne(),n={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return(0,vv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,vv.jsx)(WT,{}),(0,vv.jsx)("section",{className:"pt-24 pb-16 bg-gradient-to-br from-primary-600 via-secondary-600 to-accent-600",children:(0,vv.jsx)("div",{className:"container",children:(0,vv.jsxs)(IT.div,{className:"text-center text-white",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[(0,vv.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Simple, Transparent Pricing"}),(0,vv.jsx)("p",{className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto",children:"Choose the perfect plan for your business. Start free and scale as you grow."})]})})}),(0,vv.jsx)("section",{className:"py-20",children:(0,vv.jsx)("div",{className:"container",children:(0,vv.jsx)(IT.div,{className:"grid lg:grid-cols-3 gap-8 max-w-7xl mx-auto",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.1}}},initial:"hidden",animate:"visible",children:[{name:"Starter",price:"Free",period:"Forever",description:"Perfect for small businesses just getting started",features:["Up to 100 transactions/month","Basic inventory management","Simple reporting","Email support","1 user account"],buttonText:"Get Started",popular:!1,color:"from-gray-600 to-gray-700"},{name:"Professional",price:"$29",period:"per month",description:"Ideal for growing businesses with advanced needs",features:["Unlimited transactions","Advanced inventory management","Detailed analytics & reports","Priority support","Up to 5 user accounts","Multi-location support","Custom receipts","Tax management"],buttonText:"Start Free Trial",popular:!0,color:"from-primary-600 to-secondary-600"},{name:"Enterprise",price:"$99",period:"per month",description:"For large businesses requiring enterprise features",features:["Everything in Professional","Unlimited user accounts","Advanced integrations","Custom branding","24/7 phone support","Dedicated account manager","Custom training","API access"],buttonText:"Contact Sales",popular:!1,color:"from-accent-600 to-purple-600"}].map((r,i)=>(0,vv.jsxs)(IT.div,{variants:n,className:"relative bg-white rounded-2xl shadow-xl overflow-hidden ".concat(r.popular?"ring-4 ring-primary-500 scale-105":""),children:[r.popular&&(0,vv.jsxs)("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-primary-600 to-secondary-600 text-white text-center py-2 text-sm font-semibold",children:[(0,vv.jsx)(wN,{className:"inline w-4 h-4 mr-1"}),"Most Popular"]}),(0,vv.jsxs)("div",{className:"p-8",children:[(0,vv.jsxs)("div",{className:"text-center mb-8",children:[(0,vv.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.name}),(0,vv.jsx)("p",{className:"text-gray-600 mb-4",children:r.description}),(0,vv.jsxs)("div",{className:"mb-4",children:[(0,vv.jsx)("span",{className:"text-5xl font-bold text-gray-900",children:r.price}),"Forever"!==r.period&&(0,vv.jsx)("span",{className:"text-gray-600 ml-2",children:r.period})]})]}),(0,vv.jsx)("ul",{className:"space-y-4 mb-8",children:r.features.map((e,t)=>(0,vv.jsxs)("li",{className:"flex items-center",children:[(0,vv.jsx)(XN,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),(0,vv.jsx)("span",{className:"text-gray-700",children:e})]},t))}),(0,vv.jsxs)(IT.button,{onClick:()=>{t(e?"/dashboard":"/signup")},className:"w-full py-4 px-6 rounded-xl font-semibold text-white bg-gradient-to-r ".concat(r.color," hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center justify-center space-x-2"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,vv.jsx)("span",{children:r.buttonText}),(0,vv.jsx)(KT,{className:"w-4 h-4"})]})]})]},r.name))})})}),(0,vv.jsx)("section",{className:"py-20 bg-white",children:(0,vv.jsxs)("div",{className:"container",children:[(0,vv.jsxs)(IT.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[(0,vv.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Frequently Asked Questions"}),(0,vv.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Got questions? We've got answers."})]}),(0,vv.jsx)("div",{className:"max-w-4xl mx-auto space-y-6",children:[{question:"Can I change my plan anytime?",answer:"Yes! You can upgrade or downgrade your plan at any time. Changes take effect immediately and we'll prorate any billing differences."},{question:"Is there a free trial?",answer:"Yes, we offer a 30-day free trial for all paid plans. No credit card required to get started."},{question:"What payment methods do you accept?",answer:"We accept all major credit cards, PayPal, and bank transfers for enterprise customers."},{question:"Is my data secure?",answer:"Absolutely. We use enterprise-grade security with 256-bit SSL encryption and regular security audits."}].map((e,t)=>(0,vv.jsxs)(IT.div,{className:"bg-gray-50 rounded-xl p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},children:[(0,vv.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.question}),(0,vv.jsx)("p",{className:"text-gray-600",children:e.answer})]},t))})]})}),(0,vv.jsx)(MN,{})]})},JN=VT("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ZN=VT("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),eC=()=>{const e=[{icon:JN,title:"Mission-Driven",description:"We're committed to empowering small businesses with enterprise-grade POS solutions that are simple, affordable, and effective."},{icon:uN,title:"Customer-Centric",description:"Every feature we build starts with understanding our customers' needs. Your success is our success."},{icon:bN,title:"Security First",description:"We prioritize the security of your business data with enterprise-grade encryption and regular security audits."},{icon:ZN,title:"Community Focus",description:"We believe in supporting local businesses and communities by providing tools that help them thrive."}],t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.1}}},n={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return(0,vv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,vv.jsx)(WT,{}),(0,vv.jsx)("section",{className:"pt-24 pb-16 bg-gradient-to-br from-primary-600 via-secondary-600 to-accent-600",children:(0,vv.jsx)("div",{className:"container",children:(0,vv.jsxs)(IT.div,{className:"text-center text-white",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[(0,vv.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"About POS Pro"}),(0,vv.jsx)("p",{className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto",children:"We're on a mission to empower small businesses with powerful, easy-to-use point-of-sale solutions that help them grow and succeed."})]})})}),(0,vv.jsx)("section",{className:"py-20 bg-white",children:(0,vv.jsx)("div",{className:"container",children:(0,vv.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,vv.jsxs)(IT.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[(0,vv.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Our Story"}),(0,vv.jsx)("p",{className:"text-lg text-gray-600 leading-relaxed",children:"Founded in 2020, POS Pro was born from a simple observation: small businesses were struggling with outdated, expensive POS systems that were either too complex or too limited. Our founders, having worked in retail for decades, knew there had to be a better way."})]}),(0,vv.jsxs)(IT.div,{className:"grid md:grid-cols-2 gap-12 items-center",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:[(0,vv.jsxs)("div",{children:[(0,vv.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Why We Started POS Pro"}),(0,vv.jsx)("p",{className:"text-gray-600 mb-6",children:"We witnessed countless small business owners frustrated with their POS systems. They needed something powerful enough to handle their operations but simple enough to use without extensive training."}),(0,vv.jsx)("p",{className:"text-gray-600",children:"That's when we decided to build POS Pro - a solution that combines enterprise-level features with the simplicity that small businesses deserve."})]}),(0,vv.jsx)("div",{className:"relative",children:(0,vv.jsx)("img",{src:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",alt:"Small business owner",className:"rounded-2xl shadow-xl"})})]})]})})}),(0,vv.jsx)("section",{className:"py-20 bg-gray-50",children:(0,vv.jsxs)("div",{className:"container",children:[(0,vv.jsxs)(IT.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[(0,vv.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Our Values"}),(0,vv.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"These core values guide everything we do and every decision we make."})]}),(0,vv.jsx)(IT.div,{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",variants:t,initial:"hidden",animate:"visible",children:e.map((e,t)=>(0,vv.jsxs)(IT.div,{variants:n,className:"text-center bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:[(0,vv.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-2xl mb-6",children:(0,vv.jsx)(e.icon,{className:"w-8 h-8 text-white"})}),(0,vv.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:e.title}),(0,vv.jsx)("p",{className:"text-gray-600",children:e.description})]},t))})]})}),(0,vv.jsx)("section",{className:"py-20 bg-gradient-to-r from-primary-600 to-secondary-600",children:(0,vv.jsx)("div",{className:"container",children:(0,vv.jsx)(IT.div,{className:"grid md:grid-cols-4 gap-8 text-center text-white",variants:t,initial:"hidden",animate:"visible",children:[{number:"10,000+",label:"Happy Customers"},{number:"50M+",label:"Transactions Processed"},{number:"99.9%",label:"Uptime"},{number:"24/7",label:"Support Available"}].map((e,t)=>(0,vv.jsxs)(IT.div,{variants:n,className:"space-y-2",children:[(0,vv.jsx)("div",{className:"text-4xl md:text-5xl font-bold",children:e.number}),(0,vv.jsx)("div",{className:"text-lg text-white/90",children:e.label})]},t))})})}),(0,vv.jsx)("section",{className:"py-20 bg-white",children:(0,vv.jsxs)("div",{className:"container",children:[(0,vv.jsxs)(IT.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[(0,vv.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Meet Our Team"}),(0,vv.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"The passionate people behind POS Pro who are dedicated to your success."})]}),(0,vv.jsx)(IT.div,{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",variants:t,initial:"hidden",animate:"visible",children:[{name:"Sarah Johnson",role:"CEO & Founder",image:"https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=687&q=80",bio:"Former retail executive with 15+ years of experience helping businesses optimize their operations."},{name:"Michael Chen",role:"CTO",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",bio:"Tech veteran with expertise in building scalable, secure systems for the retail industry."},{name:"Emily Rodriguez",role:"Head of Customer Success",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",bio:"Passionate about helping businesses succeed with personalized support and training."}].map((e,t)=>(0,vv.jsxs)(IT.div,{variants:n,className:"text-center bg-gray-50 p-8 rounded-2xl hover:shadow-lg transition-shadow duration-300",children:[(0,vv.jsx)("img",{src:e.image,alt:e.name,className:"w-24 h-24 rounded-full mx-auto mb-6 object-cover"}),(0,vv.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:e.name}),(0,vv.jsx)("p",{className:"text-primary-600 font-semibold mb-4",children:e.role}),(0,vv.jsx)("p",{className:"text-gray-600",children:e.bio})]},t))})]})}),(0,vv.jsx)(MN,{})]})},tC=VT("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),nC=VT("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),rC=()=>{const[e,t]=(0,i.useState)({name:"",email:"",company:"",subject:"",message:""}),[n,r]=(0,i.useState)(!1),s=[{icon:ON,title:"Email Us",details:"support@pospro.com",description:"Send us an email anytime!"},{icon:gN,title:"Call Us",details:"+1 (555) 123-4567",description:"Mon-Fri from 8am to 6pm EST"},{icon:DN,title:"Visit Us",details:"123 Business Ave, Suite 100",description:"New York, NY 10001"},{icon:tC,title:"Business Hours",details:"Mon-Fri: 8am-6pm EST",description:"Weekend support available"}],a=n=>{t(Me(Me({},e),{},{[n.target.name]:n.target.value}))},o={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return(0,vv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,vv.jsx)(WT,{}),(0,vv.jsx)("section",{className:"pt-24 pb-16 bg-gradient-to-br from-primary-600 via-secondary-600 to-accent-600",children:(0,vv.jsx)("div",{className:"container",children:(0,vv.jsxs)(IT.div,{className:"text-center text-white",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[(0,vv.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Get In Touch"}),(0,vv.jsx)("p",{className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto",children:"Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]})})}),(0,vv.jsx)("section",{className:"py-20",children:(0,vv.jsx)("div",{className:"container",children:(0,vv.jsx)(IT.div,{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.1}}},initial:"hidden",animate:"visible",children:s.map((e,t)=>(0,vv.jsxs)(IT.div,{variants:o,className:"text-center bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:[(0,vv.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-2xl mb-6",children:(0,vv.jsx)(e.icon,{className:"w-8 h-8 text-white"})}),(0,vv.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:e.title}),(0,vv.jsx)("p",{className:"text-lg font-semibold text-primary-600 mb-2",children:e.details}),(0,vv.jsx)("p",{className:"text-gray-600",children:e.description})]},t))})})}),(0,vv.jsx)("section",{className:"py-20 bg-white",children:(0,vv.jsx)("div",{className:"container",children:(0,vv.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,vv.jsxs)(IT.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[(0,vv.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Send Us a Message"}),(0,vv.jsx)("p",{className:"text-xl text-gray-600",children:"Fill out the form below and we'll get back to you within 24 hours."})]}),(0,vv.jsx)(IT.div,{className:"bg-gray-50 rounded-2xl p-8 md:p-12",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:n?(0,vv.jsxs)(IT.div,{className:"text-center py-12",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,vv.jsx)(fN,{className:"w-16 h-16 text-green-500 mx-auto mb-6"}),(0,vv.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Message Sent Successfully!"}),(0,vv.jsx)("p",{className:"text-gray-600",children:"Thank you for reaching out. We'll get back to you within 24 hours."})]}):(0,vv.jsxs)("form",{onSubmit:n=>{n.preventDefault(),console.log("Form submitted:",e),r(!0),setTimeout(()=>{r(!1),t({name:"",email:"",company:"",subject:"",message:""})},3e3)},className:"space-y-6",children:[(0,vv.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,vv.jsxs)("div",{children:[(0,vv.jsx)("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Full Name *"}),(0,vv.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:a,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",placeholder:"Enter your full name"})]}),(0,vv.jsxs)("div",{children:[(0,vv.jsx)("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email Address *"}),(0,vv.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:a,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",placeholder:"Enter your email"})]})]}),(0,vv.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,vv.jsxs)("div",{children:[(0,vv.jsx)("label",{htmlFor:"company",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Company Name"}),(0,vv.jsx)("input",{type:"text",id:"company",name:"company",value:e.company,onChange:a,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",placeholder:"Enter your company name"})]}),(0,vv.jsxs)("div",{children:[(0,vv.jsx)("label",{htmlFor:"subject",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Subject *"}),(0,vv.jsxs)("select",{id:"subject",name:"subject",value:e.subject,onChange:a,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[(0,vv.jsx)("option",{value:"",children:"Select a subject"}),(0,vv.jsx)("option",{value:"general",children:"General Inquiry"}),(0,vv.jsx)("option",{value:"support",children:"Technical Support"}),(0,vv.jsx)("option",{value:"sales",children:"Sales Question"}),(0,vv.jsx)("option",{value:"partnership",children:"Partnership"}),(0,vv.jsx)("option",{value:"feedback",children:"Feedback"})]})]})]}),(0,vv.jsxs)("div",{children:[(0,vv.jsx)("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Message *"}),(0,vv.jsx)("textarea",{id:"message",name:"message",value:e.message,onChange:a,required:!0,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 resize-none",placeholder:"Tell us how we can help you..."})]}),(0,vv.jsxs)(IT.button,{type:"submit",className:"w-full bg-gradient-to-r from-primary-600 to-secondary-600 text-white py-4 px-8 rounded-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center justify-center space-x-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,vv.jsx)(nC,{className:"w-5 h-5"}),(0,vv.jsx)("span",{children:"Send Message"})]})]})})]})})}),(0,vv.jsx)("section",{className:"py-20 bg-gray-100",children:(0,vv.jsxs)("div",{className:"container",children:[(0,vv.jsxs)(IT.div,{className:"text-center mb-12",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[(0,vv.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Visit Our Office"}),(0,vv.jsx)("p",{className:"text-xl text-gray-600",children:"We'd love to meet you in person. Drop by our office anytime!"})]}),(0,vv.jsx)(IT.div,{className:"bg-white rounded-2xl overflow-hidden shadow-xl",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:(0,vv.jsx)("div",{className:"aspect-w-16 aspect-h-9 h-96",children:(0,vv.jsx)("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3022.9663095919355!2d-74.00425878459418!3d40.74844097932681!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c259bf5c1654f3%3A0xc80f9cfce5383d5d!2sGoogle!5e0!3m2!1sen!2sus!4v1635959655654!5m2!1sen!2sus",width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Office Location"})})})]})}),(0,vv.jsx)(MN,{})]})},iC=e=>{let{children:t}=e;const{currentUser:n,loading:r}=wv();return r?(0,vv.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,vv.jsxs)(IT.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[(0,vv.jsx)(IT.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block",children:(0,vv.jsx)(qN,{className:"w-12 h-12 text-primary-600"})}),(0,vv.jsx)("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading your dashboard..."})]})}):n?t:(0,vv.jsx)(ye,{to:"/",replace:!0})};const sC=function(){return(0,vv.jsx)(xv,{children:(0,vv.jsx)(Ne,{children:(0,vv.jsx)("div",{className:"App",children:(0,vv.jsxs)(we,{children:[(0,vv.jsx)(ve,{path:"/",element:(0,vv.jsx)(LN,{})}),(0,vv.jsx)(ve,{path:"/pricing",element:(0,vv.jsx)($N,{})}),(0,vv.jsx)(ve,{path:"/about",element:(0,vv.jsx)(eC,{})}),(0,vv.jsx)(ve,{path:"/contact",element:(0,vv.jsx)(rC,{})}),(0,vv.jsx)(ve,{path:"/login",element:(0,vv.jsx)(KN,{})}),(0,vv.jsx)(ve,{path:"/signup",element:(0,vv.jsx)(YN,{})}),(0,vv.jsx)(ve,{path:"/dashboard",element:(0,vv.jsx)(iC,{children:(0,vv.jsx)(VN,{})})})]})})})})};a.createRoot(document.getElementById("root")).render((0,vv.jsx)(i.StrictMode,{children:(0,vv.jsx)(sC,{})}))})();
//# sourceMappingURL=main.e5d0bcfd.js.map